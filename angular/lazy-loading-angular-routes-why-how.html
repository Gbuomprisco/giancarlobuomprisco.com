<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/favicon.png" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="msapplication-TileColor" content="#212121"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#212121"/><meta name="author" content="Giancarlo Buomprisco"/><meta property="og:title" content="Giancarlo Buomprisco"/><meta name="description" content="Giancarlo Buomprisco&#x27;s Website"/><meta property="og:description" content="Giancarlo Buomprisco&#x27;s Website"/><meta property="og:site_name" content="giancarlobuomprisco.com"/><meta property="twitter:title" content="giancarlobuomprisco.com"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:creator" content="@gc_psk"/><title>Lazy-Loading Auxiliary Routes with Angular â€” Why and How</title><meta property="twitter:title" content="Lazy-Loading Auxiliary Routes with Angular â€” Why and How"/><meta property="article:published_time" content="2020-05-07T00:00:00.322Z"/><meta property="og:description" content="Auxiliary Routes can be helpful for both technical and UX reasons: learn why and how to use them with Angular"/><link rel="canonical" href="https://blog.bitsrc.io/lazy-loading-auxiliary-routes-with-angular-why-and-how-9ceb2ddc6cae"/><meta property="og:image" content="https://miro.medium.com/max/1400/1*7pMwQXna1YiDRRiIO5ofXA.jpeg"/><meta name="next-head-count" content="26"/><link rel="preload" href="/_next/static/css/3df96783c3663453.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3df96783c3663453.css" data-n-g=""/><link rel="preload" href="/_next/static/css/47e1b38e6b56773b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/47e1b38e6b56773b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-27593bf8d60abcde.js" defer=""></script><script src="/_next/static/chunks/framework-93dc06fa7fcdddfb.js" defer=""></script><script src="/_next/static/chunks/main-e47b4831833660b7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8ff1c8d9702d8e84.js" defer=""></script><script src="/_next/static/chunks/501-5650b991910e93a7.js" defer=""></script><script src="/_next/static/chunks/137-8e5ff0ac9cb94035.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcollection%5D/%5Bslug%5D-7fe5e68e3bbe0ff9.js" defer=""></script><script src="/_next/static/nuAWLUQiS0rOqLY2Jzec2/_buildManifest.js" defer=""></script><script src="/_next/static/nuAWLUQiS0rOqLY2Jzec2/_ssgManifest.js" defer=""></script><script src="/_next/static/nuAWLUQiS0rOqLY2Jzec2/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div><main><div style="--from:#dd00316e;--to:#e23236" class="collection-branding-bar_gradient__1Ie5x"></div><div class="container mx-auto px-5"><div class="flex-row flex justify-between items-center my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div class="justify-end lg:hidden flex"><button aria-label="Open Menu" class="navbar-burger" type="button"><span class="block relative w-7 rounded-sm bg-black h-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span></button></div><ul class="lg:space-x-8 px-4 hidden flex-col space-y-4 lg:space-y-0 lg:flex lg:flex-row nav"><li class="flex flex-row justify-between mb-6 lg:hidden"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div class="flex justify-end"><span class="rounded bg-gray-50 shadow-lg p-4">Close</span></div></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/blog">Blog</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/articles">Articles</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/about">About</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/contact">Contact me</a></li></ul></div><article class="mb-16" style="--accent:#e23236;--accent-light:#dd00316e"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter md:leading-none mb-8 text-center">Lazy-Loading Auxiliary Routes with Angular â€” Why and How</h1><div class="mb-4 flex justify-center"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:18px;height:18px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div><div class="max-w-2xl mx-auto mb-6"><div class="flex flex-row space-x-2 items-center justify-center"><div class="flex flex-row space-x-3 items-center"><a target="_blank" rel="noreferrer noopened" href="https://twitter.com/@gc_psk"><img width="45px" height="45px" src="/assets/giancarlo-2.png"/></a><a class="text-xs text-gray-600" target="_blank" rel="noreferrer noopened" href="https://twitter.com/@gc_psk">@gc_psk</a></div><span class="text-gray-600">Â·</span><div class="text-sm text-center text-gray-600"><time dateTime="2020-05-07T00:00:00.322Z">May	7, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600 text-sm">7 min read</span></div></div><div class="mb-8 md:mb-16 sm:mx-0"><div class="mx-auto w-12/12 lg:w-10/12 xl:w-8/12 justify-center"><div class="sm:mx-0"><img style="width:100%;height:auto" class="shadow-small block" src="https://miro.medium.com/max/1400/1*7pMwQXna1YiDRRiIO5ofXA.jpeg" alt="Cover Image for Lazy-Loading Auxiliary Routes with Angular â€” Why and How" loading="lazy"/></div></div></div><div class="mb-12 max-w-2xl mx-auto"></div><div class="max-w-2xl mx-auto leading-loose markdown-styles_markdown__1x9gM"><p>This post was originally published, by myself, on the <a href="https://blog.bitsrc.io" target="_blank" rel="noopener noreferrer">Bit</a> blog</p><p>Auxiliary Routes are independent, secondary routes that can be added to a page along with a primary route. As an example, we can have a side-menu that lives within the primary route with its own <code>router-outlet</code>: thatâ€™s an auxiliary route.</p><h2>Why are Auxiliary Routes useful?</h2><p>Why would you want to add auxiliary routes to your application? Well â€” I would argue there are two good reasons for doing it: auxiliary routes are helpful for both technical and User Experience reasons:</p><ul><li><p>In terms of UX, we use them for providing our users the ability to access or toggle portions of the page via the URL. That means you can link your applicationâ€™s users to deep parts of your application with a simple URL, without them having to click anywhere</p></li><li><p>In technical terms, we can also reduce the initial loading time by lazy loading the routes in the same way as we would do with normal full-page routes</p></li></ul><p>Auxiliary Routes can provide two non-trivial improvements to your application â€” and hereâ€™s even further good news: the Angular Router makes working with them a breeze. Letâ€™s learn how! ðŸš€</p><h2>How do we create an Auxiliary Route?</h2><p>Creating an auxiliary route works in the same way as creating normal routes, with one difference: to create an auxiliary route, we need to assign a name to the <code>router-outlet </code> element that will host its contents.</p><p>That means:</p><ul><li>a router-outlet without a name will render the primary route matched by the URL</li><li>a router-outlet with a name assigned will match and host auxiliary routes</li></ul><h2>Authentication Popup as an Auxiliary Route</h2><p>One of the most classic uses of auxiliary routes is creating popups that are also accessible via URL.</p><p>For example, I would argue that redirecting users directly to a login popup rather than prompting them to click a button makes for a much better UX. But at the same time, if the login was not requested â€” why load it?</p><p>While there may be good reasons for doing it beforehand, which we will explore later on, in some cases you simply want to download <strong>only the strictly required amount of code</strong> your users need to be able to use your app.</p><h3>Creating a new Library</h3><p>I assume you have already created an Angular project with the CLI.</p><p>I am a huge fan of Angular libraries â€” and as such, I always recommend to create a separate library (be it within a monorepo or not) if you have a fair amount of code that you can share and reuse between multiple applications.</p><p>So â€” the first thing we do is to create a new library auth using the CLI:</p><div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">ng generate library auth</code></pre></div><p><a href="https://github.com/Gbuomprisco/ng-auxiliary-routes" target="_blank" rel="noopener noreferrer">The full source code of the application can be found on GitHub.</a></p><h3>Creating the Sign In and Sign up Modules</h3><p>Next, we will be creating two modules: <code>sign-in</code> and <code>sign-up</code>.</p><p>The main module <code>AuthModule</code> created with the library will simply be used as a routing wapper to these two sub-modules. Of course, they will be lazy-loaded.</p><p>Assume we have generated the two modules with the CLI: what we need to do is to provide the routing needed to load their route component:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">// sign in module</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>SignInComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
    imports<span class="token operator">:</span> <span class="token punctuation">[</span>
        CommonModule<span class="token punctuation">,</span>
        SignInRoutingModule
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SignInModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token comment">// sign in routing module</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    imports<span class="token operator">:</span> <span class="token punctuation">[</span>
        RouterModule<span class="token punctuation">.</span><span class="token function">forChild</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
            path<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> SignInComponent
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    exports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SignInRoutingModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>The process for <code>SignUpModule</code> is the same, so weâ€™ll skip it.</p><p>Below, we define the two routes and we lazy load them using <code>loadChildren</code>:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> routes<span class="token operator">:</span> Route<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    component<span class="token operator">:</span> AuthComponent<span class="token punctuation">,</span>
    path<span class="token operator">:</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#x27;sign-in&#x27;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">loadChildren</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./sign-in/sign-in.module&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span>SignInModule<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#x27;sign-up&#x27;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">loadChildren</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;./sign-up/sign-up.module&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span>SignUpModule<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&#x27;**&#x27;</span><span class="token punctuation">,</span>
        redirectTo<span class="token operator">:</span> <span class="token string">&#x27;sign-in&#x27;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    RouterModule<span class="token punctuation">.</span><span class="token function">forChild</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AuthRoutingModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>As we have mentioned, <code>AuthModule</code> and its component <code>AuthComponent</code> are simply wrappers around our two sub-routes.</p><p>This is what <code>AuthComponent</code> looks like:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">&#x27;auth&#x27;</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"></span>
<span class="token string">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span>
<span class="token string">  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AuthComponent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>Our Libraryâ€™s routing is done! Certainly, our components are still empty, but we will get back to them later on.</p><h2>Wiring app the application with the Auth library</h2><p>The first thing we need to do is to create a new router-outlet in the App componentâ€™s template:</p><div class="remark-highlight"><pre class="language-html"><code class="language-html">// Primary Routing outlet
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>

// Dialog Routing outlet
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-outlet</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-outlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Now that we have created a secondary router outlet, we can define the routes that will be injected into it.</p><p>Letâ€™s open the <code>app.routing.module</code> file and add a new route in which we will instantiate the new routing library:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> authRoute <span class="token operator">=</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">&#x27;auth&#x27;</span><span class="token punctuation">,</span>
  outlet<span class="token operator">:</span> <span class="token string">&#x27;dialog&#x27;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">loadChildren</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;@auth&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span>AuthModule<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> routes<span class="token operator">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  authRoute<span class="token punctuation">,</span>
  <span class="token comment">// other routes</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">NgModule</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  exports<span class="token operator">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppRoutingModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>As you can see above, thanks to the <code>loadChildren</code> function, we can lazy load the module <code>AuthModule</code> and the Angular routing will automatically import the bundled scripts for that module alone.</p><p>Itâ€™s important to notice that we have added the property outlet to the routing configuration, which refers to the name of the router outlet we defined in the template in the previous step.</p><h3>Navigating to Auxiliary Routes</h3><p>Navigating to auxiliary routes is also possible is the directive routerLink. Check out below how to navigate to the routes we have just built:</p><div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> 
  <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ outlets: { dialog: [<span class="token punctuation">&#x27;</span>auth<span class="token punctuation">&#x27;</span>, <span class="token punctuation">&#x27;</span>sign-in<span class="token punctuation">&#x27;</span>] } }]<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  Sign In
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> 
  <span class="token attr-name">[routerLink]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{ outlets: { dialog: [<span class="token punctuation">&#x27;</span>auth<span class="token punctuation">&#x27;</span>, <span class="token punctuation">&#x27;</span>sign-up<span class="token punctuation">&#x27;</span>] } }]<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  Sign Up
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2>Creating the Sign In and Sign Up Components</h2><p>Itâ€™s now time to create the components for signing in and up into your application.</p><p>We will use Angular Materialâ€™s Dialog module to display the data as a dialog:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">&#x27;sign-in&#x27;</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"></span>
<span class="token string">    &lt;ng-template #dialog&gt;</span>
<span class="token string">      &lt;div mat-dialog-title&gt;</span>
<span class="token string">        Sign In</span>
<span class="token string">      &lt;/div&gt;</span>
<span class="token string"></span>
<span class="token string">      &lt;div mat-dialog-content&gt;</span>
<span class="token string">        &lt;div&gt;</span>
<span class="token string">          &lt;mat-form-field appearance=&quot;outline&quot;&gt;</span>
<span class="token string">            &lt;input type=&quot;email&quot; placeholder=&quot;Email&quot; matInput /&gt;</span>
<span class="token string">          &lt;/mat-form-field&gt;</span>
<span class="token string">        &lt;/div&gt;</span>
<span class="token string"></span>
<span class="token string">        &lt;div&gt;</span>
<span class="token string">          &lt;mat-form-field appearance=&quot;outline&quot;&gt;</span>
<span class="token string">            &lt;input type=&quot;password&quot; placeholder=&quot;Password&quot; matInput /&gt;</span>
<span class="token string">          &lt;/mat-form-field&gt;</span>
<span class="token string">        &lt;/div&gt;</span>
<span class="token string">      &lt;/div&gt;</span>
<span class="token string"></span>
<span class="token string">      &lt;div mat-dialog-actions&gt;</span>
<span class="token string">        &lt;button mat-flat-button color=&quot;primary&quot;&gt;</span>
<span class="token string">          Sign In</span>
<span class="token string">        &lt;/button&gt;</span>
<span class="token string">      &lt;/div&gt;</span>
<span class="token string">    &lt;/ng-template&gt;</span>
<span class="token string">  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;./sign-in.component.css&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  changeDetection<span class="token operator">:</span> ChangeDetectionStrategy<span class="token punctuation">.</span>OnPush
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SignInComponent</span> <span class="token keyword">implements</span> <span class="token class-name">AfterViewInit</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChild</span></span><span class="token punctuation">(</span><span class="token string">&#x27;dialog&#x27;</span><span class="token punctuation">)</span> template<span class="token operator">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
      <span class="token keyword">private</span> dialog<span class="token operator">:</span> MatDialog
  <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">&#x27;350px&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3>The dialog is closed, but the URL is still the same!</h3><p>This is a common problem: if the dialog gets closed, the context of being in a certain route should also reset â€” but those are not actually connected in any way.</p><p>That means, we need to handle this situation manually: wee subscribe to the event when the dialog is closed, and then we navigate to the previous route</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>template<span class="token punctuation">,</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">&#x27;350px&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  ref<span class="token punctuation">.</span><span class="token function">afterClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>It gets a little bit more complex when you do not know in which route you currently are: in that case, you can strip the auxiliary route from the current primary route and navigate there. </p><p>The code below should work in most situations:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> urlWithoutAuxiliaryRoute <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>router
  <span class="token punctuation">.</span><span class="token function">createUrlTree</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#x27;.&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> relativeTo<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>route <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>root<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token constant">PRIMARY_OUTLET</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>router<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>urlWithoutAuxiliaryRoute<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3>Letâ€™s see it in action!</h3><p>Here is a preview of what weâ€™ve achieved: try to pay particular attention to the Network tab and see that the bundles are downloaded as I click on the button!</p><p><img src="https://miro.medium.com/max/2000/1*_pbpk3nf1I8IJZjXyzzXxA.gif" alt="Demo" loading="lazy"/></p><h2>This is great. But can we do better?</h2><p>The answer is yes! The Angular router allows strategies to preload certain modules. You can choose to pre-load all the modules OR, better, you can use <code>ngx-quicklink</code>.</p><p>This library will intelligently pre-load the routes that are currently visible in your page, and will only do so if the web page is idle and a link that points t the route is currently visible within the viewport. </p><p>As soon as the route becomes visible, the library will start fetching the bundles so that they will be readily available to execute.</p><p>Adding NgxQuicklink is extremely easy:</p><ul><li>First, we import the module</li><li>Then, we add the strategy to the main routing configuration</li></ul><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript">RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>routes<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  preloadingStrategy<span class="token operator">:</span> QuicklinkStrategy
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Remember to also add the module to the lazy-loaded routes!</p><h2>Final Words</h2><p>As you have seen, lazy loading auxiliary routes is a feature easily enabled by the Angular Router that allows us to ship much better applications both from a UX and a technical perspective.</p><p>The techniques described above can be applied to a multitude of use cases: think about all the popups in your applications that are not currently auxiliary route: how much more lightweight would your application be if they were all lazy-loaded as auxiliary routes? And how great would it be if you could create links to deeper parts of your application?</p><p>Iâ€™m sure you know the answers ðŸ˜‰</p><p><a href="https://github.com/Gbuomprisco/ng-auxiliary-routes" target="_blank" rel="noopener noreferrer">The source code can be found on GitHub</a></p><p>If you need any clarifications, or if you think something is unclear or wrong, do please leave a comment!</p></div></article><div class="max-w-2xl mx-auto"></div><div class="w-full md:w-8/12 mx-auto my-4"><script async="" data-uid="3e3126f064" src="https://thoughtful-inventor-7842.ck.page/3e3126f064/index.js"></script></div><div><hr class="border-accent-2 mt-16 mb-14"/><h3 class="text-2xl md:text-3xl text-center font-semibold my-4 md:my-12 flex flex-row space-x-4 items-center justify-center"><span>More Posts for</span> <div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:28px;height:28px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></h3><section><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-x-12 lg:gap-x-16 gap-y-20 md:gap-y-24 mb-32"><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Benchmarking Angular 12 with Webpack 5" href="/angular/webpack-5-angular12"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/benchmarking-webpack-5.webp" alt="Cover Image for Benchmarking Angular 12 with Webpack 5" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/webpack-5-angular12">Benchmarking Angular 12 with Webpack 5</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2021-05-14T00:00:00.322Z">May	14, 2021</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">2 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Principles for creating libraries with Nx and Angular" href="/angular/how-to-organize-nx-modules-with-angular"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/organize-nx-modules-ngrx.webp" alt="Cover Image for Principles for creating libraries with Nx and Angular" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/how-to-organize-nx-modules-with-angular">Principles for creating libraries with Nx and Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2021-02-07T00:00:00.322Z">February	7, 2021</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">5 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Where to put your Angular models?" href="/angular/angular-where-to-put-models"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/where-put-angular-models.webp" alt="Cover Image for Where to put your Angular models?" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/angular-where-to-put-models">Where to put your Angular models?</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2020-08-03T00:00:00.322Z">August	3, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Using the Intersection Observer API with Angular" href="/angular/intersection-observer-with-angular"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/intersection-observer.webp" alt="Cover Image for Using the Intersection Observer API with Angular" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/intersection-observer-with-angular">Using the Intersection Observer API with Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2020-08-01T00:00:00.322Z">August	1, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">5 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Setters vs ngOnChanges: which one is better?" href="/angular/setters-vs-ng-on-changes"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/setters-vs-on-changes.webp" alt="Cover Image for Setters vs ngOnChanges: which one is better?" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/setters-vs-ng-on-changes">Setters vs ngOnChanges: which one is better?</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2020-07-30T00:00:00.322Z">July	30, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Listening to Input changes can be done in different ways. But which one should you use?</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Async Rendering with a single Rx Operator" href="/angular/async-rendering-with-a-single-rx-operator"><img style="width:100%;height:auto" class="shadow-small block hover:shadow-medium transition-shadow duration-200" src="/assets/images/posts/async-rendering.webp" alt="Cover Image for Async Rendering with a single Rx Operator" loading="lazy"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/async-rendering-with-a-single-rx-operator">Async Rendering with a single Rx Operator</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2020-07-11T00:00:00.322Z">July	11, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Increase your app rendering performance with this simple Rx operator</p></div></div></section></div></div></main></div><footer><div class="container mx-auto px-5"><hr class="border-accent-2 mt-16 mb-14"/><div class="flex-row flex justify-between items-center my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div class="justify-end lg:hidden flex"><button aria-label="Open Menu" class="navbar-burger" type="button"><span class="block relative w-7 rounded-sm bg-black h-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span></button></div><ul class="lg:space-x-8 px-4 hidden flex-col space-y-4 lg:space-y-0 lg:flex lg:flex-row nav"><li class="flex flex-row justify-between mb-6 lg:hidden"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div class="flex justify-end"><span class="rounded bg-gray-50 shadow-lg p-4">Close</span></div></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/blog">Blog</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/articles">Articles</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/about">About</a></li><li class="active:text-black text-lg lg:text-base text-gray-800 hover:text-gray-900 font-medium hover:underline"><a class="block" href="/contact">Contact me</a></li></ul></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"live":true,"readingTime":"7 min read","title":"Lazy-Loading Auxiliary Routes with Angular â€” Why and How","date":"2020-05-07T00:00:00.322Z","slug":"lazy-loading-angular-routes-why-how","coverImage":"https://miro.medium.com/max/1400/1*7pMwQXna1YiDRRiIO5ofXA.jpeg","collection":"angular","excerpt":"Auxiliary Routes can be helpful for both technical and UX reasons: learn why and how to use them with Angular","content":"\nThis post was originally published, by myself, on the [Bit](https://blog.bitsrc.io) blog\n\nAuxiliary Routes are independent, secondary routes that can be added to a page along with a primary route. As an example, we can have a side-menu that lives within the primary route with its own `router-outlet`: thatâ€™s an auxiliary route.\n\n## Why are Auxiliary Routes useful?\n\nWhy would you want to add auxiliary routes to your application? Well â€” I would argue there are two good reasons for doing it: auxiliary routes are helpful for both technical and User Experience reasons:\n\n- In terms of UX, we use them for providing our users the ability to access or toggle portions of the page via the URL. That means you can link your applicationâ€™s users to deep parts of your application with a simple URL, without them having to click anywhere\n\n- In technical terms, we can also reduce the initial loading time by lazy loading the routes in the same way as we would do with normal full-page routes\n\nAuxiliary Routes can provide two non-trivial improvements to your application â€” and hereâ€™s even further good news: the Angular Router makes working with them a breeze. Letâ€™s learn how! ðŸš€\n\n## How do we create an Auxiliary Route?\n\nCreating an auxiliary route works in the same way as creating normal routes, with one difference: to create an auxiliary route, we need to assign a name to the `router-outlet ` element that will host its contents.\n\nThat means:\n- a router-outlet without a name will render the primary route matched by the URL\n- a router-outlet with a name assigned will match and host auxiliary routes\n\n## Authentication Popup as an Auxiliary Route\n\nOne of the most classic uses of auxiliary routes is creating popups that are also accessible via URL.\n\nFor example, I would argue that redirecting users directly to a login popup rather than prompting them to click a button makes for a much better UX. But at the same time, if the login was not requested â€” why load it?\n\nWhile there may be good reasons for doing it beforehand, which we will explore later on, in some cases you simply want to download **only the strictly required amount of code** your users need to be able to use your app.\n\n### Creating a new Library\n\nI assume you have already created an Angular project with the CLI.\n\nI am a huge fan of Angular libraries â€” and as such, I always recommend to create a separate library (be it within a monorepo or not) if you have a fair amount of code that you can share and reuse between multiple applications.\n\nSo â€” the first thing we do is to create a new library auth using the CLI:\n\n```\nng generate library auth\n```\n\n[The full source code of the application can be found on GitHub.](https://github.com/Gbuomprisco/ng-auxiliary-routes)\n\n### Creating the Sign In and Sign up Modules\n\nNext, we will be creating two modules: `sign-in` and `sign-up`.\n\nThe main module `AuthModule` created with the library will simply be used as a routing wapper to these two sub-modules. Of course, they will be lazy-loaded.\n\nAssume we have generated the two modules with the CLI: what we need to do is to provide the routing needed to load their route component:\n\n```typescript\n// sign in module\n\n@NgModule({\n  declarations: [SignInComponent],\n    imports: [\n        CommonModule,\n        SignInRoutingModule\n    ]\n})\nexport class SignInModule { }\n\n// sign in routing module\n@NgModule({\n    imports: [\n        RouterModule.forChild([{\n            path: '',\n            component: SignInComponent\n        }])\n    ],\n    exports: [RouterModule]\n})\nexport class SignInRoutingModule {}\n```\n\nThe process for `SignUpModule` is the same, so weâ€™ll skip it.\n\nBelow, we define the two routes and we lazy load them using `loadChildren`:\n\n```typescript\nconst routes: Route[] = [\n  {\n    component: AuthComponent,\n    path: '',\n    children: [\n      {\n        path: 'sign-in',\n        loadChildren: () =\u003e import('./sign-in/sign-in.module').then(m =\u003e m.SignInModule)\n      },\n      {\n        path: 'sign-up',\n        loadChildren: () =\u003e import('./sign-up/sign-up.module').then(m =\u003e m.SignUpModule)\n      },\n      {\n        path: '**',\n        redirectTo: 'sign-in'\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class AuthRoutingModule { }\n```\n\nAs we have mentioned, `AuthModule` and its component `AuthComponent` are simply wrappers around our two sub-routes.\n\nThis is what `AuthComponent` looks like:\n\n```typescript\n@Component({\n  selector: 'auth',\n  template: `\n    \u003crouter-outlet\u003e\u003c/router-outlet\u003e\n  `\n})\nexport class AuthComponent {}\n```\n\nOur Libraryâ€™s routing is done! Certainly, our components are still empty, but we will get back to them later on.\n\n## Wiring app the application with the Auth library\n\nThe first thing we need to do is to create a new router-outlet in the App componentâ€™s template:\n\n```html\n// Primary Routing outlet\n\u003crouter-outlet\u003e\u003c/router-outlet\u003e\n\n// Dialog Routing outlet\n\u003crouter-outlet name=\"dialog\"\u003e\u003c/router-outlet\u003e\n```\n\nNow that we have created a secondary router outlet, we can define the routes that will be injected into it.\n\nLetâ€™s open the `app.routing.module` file and add a new route in which we will instantiate the new routing library:\n\n```typescript\nconst authRoute = {\n  path: 'auth',\n  outlet: 'dialog',\n  loadChildren: () =\u003e import('@auth').then(m =\u003e m.AuthModule)\n};\n\nconst routes: Routes = [\n  authRoute,\n  // other routes\n];\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n```\n\nAs you can see above, thanks to the `loadChildren` function, we can lazy load the module `AuthModule` and the Angular routing will automatically import the bundled scripts for that module alone.\n\nItâ€™s important to notice that we have added the property outlet to the routing configuration, which refers to the name of the router outlet we defined in the template in the previous step.\n\n\n### Navigating to Auxiliary Routes\nNavigating to auxiliary routes is also possible is the directive routerLink. Check out below how to navigate to the routes we have just built:\n\n```html\n\u003cbutton \n  [routerLink]=\"[{ outlets: { dialog: ['auth', 'sign-in'] } }]\"\n\u003e\n  Sign In\n\u003c/button\u003e\n\n\u003cbutton \n  [routerLink]=\"[{ outlets: { dialog: ['auth', 'sign-up'] } }]\"\n\u003e\n  Sign Up\n\u003c/button\u003e\n```\n\n## Creating the Sign In and Sign Up Components\n\nItâ€™s now time to create the components for signing in and up into your application.\n\nWe will use Angular Materialâ€™s Dialog module to display the data as a dialog:\n\n```typescript\n@Component({\n  selector: 'sign-in',\n  template: `\n    \u003cng-template #dialog\u003e\n      \u003cdiv mat-dialog-title\u003e\n        Sign In\n      \u003c/div\u003e\n\n      \u003cdiv mat-dialog-content\u003e\n        \u003cdiv\u003e\n          \u003cmat-form-field appearance=\"outline\"\u003e\n            \u003cinput type=\"email\" placeholder=\"Email\" matInput /\u003e\n          \u003c/mat-form-field\u003e\n        \u003c/div\u003e\n\n        \u003cdiv\u003e\n          \u003cmat-form-field appearance=\"outline\"\u003e\n            \u003cinput type=\"password\" placeholder=\"Password\" matInput /\u003e\n          \u003c/mat-form-field\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n\n      \u003cdiv mat-dialog-actions\u003e\n        \u003cbutton mat-flat-button color=\"primary\"\u003e\n          Sign In\n        \u003c/button\u003e\n      \u003c/div\u003e\n    \u003c/ng-template\u003e\n  `,\n  styleUrls: ['./sign-in.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SignInComponent implements AfterViewInit {\n  @ViewChild('dialog') template: TemplateRef\u003cany\u003e;\n\n  constructor(\n      private dialog: MatDialog\n  ) { }\n\n  ngAfterViewInit() {\n    this.dialog.open(this.template, { width: '350px' });\n  }\n}\n```\n\n### The dialog is closed, but the URL is still the same!\nThis is a common problem: if the dialog gets closed, the context of being in a certain route should also reset â€” but those are not actually connected in any way.\n\nThat means, we need to handle this situation manually: wee subscribe to the event when the dialog is closed, and then we navigate to the previous route\n\n```typescript\nngAfterViewInit() {\n  const ref = this.dialog.open(this.template, { width: '350px'});\n\n  ref.afterClosed().subscribe(() =\u003e {\n    this.router.navigate(['']);\n  });\n}\n```\n\nIt gets a little bit more complex when you do not know in which route you currently are: in that case, you can strip the auxiliary route from the current primary route and navigate there. \n\nThe code below should work in most situations:\n\n```typescript\nconst urlWithoutAuxiliaryRoute = this.router\n  .createUrlTree(['.'], { relativeTo: this.route })\n  .root.children[PRIMARY_OUTLET].toString();\n\nthis.router.navigate([urlWithoutAuxiliaryRoute]);\n```\n\n### Letâ€™s see it in action!\n\nHere is a preview of what weâ€™ve achieved: try to pay particular attention to the Network tab and see that the bundles are downloaded as I click on the button!\n\n![Demo](https://miro.medium.com/max/2000/1*_pbpk3nf1I8IJZjXyzzXxA.gif)\n\n## This is great. But can we do better?\nThe answer is yes! The Angular router allows strategies to preload certain modules. You can choose to pre-load all the modules OR, better, you can use `ngx-quicklink`.\n\nThis library will intelligently pre-load the routes that are currently visible in your page, and will only do so if the web page is idle and a link that points t the route is currently visible within the viewport. \n\nAs soon as the route becomes visible, the library will start fetching the bundles so that they will be readily available to execute.\n\nAdding NgxQuicklink is extremely easy:\n\n- First, we import the module\n- Then, we add the strategy to the main routing configuration\n\n```typescript\nRouterModule.forRoot(routes, {\n  preloadingStrategy: QuicklinkStrategy\n})\n```\n\nRemember to also add the module to the lazy-loaded routes!\n\n## Final Words\nAs you have seen, lazy loading auxiliary routes is a feature easily enabled by the Angular Router that allows us to ship much better applications both from a UX and a technical perspective.\n\nThe techniques described above can be applied to a multitude of use cases: think about all the popups in your applications that are not currently auxiliary route: how much more lightweight would your application be if they were all lazy-loaded as auxiliary routes? And how great would it be if you could create links to deeper parts of your application?\n\nIâ€™m sure you know the answers ðŸ˜‰\n\n[The source code can be found on GitHub](https://github.com/Gbuomprisco/ng-auxiliary-routes)\n\nIf you need any clarifications, or if you think something is unclear or wrong, do please leave a comment!\n\n","canonical":"https://blog.bitsrc.io/lazy-loading-auxiliary-routes-with-angular-why-and-how-9ceb2ddc6cae"},"content":{"compiledSource":"var N=Object.defineProperty,l=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,t)=\u003en in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=\u003e{for(var t in n||(n={}))o.call(n,t)\u0026\u0026r(e,t,n[t]);if(p)for(var t of p(n))c.call(n,t)\u0026\u0026r(e,t,n[t]);return e},m=(e,n)=\u003el(e,u(n));var i=(e,n)=\u003e{var t={};for(var s in e)o.call(e,s)\u0026\u0026n.indexOf(s)\u003c0\u0026\u0026(t[s]=e[s]);if(e!=null\u0026\u0026p)for(var s of p(e))n.indexOf(s)\u003c0\u0026\u0026c.call(e,s)\u0026\u0026(t[s]=e[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:e}=s,n=i(s,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"This post was originally published, by myself, on the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://blog.bitsrc.io\"}),\"Bit\"),\" blog\"),mdx(\"p\",null,\"Auxiliary Routes are independent, secondary routes that can be added to a page along with a primary route. As an example, we can have a side-menu that lives within the primary route with its own \",mdx(\"inlineCode\",{parentName:\"p\"},\"router-outlet\"),\": that\\u2019s an auxiliary route.\"),mdx(\"h2\",null,\"Why are Auxiliary Routes useful?\"),mdx(\"p\",null,\"Why would you want to add auxiliary routes to your application? Well \\u2014 I would argue there are two good reasons for doing it: auxiliary routes are helpful for both technical and User Experience reasons:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"In terms of UX, we use them for providing our users the ability to access or toggle portions of the page via the URL. That means you can link your application\\u2019s users to deep parts of your application with a simple URL, without them having to click anywhere\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"In technical terms, we can also reduce the initial loading time by lazy loading the routes in the same way as we would do with normal full-page routes\"))),mdx(\"p\",null,\"Auxiliary Routes can provide two non-trivial improvements to your application \\u2014 and here\\u2019s even further good news: the Angular Router makes working with them a breeze. Let\\u2019s learn how! \\u{1F680}\"),mdx(\"h2\",null,\"How do we create an Auxiliary Route?\"),mdx(\"p\",null,\"Creating an auxiliary route works in the same way as creating normal routes, with one difference: to create an auxiliary route, we need to assign a name to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"router-outlet \"),\" element that will host its contents.\"),mdx(\"p\",null,\"That means:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"a router-outlet without a name will render the primary route matched by the URL\"),mdx(\"li\",{parentName:\"ul\"},\"a router-outlet with a name assigned will match and host auxiliary routes\")),mdx(\"h2\",null,\"Authentication Popup as an Auxiliary Route\"),mdx(\"p\",null,\"One of the most classic uses of auxiliary routes is creating popups that are also accessible via URL.\"),mdx(\"p\",null,\"For example, I would argue that redirecting users directly to a login popup rather than prompting them to click a button makes for a much better UX. But at the same time, if the login was not requested \\u2014 why load it?\"),mdx(\"p\",null,\"While there may be good reasons for doing it beforehand, which we will explore later on, in some cases you simply want to download \",mdx(\"strong\",{parentName:\"p\"},\"only the strictly required amount of code\"),\" your users need to be able to use your app.\"),mdx(\"h3\",null,\"Creating a new Library\"),mdx(\"p\",null,\"I assume you have already created an Angular project with the CLI.\"),mdx(\"p\",null,\"I am a huge fan of Angular libraries \\u2014 and as such, I always recommend to create a separate library (be it within a monorepo or not) if you have a fair amount of code that you can share and reuse between multiple applications.\"),mdx(\"p\",null,\"So \\u2014 the first thing we do is to create a new library auth using the CLI:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),\"ng generate library auth\"))),mdx(\"p\",null,mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/Gbuomprisco/ng-auxiliary-routes\"}),\"The full source code of the application can be found on GitHub.\")),mdx(\"h3\",null,\"Creating the Sign In and Sign up Modules\"),mdx(\"p\",null,\"Next, we will be creating two modules: \",mdx(\"inlineCode\",{parentName:\"p\"},\"sign-in\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"sign-up\"),\".\"),mdx(\"p\",null,\"The main module \",mdx(\"inlineCode\",{parentName:\"p\"},\"AuthModule\"),\" created with the library will simply be used as a routing wapper to these two sub-modules. Of course, they will be lazy-loaded.\"),mdx(\"p\",null,\"Assume we have generated the two modules with the CLI: what we need to do is to provide the routing needed to load their route component:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// sign in module\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  declarations`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"SignInComponent\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    imports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n        CommonModule`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        SignInRoutingModule\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"SignInModule\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// sign in routing module\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    imports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n        RouterModule`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"forChild\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n            path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"''\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            component`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` SignInComponent\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    exports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"SignInRoutingModule\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"The process for \",mdx(\"inlineCode\",{parentName:\"p\"},\"SignUpModule\"),\" is the same, so we\\u2019ll skip it.\"),mdx(\"p\",null,\"Below, we define the two routes and we lazy load them using \",mdx(\"inlineCode\",{parentName:\"p\"},\"loadChildren\"),\":\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" routes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Route\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    component`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" AuthComponent\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"''\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    children`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'sign-in'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function-variable function\"}),\"loadChildren\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'./sign-in/sign-in.module'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"then\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"m \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" m\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"SignInModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'sign-up'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function-variable function\"}),\"loadChildren\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'./sign-up/sign-up.module'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"then\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"m \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" m\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"SignUpModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'**'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        redirectTo`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'sign-in'\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  imports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n    RouterModule`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"forChild\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"routes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  exports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AuthRoutingModule\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"As we have mentioned, \",mdx(\"inlineCode\",{parentName:\"p\"},\"AuthModule\"),\" and its component \",mdx(\"inlineCode\",{parentName:\"p\"},\"AuthComponent\"),\" are simply wrappers around our two sub-routes.\"),mdx(\"p\",null,\"This is what \",mdx(\"inlineCode\",{parentName:\"p\"},\"AuthComponent\"),\" looks like:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"Component\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  selector`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'auth'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  template`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"})),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"    \u003crouter-outlet\u003e\u003c/router-outlet\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"  \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AuthComponent\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Our Library\\u2019s routing is done! Certainly, our components are still empty, but we will get back to them later on.\"),mdx(\"h2\",null,\"Wiring app the application with the Auth library\"),mdx(\"p\",null,\"The first thing we need to do is to create a new router-outlet in the App component\\u2019s template:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),`// Primary Routing outlet\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c\"),\"router-outlet\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c/\"),\"router-outlet\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n\n// Dialog Routing outlet\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c\"),\"router-outlet\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"name\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"dialog\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c/\"),\"router-outlet\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n`))),mdx(\"p\",null,\"Now that we have created a secondary router outlet, we can define the routes that will be injected into it.\"),mdx(\"p\",null,\"Let\\u2019s open the \",mdx(\"inlineCode\",{parentName:\"p\"},\"app.routing.module\"),\" file and add a new route in which we will instantiate the new routing library:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" authRoute \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  path`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'auth'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  outlet`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'dialog'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function-variable function\"}),\"loadChildren\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'@auth'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"then\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"m \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" m\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"AuthModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" routes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Routes \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n  authRoute`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// other routes\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  imports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"forRoot\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"routes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  exports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AppRoutingModule\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"As you can see above, thanks to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"loadChildren\"),\" function, we can lazy load the module \",mdx(\"inlineCode\",{parentName:\"p\"},\"AuthModule\"),\" and the Angular routing will automatically import the bundled scripts for that module alone.\"),mdx(\"p\",null,\"It\\u2019s important to notice that we have added the property outlet to the routing configuration, which refers to the name of the router outlet we defined in the template in the previous step.\"),mdx(\"h3\",null,\"Navigating to Auxiliary Routes\"),mdx(\"p\",null,\"Navigating to auxiliary routes is also possible is the directive routerLink. Check out below how to navigate to the routes we have just built:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c\"),\"button\"),` \n  `,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[routerLink]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"[{ outlets: { dialog: [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"auth\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"sign-in\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"] } }]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n  Sign In\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c/\"),\"button\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c\"),\"button\"),` \n  `,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[routerLink]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"[{ outlets: { dialog: [\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"auth\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\", \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"sign-up\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"] } }]\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n  Sign Up\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003c/\"),\"button\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"\u003e\")),`\n`))),mdx(\"h2\",null,\"Creating the Sign In and Sign Up Components\"),mdx(\"p\",null,\"It\\u2019s now time to create the components for signing in and up into your application.\"),mdx(\"p\",null,\"We will use Angular Material\\u2019s Dialog module to display the data as a dialog:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"Component\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  selector`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'sign-in'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  template`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token template-string\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"})),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"    \u003cng-template #dialog\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003cdiv mat-dialog-title\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        Sign In\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003c/div\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"})),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003cdiv mat-dialog-content\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        \u003cdiv\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'          \u003cmat-form-field appearance=\"outline\"\u003e'),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'            \u003cinput type=\"email\" placeholder=\"Email\" matInput /\u003e'),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"          \u003c/mat-form-field\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        \u003c/div\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"})),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        \u003cdiv\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'          \u003cmat-form-field appearance=\"outline\"\u003e'),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'            \u003cinput type=\"password\" placeholder=\"Password\" matInput /\u003e'),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"          \u003c/mat-form-field\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        \u003c/div\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003c/div\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"})),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003cdiv mat-dialog-actions\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),'        \u003cbutton mat-flat-button color=\"primary\"\u003e'),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"          Sign In\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"        \u003c/button\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"      \u003c/div\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"    \u003c/ng-template\u003e\"),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token string\"}),\"  \"),mdx(\"span\",a({parentName:\"span\"},{className:\"token template-punctuation string\"}),\"`\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  styleUrls`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'./sign-in.component.css'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  changeDetection`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" ChangeDetectionStrategy\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),`OnPush\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"SignInComponent\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"implements\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AfterViewInit\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"ViewChild\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'dialog'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" TemplateRef\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" dialog\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` MatDialog\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"ngAfterViewInit\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"dialog\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"open\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" width\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'350px'\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"h3\",null,\"The dialog is closed, but the URL is still the same!\"),mdx(\"p\",null,\"This is a common problem: if the dialog gets closed, the context of being in a certain route should also reset \\u2014 but those are not actually connected in any way.\"),mdx(\"p\",null,\"That means, we need to handle this situation manually: wee subscribe to the event when the dialog is closed, and then we navigate to the previous route\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"ngAfterViewInit\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" ref \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"dialog\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"open\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" width\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'350px'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n  ref`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"afterClosed\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"subscribe\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"router\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"navigate\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"''\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"It gets a little bit more complex when you do not know in which route you currently are: in that case, you can strip the auxiliary route from the current primary route and navigate there. \"),mdx(\"p\",null,\"The code below should work in most situations:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" urlWithoutAuxiliaryRoute \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),`router\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createUrlTree\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'.'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" relativeTo\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"route \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"root\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"children\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"PRIMARY_OUTLET\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"toString\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"router\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"navigate\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"urlWithoutAuxiliaryRoute\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"h3\",null,\"Let\\u2019s see it in action!\"),mdx(\"p\",null,\"Here is a preview of what we\\u2019ve achieved: try to pay particular attention to the Network tab and see that the bundles are downloaded as I click on the button!\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://miro.medium.com/max/2000/1*_pbpk3nf1I8IJZjXyzzXxA.gif\",alt:\"Demo\"}))),mdx(\"h2\",null,\"This is great. But can we do better?\"),mdx(\"p\",null,\"The answer is yes! The Angular router allows strategies to preload certain modules. You can choose to pre-load all the modules OR, better, you can use \",mdx(\"inlineCode\",{parentName:\"p\"},\"ngx-quicklink\"),\".\"),mdx(\"p\",null,\"This library will intelligently pre-load the routes that are currently visible in your page, and will only do so if the web page is idle and a link that points t the route is currently visible within the viewport. \"),mdx(\"p\",null,\"As soon as the route becomes visible, the library will start fetching the bundles so that they will be readily available to execute.\"),mdx(\"p\",null,\"Adding NgxQuicklink is extremely easy:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"First, we import the module\"),mdx(\"li\",{parentName:\"ul\"},\"Then, we add the strategy to the main routing configuration\")),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),\"RouterModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"forRoot\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"routes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  preloadingStrategy`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` QuicklinkStrategy\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`))),mdx(\"p\",null,\"Remember to also add the module to the lazy-loaded routes!\"),mdx(\"h2\",null,\"Final Words\"),mdx(\"p\",null,\"As you have seen, lazy loading auxiliary routes is a feature easily enabled by the Angular Router that allows us to ship much better applications both from a UX and a technical perspective.\"),mdx(\"p\",null,\"The techniques described above can be applied to a multitude of use cases: think about all the popups in your applications that are not currently auxiliary route: how much more lightweight would your application be if they were all lazy-loaded as auxiliary routes? And how great would it be if you could create links to deeper parts of your application?\"),mdx(\"p\",null,\"I\\u2019m sure you know the answers \\u{1F609}\"),mdx(\"p\",null,mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/Gbuomprisco/ng-auxiliary-routes\"}),\"The source code can be found on GitHub\")),mdx(\"p\",null,\"If you need any clarifications, or if you think something is unclear or wrong, do please leave a comment!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"series":[],"morePosts":[],"moreArticles":[{"live":true,"readingTime":"2 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.webp","collection":"angular","excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version","tags":["angular"]},{"live":true,"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.webp","collection":"angular","excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations","tags":["nx","angular"]},{"live":true,"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.webp","collection":"angular","excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for","tags":["angular","architecture"]},{"live":true,"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.webp","collection":"angular","excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page","tags":["angular","performance"]},{"live":true,"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"setters-vs-ng-on-changes","coverImage":"/assets/images/posts/setters-vs-on-changes.webp","collection":"angular","excerpt":"Listening to Input changes can be done in different ways. But which one should you use?","tags":["angular"]},{"live":true,"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"async-rendering-with-a-single-rx-operator","coverImage":"/assets/images/posts/async-rendering.webp","collection":"angular","excerpt":"Increase your app rendering performance with this simple Rx operator","tags":["angular","rxjs"]}],"type":1},"__N_SSG":true},"page":"/[collection]/[slug]","query":{"collection":"angular","slug":"lazy-loading-angular-routes-why-how"},"buildId":"nuAWLUQiS0rOqLY2Jzec2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>