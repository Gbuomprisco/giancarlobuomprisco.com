<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&amp;family=Merriweather:wght@300;400;700&amp;display=swap"/><link rel="canonical" href="https:/giancarlobuomprisco.com/angular/state-management-with-ngrx-introduction"/><meta name="theme-color" content="#212121"/><meta name="author" content="Giancarlo Buomprisco"/><meta property="og:site_name" content="giancarlobuomprisco.com"/><meta property="twitter:title" content="giancarlobuomprisco.com"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:creator" content="@gc_psk"/><title>State Management with NgRx: Introduction</title><meta property="og:type" content="article"/><meta property="og:title" content="State Management with NgRx: Introduction"/><meta property="article:published_time" content="2019-05-02T00:00:00.322Z"/><meta property="og:description" content="An Introduction to the NGRX platform â€” Concepts, Best Practices, and Tips"/><meta name="description" content="An Introduction to the NGRX platform â€” Concepts, Best Practices, and Tips"/><meta property="og:image" content="/assets/images/posts/stae-managemen-with-ngrx.png"/><meta name="next-head-count" content="25"/><link rel="preload" href="/_next/static/css/ca035581f771f1f9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ca035581f771f1f9.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8f13728f022eafb8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8f13728f022eafb8.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-27593bf8d60abcde.js" defer=""></script><script src="/_next/static/chunks/framework-93dc06fa7fcdddfb.js" defer=""></script><script src="/_next/static/chunks/main-e47b4831833660b7.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8ff1c8d9702d8e84.js" defer=""></script><script src="/_next/static/chunks/333-125230afaa13fbfc.js" defer=""></script><script src="/_next/static/chunks/39-24c14ce17a0291be.js" defer=""></script><script src="/_next/static/chunks/289-ce4880a4c975bc7e.js" defer=""></script><script src="/_next/static/chunks/412-90428ce63dba54e6.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcollection%5D/%5Bslug%5D-5fc84b16222df0e0.js" defer=""></script><script src="/_next/static/FQhTPXnsX8o_rksgjvqhb/_buildManifest.js" defer=""></script><script src="/_next/static/FQhTPXnsX8o_rksgjvqhb/_ssgManifest.js" defer=""></script><script src="/_next/static/FQhTPXnsX8o_rksgjvqhb/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div><main><div style="--from:#dd00316e;--to:#e23236" class="collection-branding-bar_gradient__1Ie5x"></div><div class="container mx-auto px-5"><div class="flex-row flex justify-between items-center my-6 md:my-8"><a class="hover:underline" href="/"><svg width="100" height="60" viewBox="0 0 735 313" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M104.913 105.5C100.913 108.7 96.1133 112.2 90.5133 116C85.1133 119.8 79.4133 123.6 73.4133 127.4C67.6133 131.2 62.0133 134.8 56.6133 138.2C51.2133 141.6 46.6133 144.4 42.8133 146.6C46.6133 148.8 51.2133 151.6 56.6133 155C62.0133 158.4 67.6133 162 73.4133 165.8C79.4133 169.6 85.1133 173.5 90.5133 177.5C96.1133 181.3 100.913 184.7 104.913 187.7C108.313 190.5 111.313 193.2 113.913 195.8C116.713 198.2 118.113 201.1 118.113 204.5C118.113 207.5 117.013 210.3 114.813 212.9C113.413 214.3 112.013 215.4 110.613 216.2C109.213 217 107.613 217.4 105.813 217.4C104.013 217.4 101.813 216.9 99.2133 215.9C96.6133 214.7 93.3133 212.8 89.3133 210.2C76.7133 202.4 65.5133 195.6 55.7133 189.8C45.9133 183.8 37.6133 178.4 30.8133 173.6C24.2133 168.8 19.1133 164.3 15.5133 160.1C12.1133 155.7 10.4133 151.2 10.4133 146.6C10.4133 142 12.1133 137.6 15.5133 133.4C18.9133 129.2 23.9133 124.7 30.5133 119.9C37.3133 114.9 45.6133 109.5 55.4133 103.7C65.2133 97.7 76.5133 90.8 89.3133 83C93.3133 80.4 96.6133 78.6 99.2133 77.6C101.813 76.4 104.013 75.8 105.813 75.8C107.613 75.8 109.213 76.2 110.613 77C112.013 77.8 113.413 78.9 114.813 80.3C117.013 82.9 118.113 85.7 118.113 88.7C118.113 92.1 116.713 95.1 113.913 97.7C111.313 100.1 108.313 102.7 104.913 105.5ZM229.734 44.6C236.334 44.6 243.134 45.2 250.134 46.4C257.134 47.6 263.534 49.4 269.334 51.8C275.134 54 279.934 56.8 283.734 60.2C287.534 63.6 289.434 67.5 289.434 71.9C289.434 76.5 288.234 80 285.834 82.4C283.434 84.8 280.434 86 276.834 86C273.434 86 270.234 85.4 267.234 84.2C264.434 83 261.234 81.7 257.634 80.3C254.034 78.9 249.734 77.6 244.734 76.4C239.734 75.2 233.434 74.6 225.834 74.6C217.434 74.6 209.534 76.6 202.134 80.6C194.934 84.4 188.534 89.8 182.934 96.8C177.334 103.6 172.934 111.7 169.734 121.1C166.534 130.5 164.934 140.7 164.934 151.7C164.934 165.1 166.634 176.7 170.034 186.5C173.434 196.3 177.834 204.4 183.234 210.8C188.834 217.2 195.034 222 201.834 225.2C208.834 228.2 215.834 229.7 222.834 229.7C234.234 229.7 243.234 228.1 249.834 224.9C256.634 221.5 262.034 217.2 266.034 212C266.234 207.8 266.334 202.8 266.334 197C266.334 191.2 266.334 184.9 266.334 178.1C266.334 175.5 266.134 173.5 265.734 172.1C265.334 170.5 264.334 169.3 262.734 168.5C261.134 167.7 258.734 167.2 255.534 167C252.534 166.8 248.434 166.7 243.234 166.7C236.834 166.7 231.634 165.9 227.634 164.3C223.634 162.5 221.634 158.8 221.634 153.2C221.634 149.2 222.634 146 224.634 143.6C226.834 141 231.234 139.5 237.834 139.1C239.034 139.1 240.934 139.1 243.534 139.1C246.334 138.9 249.234 138.8 252.234 138.8C255.434 138.8 258.534 138.8 261.534 138.8C264.534 138.8 266.934 138.8 268.734 138.8C274.734 138.8 279.534 139.4 283.134 140.6C286.734 141.6 289.934 144 292.734 147.8C294.134 149.8 294.934 153.3 295.134 158.3C295.534 163.3 295.734 169.1 295.734 175.7V253.1C295.734 258.5 294.234 262.5 291.234 265.1C288.434 267.7 285.134 269 281.334 269C276.734 269 272.934 267.8 269.934 265.4C267.134 263.2 265.734 259.6 265.734 254.6V242.9C260.534 248.9 254.334 253.2 247.134 255.8C240.134 258.4 231.234 259.7 220.434 259.7C209.434 259.7 198.634 257.5 188.034 253.1C177.434 248.7 168.034 242.2 159.834 233.6C151.634 224.8 144.934 213.9 139.734 200.9C134.734 187.7 132.234 172.4 132.234 155C132.234 137.6 134.734 122.1 139.734 108.5C144.934 94.9 151.934 83.4 160.734 74C169.534 64.4 179.834 57.1 191.634 52.1C203.434 47.1 216.134 44.6 229.734 44.6ZM361.964 60.8C361.964 72.8 361.564 85.4 360.764 98.6C360.164 111.6 359.364 124.3 358.364 136.7C360.964 131.3 364.364 126.7 368.564 122.9C372.764 118.9 377.364 115.7 382.364 113.3C387.564 110.9 392.964 109.1 398.564 107.9C404.164 106.7 409.564 106.1 414.764 106.1C423.764 106.1 432.164 107.8 439.964 111.2C447.964 114.4 454.864 119.2 460.664 125.6C466.664 131.8 471.264 139.6 474.464 149C477.864 158.2 479.564 168.8 479.564 180.8C479.564 192.4 477.864 203 474.464 212.6C471.064 222.2 465.964 230.5 459.164 237.5C452.564 244.3 444.264 249.6 434.264 253.4C424.464 257.2 413.164 259.1 400.364 259.1C382.964 259.1 369.264 255.6 359.264 248.6C349.464 241.6 342.164 232.3 337.364 220.7C332.564 208.9 329.564 195.4 328.364 180.2C327.364 165 326.864 149.1 326.864 132.5C326.864 115.7 327.164 100.5 327.764 86.9C328.364 73.3 329.264 62.3 330.464 53.9C331.664 46.3 333.664 40.9 336.464 37.7C339.264 34.5 342.964 32.9 347.564 32.9C350.964 32.9 353.664 33.7 355.664 35.3C357.664 36.7 359.064 38.7 359.864 41.3C360.864 43.9 361.464 46.9 361.664 50.3C361.864 53.5 361.964 57 361.964 60.8ZM406.364 135.8C400.564 135.8 394.964 136.8 389.564 138.8C384.364 140.6 379.664 143.5 375.464 147.5C371.464 151.5 368.264 156.6 365.864 162.8C363.464 168.8 362.264 176.1 362.264 184.7C362.264 199.9 365.964 211.5 373.364 219.5C380.964 227.3 391.064 231.2 403.664 231.2C408.864 231.2 414.164 230.5 419.564 229.1C424.964 227.5 429.864 224.9 434.264 221.3C438.664 217.5 442.264 212.5 445.064 206.3C447.864 200.1 449.264 192.4 449.264 183.2C449.264 175 448.064 167.9 445.664 161.9C443.464 155.9 440.364 151 436.364 147.2C432.364 143.2 427.764 140.3 422.564 138.5C417.364 136.7 411.964 135.8 406.364 135.8ZM508.61 238.7C511.01 230.7 513.81 221.4 517.01 210.8C520.21 200 523.71 188.4 527.51 176C531.51 163.4 535.71 150.2 540.11 136.4C544.71 122.6 549.31 108.5 553.91 94.1C557.91 81.9 561.41 71.3 564.41 62.3C567.61 53.1 570.51 45.6 573.11 39.8C575.91 34 578.51 29.7 580.91 26.9C583.51 23.9 586.31 22.4 589.31 22.4C592.31 22.4 595.01 23.4 597.41 25.4C600.01 27.4 601.31 30.5 601.31 34.7C601.31 36.1 601.21 37.6 601.01 39.2C600.81 40.8 600.41 42.7 599.81 44.9C590.41 78.1 580.21 111.7 569.21 145.7C558.21 179.5 546.51 213.2 534.11 246.8C531.71 253.2 529.41 257.5 527.21 259.7C525.01 261.9 522.81 263 520.61 263C517.01 263 513.81 262 511.01 260C508.21 258 506.81 254.7 506.81 250.1C506.81 247.3 507.41 243.5 508.61 238.7ZM624.199 105.5C620.799 102.7 617.699 100.1 614.899 97.7C612.299 95.1 610.999 92.1 610.999 88.7C610.999 85.7 612.099 82.9 614.299 80.3C615.699 78.9 617.099 77.8 618.499 77C619.899 76.2 621.499 75.8 623.299 75.8C625.099 75.8 627.299 76.4 629.899 77.6C632.499 78.6 635.799 80.4 639.799 83C652.599 90.8 663.899 97.7 673.699 103.7C683.499 109.5 691.699 114.9 698.299 119.9C705.099 124.7 710.199 129.2 713.599 133.4C716.999 137.6 718.699 142 718.699 146.6C718.699 151.2 716.899 155.7 713.299 160.1C709.899 164.3 704.799 168.8 697.999 173.6C691.399 178.4 683.199 183.8 673.399 189.8C663.599 195.6 652.399 202.4 639.799 210.2C635.799 212.8 632.499 214.7 629.899 215.9C627.299 216.9 625.099 217.4 623.299 217.4C621.499 217.4 619.899 217 618.499 216.2C617.099 215.4 615.699 214.3 614.299 212.9C612.099 210.3 610.999 207.5 610.999 204.5C610.999 201.1 612.299 198.2 614.899 195.8C617.699 193.2 620.799 190.5 624.199 187.7C627.999 184.7 632.699 181.3 638.299 177.5C643.899 173.5 649.599 169.6 655.399 165.8C661.199 162 666.799 158.4 672.199 155C677.799 151.6 682.499 148.8 686.299 146.6C682.499 144.4 677.799 141.6 672.199 138.2C666.799 134.8 661.199 131.2 655.399 127.4C649.599 123.6 643.899 119.8 638.299 116C632.699 112.2 627.999 108.7 624.199 105.5Z" fill="#111827"></path></svg></a><div class="justify-end lg:hidden flex"><button aria-label="Open Menu" class="navbar-burger" type="button"><span class="block relative w-7 rounded-sm bg-black h-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span></button></div><ul class="lg:space-x-8 px-4 hidden flex-col space-y-4 lg:space-y-0 lg:flex lg:flex-row nav"><li class="flex flex-row justify-between pt-4 mb-6 lg:hidden"><div><a class="hover:underline" href="/"><svg width="100" height="60" viewBox="0 0 735 313" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M104.913 105.5C100.913 108.7 96.1133 112.2 90.5133 116C85.1133 119.8 79.4133 123.6 73.4133 127.4C67.6133 131.2 62.0133 134.8 56.6133 138.2C51.2133 141.6 46.6133 144.4 42.8133 146.6C46.6133 148.8 51.2133 151.6 56.6133 155C62.0133 158.4 67.6133 162 73.4133 165.8C79.4133 169.6 85.1133 173.5 90.5133 177.5C96.1133 181.3 100.913 184.7 104.913 187.7C108.313 190.5 111.313 193.2 113.913 195.8C116.713 198.2 118.113 201.1 118.113 204.5C118.113 207.5 117.013 210.3 114.813 212.9C113.413 214.3 112.013 215.4 110.613 216.2C109.213 217 107.613 217.4 105.813 217.4C104.013 217.4 101.813 216.9 99.2133 215.9C96.6133 214.7 93.3133 212.8 89.3133 210.2C76.7133 202.4 65.5133 195.6 55.7133 189.8C45.9133 183.8 37.6133 178.4 30.8133 173.6C24.2133 168.8 19.1133 164.3 15.5133 160.1C12.1133 155.7 10.4133 151.2 10.4133 146.6C10.4133 142 12.1133 137.6 15.5133 133.4C18.9133 129.2 23.9133 124.7 30.5133 119.9C37.3133 114.9 45.6133 109.5 55.4133 103.7C65.2133 97.7 76.5133 90.8 89.3133 83C93.3133 80.4 96.6133 78.6 99.2133 77.6C101.813 76.4 104.013 75.8 105.813 75.8C107.613 75.8 109.213 76.2 110.613 77C112.013 77.8 113.413 78.9 114.813 80.3C117.013 82.9 118.113 85.7 118.113 88.7C118.113 92.1 116.713 95.1 113.913 97.7C111.313 100.1 108.313 102.7 104.913 105.5ZM229.734 44.6C236.334 44.6 243.134 45.2 250.134 46.4C257.134 47.6 263.534 49.4 269.334 51.8C275.134 54 279.934 56.8 283.734 60.2C287.534 63.6 289.434 67.5 289.434 71.9C289.434 76.5 288.234 80 285.834 82.4C283.434 84.8 280.434 86 276.834 86C273.434 86 270.234 85.4 267.234 84.2C264.434 83 261.234 81.7 257.634 80.3C254.034 78.9 249.734 77.6 244.734 76.4C239.734 75.2 233.434 74.6 225.834 74.6C217.434 74.6 209.534 76.6 202.134 80.6C194.934 84.4 188.534 89.8 182.934 96.8C177.334 103.6 172.934 111.7 169.734 121.1C166.534 130.5 164.934 140.7 164.934 151.7C164.934 165.1 166.634 176.7 170.034 186.5C173.434 196.3 177.834 204.4 183.234 210.8C188.834 217.2 195.034 222 201.834 225.2C208.834 228.2 215.834 229.7 222.834 229.7C234.234 229.7 243.234 228.1 249.834 224.9C256.634 221.5 262.034 217.2 266.034 212C266.234 207.8 266.334 202.8 266.334 197C266.334 191.2 266.334 184.9 266.334 178.1C266.334 175.5 266.134 173.5 265.734 172.1C265.334 170.5 264.334 169.3 262.734 168.5C261.134 167.7 258.734 167.2 255.534 167C252.534 166.8 248.434 166.7 243.234 166.7C236.834 166.7 231.634 165.9 227.634 164.3C223.634 162.5 221.634 158.8 221.634 153.2C221.634 149.2 222.634 146 224.634 143.6C226.834 141 231.234 139.5 237.834 139.1C239.034 139.1 240.934 139.1 243.534 139.1C246.334 138.9 249.234 138.8 252.234 138.8C255.434 138.8 258.534 138.8 261.534 138.8C264.534 138.8 266.934 138.8 268.734 138.8C274.734 138.8 279.534 139.4 283.134 140.6C286.734 141.6 289.934 144 292.734 147.8C294.134 149.8 294.934 153.3 295.134 158.3C295.534 163.3 295.734 169.1 295.734 175.7V253.1C295.734 258.5 294.234 262.5 291.234 265.1C288.434 267.7 285.134 269 281.334 269C276.734 269 272.934 267.8 269.934 265.4C267.134 263.2 265.734 259.6 265.734 254.6V242.9C260.534 248.9 254.334 253.2 247.134 255.8C240.134 258.4 231.234 259.7 220.434 259.7C209.434 259.7 198.634 257.5 188.034 253.1C177.434 248.7 168.034 242.2 159.834 233.6C151.634 224.8 144.934 213.9 139.734 200.9C134.734 187.7 132.234 172.4 132.234 155C132.234 137.6 134.734 122.1 139.734 108.5C144.934 94.9 151.934 83.4 160.734 74C169.534 64.4 179.834 57.1 191.634 52.1C203.434 47.1 216.134 44.6 229.734 44.6ZM361.964 60.8C361.964 72.8 361.564 85.4 360.764 98.6C360.164 111.6 359.364 124.3 358.364 136.7C360.964 131.3 364.364 126.7 368.564 122.9C372.764 118.9 377.364 115.7 382.364 113.3C387.564 110.9 392.964 109.1 398.564 107.9C404.164 106.7 409.564 106.1 414.764 106.1C423.764 106.1 432.164 107.8 439.964 111.2C447.964 114.4 454.864 119.2 460.664 125.6C466.664 131.8 471.264 139.6 474.464 149C477.864 158.2 479.564 168.8 479.564 180.8C479.564 192.4 477.864 203 474.464 212.6C471.064 222.2 465.964 230.5 459.164 237.5C452.564 244.3 444.264 249.6 434.264 253.4C424.464 257.2 413.164 259.1 400.364 259.1C382.964 259.1 369.264 255.6 359.264 248.6C349.464 241.6 342.164 232.3 337.364 220.7C332.564 208.9 329.564 195.4 328.364 180.2C327.364 165 326.864 149.1 326.864 132.5C326.864 115.7 327.164 100.5 327.764 86.9C328.364 73.3 329.264 62.3 330.464 53.9C331.664 46.3 333.664 40.9 336.464 37.7C339.264 34.5 342.964 32.9 347.564 32.9C350.964 32.9 353.664 33.7 355.664 35.3C357.664 36.7 359.064 38.7 359.864 41.3C360.864 43.9 361.464 46.9 361.664 50.3C361.864 53.5 361.964 57 361.964 60.8ZM406.364 135.8C400.564 135.8 394.964 136.8 389.564 138.8C384.364 140.6 379.664 143.5 375.464 147.5C371.464 151.5 368.264 156.6 365.864 162.8C363.464 168.8 362.264 176.1 362.264 184.7C362.264 199.9 365.964 211.5 373.364 219.5C380.964 227.3 391.064 231.2 403.664 231.2C408.864 231.2 414.164 230.5 419.564 229.1C424.964 227.5 429.864 224.9 434.264 221.3C438.664 217.5 442.264 212.5 445.064 206.3C447.864 200.1 449.264 192.4 449.264 183.2C449.264 175 448.064 167.9 445.664 161.9C443.464 155.9 440.364 151 436.364 147.2C432.364 143.2 427.764 140.3 422.564 138.5C417.364 136.7 411.964 135.8 406.364 135.8ZM508.61 238.7C511.01 230.7 513.81 221.4 517.01 210.8C520.21 200 523.71 188.4 527.51 176C531.51 163.4 535.71 150.2 540.11 136.4C544.71 122.6 549.31 108.5 553.91 94.1C557.91 81.9 561.41 71.3 564.41 62.3C567.61 53.1 570.51 45.6 573.11 39.8C575.91 34 578.51 29.7 580.91 26.9C583.51 23.9 586.31 22.4 589.31 22.4C592.31 22.4 595.01 23.4 597.41 25.4C600.01 27.4 601.31 30.5 601.31 34.7C601.31 36.1 601.21 37.6 601.01 39.2C600.81 40.8 600.41 42.7 599.81 44.9C590.41 78.1 580.21 111.7 569.21 145.7C558.21 179.5 546.51 213.2 534.11 246.8C531.71 253.2 529.41 257.5 527.21 259.7C525.01 261.9 522.81 263 520.61 263C517.01 263 513.81 262 511.01 260C508.21 258 506.81 254.7 506.81 250.1C506.81 247.3 507.41 243.5 508.61 238.7ZM624.199 105.5C620.799 102.7 617.699 100.1 614.899 97.7C612.299 95.1 610.999 92.1 610.999 88.7C610.999 85.7 612.099 82.9 614.299 80.3C615.699 78.9 617.099 77.8 618.499 77C619.899 76.2 621.499 75.8 623.299 75.8C625.099 75.8 627.299 76.4 629.899 77.6C632.499 78.6 635.799 80.4 639.799 83C652.599 90.8 663.899 97.7 673.699 103.7C683.499 109.5 691.699 114.9 698.299 119.9C705.099 124.7 710.199 129.2 713.599 133.4C716.999 137.6 718.699 142 718.699 146.6C718.699 151.2 716.899 155.7 713.299 160.1C709.899 164.3 704.799 168.8 697.999 173.6C691.399 178.4 683.199 183.8 673.399 189.8C663.599 195.6 652.399 202.4 639.799 210.2C635.799 212.8 632.499 214.7 629.899 215.9C627.299 216.9 625.099 217.4 623.299 217.4C621.499 217.4 619.899 217 618.499 216.2C617.099 215.4 615.699 214.3 614.299 212.9C612.099 210.3 610.999 207.5 610.999 204.5C610.999 201.1 612.299 198.2 614.899 195.8C617.699 193.2 620.799 190.5 624.199 187.7C627.999 184.7 632.699 181.3 638.299 177.5C643.899 173.5 649.599 169.6 655.399 165.8C661.199 162 666.799 158.4 672.199 155C677.799 151.6 682.499 148.8 686.299 146.6C682.499 144.4 677.799 141.6 672.199 138.2C666.799 134.8 661.199 131.2 655.399 127.4C649.599 123.6 643.899 119.8 638.299 116C632.699 112.2 627.999 108.7 624.199 105.5Z" fill="#111827"></path></svg></a></div><div class="flex justify-end"><span class="bg-gray-100 font-bold text-sm rounded-full shadow-xl flex items-center justify-center w-16 h-16">Close</span></div></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/blog">Blog</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/articles">Articles</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/consulting">Consulting</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/about">About</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/contact">Contact me</a></li></ul></div><article class="mb-16" style="--accent:#e23236;--accent-light:#e23236;--accent-contrast:#ffffff"><h1 class="text-4xl md:text-5xl lg:text-6xl font-bold tracking-tighter mb-2 text-center" style="color:#e23236;line-height:1.2">State Management with NgRx</h1><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter md:leading-none mb-8 text-center">Introduction</h1><div class="mb-6 flex space-x-3 items-center justify-center"><div style="--backgroundColor:#e23236;--color:#ffffff" class="text-center flex flex-row space-x-1 items-center cursor-pointer justify-center px-2 py-1 rounded hover:shadow-md transition-shadow font-bold tag_Tag__tPe2P"><a class="flex flex-row space-x-1 items-center justify-center" href="/angular"><img class="object-contain" loading="lazy" style="width:22px;height:22px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></a></div><div style="--backgroundColor:#eee" class="text-center flex flex-row space-x-1 items-center cursor-pointer justify-center px-2 py-1 rounded hover:shadow-md transition-shadow font-bold tag_Tag__tPe2P"><a href="/tags/ngrx">ngrx</a></div></div><div class="max-w-2xl mx-auto mb-6"><div class="flex flex-row space-x-2 items-center justify-center"><div class="flex flex-row space-x-3 items-center"><a target="_blank" rel="noreferrer noopened" href="https://twitter.com/@gc_psk"><img width="45px" height="45px" src="/assets/giancarlo-2.png"/></a><a class="text-sm text-gray-600" target="_blank" rel="noreferrer noopened" href="https://twitter.com/@gc_psk">@gc_psk</a></div><span class="text-gray-600">Â·</span><div class="text-sm text-center text-gray-600"><time dateTime="2019-05-02T00:00:00.322Z">May 2, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600 text-sm">9 min read</span></div></div><div class="mb-8 md:mb-16 sm:mx-0"><div class="mx-auto w-12/12 lg:w-10/12 xl:w-8/12 justify-center"><div class="sm:mx-0"><img style="width:100%;height:auto" class="block shadow-xl rounded-md" src="/assets/images/posts/stae-managemen-with-ngrx.png" alt="Cover Image for Introduction" loading="lazy"/></div></div></div><div class="mb-12 max-w-2xl mx-auto"><div class="mx-auto flex flex-col"><h3 class="font-medium text-lg md:text-2xl mb-4"><b class="font-bold">State Management with NgRx<!-- --> (<!-- -->4<!-- --> Part Series)</b></h3><div class="flex flex-col space-y-4"><div class="flex flex-row items-center space-x-6"><div><div style="background-color:#e23236" class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center font-bold text-white" href="/angular/state-management-with-ngrx-introduction"><span>1</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-bold" href="/angular/state-management-with-ngrx-introduction">Introduction</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-05-02T00:00:00.322Z">May 2, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">9 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/architecting-the-store-in-ngrx"><span>2</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/architecting-the-store-in-ngrx">Architecting the Store</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-05-05T00:00:00.322Z">May 5, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">10 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/building-side-effects-in-ngrx"><span>3</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/building-side-effects-in-ngrx">Building Side Effects</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-06-05T00:00:00.322Z">Jun 5, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">6 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/abstracting-state-with-ngrx-facades"><span>4</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/abstracting-state-with-ngrx-facades">Abstracting State withÂ Facades</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-06-27T00:00:00.322Z">Jun 27, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">10 min read</span></div></div></div></div></div></div><div class="max-w-2xl mx-auto leading-loose markdown-styles_markdown__1x9gM"><h2>State Management with NGRXâ€Šâ€”â€ŠIntroduction</h2><p>In this article, I want to introduce you to the concepts that make up the NGRX platform and all its pieces to fully understand how it helps us create better applications.</p><p><em>NGRX</em>, for those who donâ€™t know yet, is a <em>Redux</em> library for <em>Angular</em>. It helps us with state management, which is arguably the hardest part to manage for modern, large scale, client-side applications.</p><p>Compared to <em>Redux</em>, which only provides the layer for the store, <em>NGRX</em> comes with quite a few powerful features.</p><hr/><p>This is the first part of a 4-part articles series that will cover:</p><ul><li>Pillars of NGRX</li><li>How to architect our Store using reducers and entities</li><li>Managing and testing side effects</li><li>Connecting our UI to a Facade Service, with pros and cos</li></ul><h2>Why NGRX, or any state management solution</h2><p>NGRX, and other state management libraries for Angular (NGXS, Akita) have become important pieces in the architecture of complex web apps.</p><p>An unpopular opinion of mine is that every Angular application should use some sort of state management, be it RX-powered services, MobX, or different Redux implementations.</p><p>I found several pitfalls with large (and even small) projects using local state within components, such as:</p><ul><li>difficulty in passing data between routes</li><li>difficulty in caching data already fetched</li><li>repeated logic and requests</li><li>no conventions</li></ul><p>This list could be much longer, but this is enough to convince me that some sort of state management is essential for not refactoring a new application any time soon.</p><h2>NGRX Pillars</h2><p>Letâ€™s see how the platform around <em>NGRX</em> is structured:</p><ul><li><code>store</code>â€Šâ€”â€Šwhich a central repository from which we can <em>select</em> the state from every component and service within the Angular DI</li><li><code>effects</code>â€Šâ€”â€Šwhich as the name suggests are side effects that happen when an action is dispatched</li><li><code>entity</code>â€Šâ€”â€Šan entity framework to help reduce the usual boilerplate</li></ul><p>Letâ€™s now take a more detailed look at all the concepts weâ€™re going to explore in the next steps.</p><h2>Store</h2><p>A store is a central repository where we store our data.</p><p>Itâ€™s our application database and the only source of truth in our client. Technically speaking, itâ€™s simply a nested object that we use to select and store data.</p><p>As the <em>Store</em> service is accessible via the Angular DI, the data in our store is accessible by all components and services from everywhere in our application.</p><p>Any information regarding state, unless isolated to one single part of the application (ex. forms, popups, transient state), should probably be stored in the store.</p><h2>Actions</h2><p>In NGRX-speakâ€Šâ€”â€Šactions are classes that hold information that gets passed to reducers or that trigger side effects.</p><p>Actions have two parameters:</p><ul><li>a unique identifier we name <code>type</code> (make sure you mark it as <code>readonly</code>)</li><li>an optional <code>payload</code> property that represents the data being passed to the action</li></ul><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">enum</span> LoginActionTypes <span class="token punctuation">{</span>
    LoginButtonClicked <span class="token operator">=</span> <span class="token string">&#x27;[Login Button] LOGIN_BUTTON_CLICKED&#x27;</span><span class="token punctuation">,</span>
    LoginRequestStarted <span class="token operator">=</span> <span class="token string">&#x27;[Login API] LOGIN_REQUEST_STARTED&#x27;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginButtonClicked</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">readonly</span> type <span class="token operator">=</span> LoginActionTypes<span class="token punctuation">.</span>LoginButtonClicked<span class="token punctuation">;</span>

   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> payload<span class="token operator">:</span> LoginRequestPayload<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LoginRequestStarted</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">readonly</span> type <span class="token operator">=</span> LoginActionTypes<span class="token punctuation">.</span>LoginRequestStarted<span class="token punctuation">;</span>

   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> payload<span class="token operator">:</span> LoginRequestPayload<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">UserActions</span> <span class="token operator">=</span> LoginButtonClicked <span class="token operator">|</span> LoginRequestStarted<span class="token punctuation">;</span>
</code></pre></div><p>Conventions for naming the <code>type</code> parameter:</p><ul><li>you will usually see the type being written using the format <code>[prefix] NAME</code></li><li>the prefix is useful to declare where the request is originated from, as recommended by the NGRX team</li></ul><p>ðŸ’¡<strong>Pro Tip:</strong> write many granular actions and always write what originated them. It doesnâ€™t really matter if you rewrite some action that does the same thing.Â </p><h2>Reducers</h2><p>Reducers are simply pure functions responsible for updating the state object in an immutable manner.Â </p><p>A reducer is a function that receives two parameters: the current state object and an action class, and returns the new state as output.Â </p><p>The new state is <strong>always a newly built object</strong>, and <strong>we never mutate the state</strong>.</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">loginReducer</span><span class="token punctuation">(</span>
    state<span class="token operator">:</span> UserState <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    action<span class="token operator">:</span> UserActions
<span class="token punctuation">)</span><span class="token operator">:</span> UserState <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> UserActionTypes<span class="token punctuation">.</span>LoginSuccess<span class="token operator">:</span>
            <span class="token keyword">return</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">return</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is a dead-simple reducer that simply returns the current state if no action is matched, or returns the actionâ€™s payload as the next state. In a real application, your reducers will end up being much bigger than the example.Â </p><p>There are loads of libraries around to simplify using reducers, but to me, they are rarely worth using.</p><p>For more complex reducers, Iâ€™d recommend to create functions and <strong>keep the reducer functions simple and small</strong>.</p><p>In fact, we can refactor the switch statement by simply using an object and match the action type with the objectâ€™s keys.</p><p>Letâ€™s rewrite that:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">LoginReducerActions</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>key<span class="token operator">:</span> UserActionTypes<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span>
        state<span class="token operator">:</span> UserState<span class="token punctuation">,</span>
        action<span class="token operator">:</span> UserActions
    <span class="token punctuation">)</span><span class="token operator">:</span> UserState<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> loginReducerActions<span class="token operator">:</span> LoginReducerActions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>UserActionTypes<span class="token punctuation">.</span>LoginSuccess<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span>
       state<span class="token operator">:</span> UserState<span class="token punctuation">,</span>
       action<span class="token operator">:</span> LoginSuccess
    <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> action<span class="token punctuation">.</span>payload
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">loginReducer</span><span class="token punctuation">(</span>
    state<span class="token operator">:</span> UserState <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    action<span class="token operator">:</span> UserActions
<span class="token punctuation">)</span><span class="token operator">:</span> UserState <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loginReducerActions<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> loginReducerActions<span class="token punctuation">[</span>action<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>Selectors</h2><p>Selectors are simply functions we define to select information from the storeâ€™s object.Â </p><p>Before we can introduce selectors, letâ€™s see how we would normally select data from the store within a service:Â </p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">DashboardState</span> <span class="token punctuation">{</span>
   widgets<span class="token operator">:</span> Widget<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DashboardRepository</span> <span class="token punctuation">{</span>
    widgets$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token operator">:</span> DashboardState<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>widgets<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>DashboardState<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Why is this approach not ideal?</p><ul><li>itâ€™s not DRY</li><li>if the storeâ€™s structure will change (and believe me, it will), we need to change the selection everywhere</li><li>the service itself knows about the structure of the store</li><li>No cachingÂ </li></ul><p>Letâ€™s introduce the utility provided by <code>@ngrx/store</code> called <code>createSelector</code> which was inspired by the React library <code>reselect</code>.Â </p><p>For simplicity, I will keep the snippets unified, but you should assume that selectors are created in a separate file and they get exported.</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token comment">// selectors</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createSelector<span class="token punctuation">,</span> createFeatureSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@ngrx/store&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> selectDashboardState <span class="token operator">=</span> <span class="token function">createFeatureSelector</span><span class="token punctuation">(</span><span class="token string">&#x27;dashboard&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> selectAllWidgets <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
    selectDashboardState<span class="token punctuation">,</span>
    <span class="token punctuation">(</span>state<span class="token operator">:</span> DashboardState<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>widgets
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// service</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DashboardRepository</span> <span class="token punctuation">{</span>
    widgets$ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span>selectAllWidgets<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token operator">:</span> Store<span class="token operator">&lt;</span>DashboardState<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ðŸ’¡<strong>Pro Tip:</strong> selectors are super useful, always write granular selectors and try to encapsulate logic within selectors rather than in your services or components</p><h2>Entities</h2><p>Entities are added by the package <code>@ngrx/entity</code>Â .</p><p>As you may have seen if you ever used Redux, the boilerplate for common CRUD operations is time-consuming and redundant.</p><p>NGRX Entity helps us by providing out of the box a set of common operations and selectors that help to reduce the size of our reducers.</p><p>What does our state look like by using this Entity framework?</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">EntityState<span class="token operator">&lt;</span><span class="token constant">V</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  ids<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  entities<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">V</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>I normally start by creating an adapter, in a separate file, so we can import it from different files such as the reducer and the selectorsâ€™ files.</p><p><img src="https://cdn-images-1.medium.com/max/1600/1*v9EpQXnp-aNUhDNb1oVMSQ.png" loading="lazy"/></p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">const</span> adapter<span class="token operator">:</span> EntityAdapter<span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createEntityAdapter</span><span class="token generic class-name"><span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Letâ€™s use the adapter in our reducer. How does the adapter interact with it?</p><ul><li>it creates an initial state (see the interface <code>EntityState</code> above)</li><li>it gives us a series of <em>CRUD</em> operations methods to write reducers on the fly</li></ul><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> initialState<span class="token operator">:</span> DashboardState <span class="token operator">=</span> adapter<span class="token punctuation">.</span><span class="token function">getInitialState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function">dashboardReducer</span><span class="token punctuation">(</span>
    state <span class="token operator">=</span> initialState<span class="token punctuation">,</span>
    action<span class="token operator">:</span> DashboardActions
<span class="token punctuation">)</span><span class="token operator">:</span> DashboardState <span class="token punctuation">{</span>
   <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">case</span> DashbordActionTypes<span class="token punctuation">.</span>AddWidget<span class="token operator">:</span>
          <span class="token keyword">const</span> widget<span class="token operator">:</span> Widget <span class="token operator">=</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>
          <span class="token keyword">return</span> adapter<span class="token punctuation">.</span><span class="token function">addOne</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// more ...</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ðŸ’¡ <strong>Pro Tip</strong>: <a href="https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23adapter-collection-methods" target="_blank" rel="noopener noreferrer">Take a look at all the methods available in NGRX Entity</a></p><p>The entity adapter also allows us to kickstart a collection of selectors to query the store.</p><p>Hereâ€™s an example for selecting all the widgets in our dashboardâ€™s state:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token punctuation">{</span> selectAll <span class="token punctuation">}</span> <span class="token operator">=</span> adapter<span class="token punctuation">.</span><span class="token function">getSelectors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> selectDashboardState <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createFeatureSelector</span><span class="token generic class-name"><span class="token operator">&lt;</span>DashboardState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;dashboard&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> selectAllWidgets <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  selectDashboardState<span class="token punctuation">,</span>
  selectAll
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ðŸ’¡ <strong>Pro Tip</strong>: <a href="https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23entity-selectors" target="_blank" rel="noopener noreferrer">Take a look at all the selectors available in NGRX Entity</a></p><h2>Effects</h2><p>Finally, my number one favorite feature in NGRX: <em>Effects</em>.</p><p>As the name suggests, we use effects to manage side-effects in our application. NGRX implements effects as streams emitted by actions, that in most cases return new actions.</p><p>Letâ€™s consider the diagram below:</p><p><img src="https://cdn-images-1.medium.com/max/1600/1*zucA-8bRWyhrhxkdMBOpLA.png" loading="lazy"/></p><ul><li>an action gets dispatched from somewhere in the application (ex: UI, WebSocket, Timers, etc.)</li><li>the effects intercept the action, for which a side-effect has been defined. The side-effect gets executed</li><li>The side effect, with exceptions, returns a new action</li><li>The action goes through a reducer and updates the store</li></ul><p>As I mentioned, not all side effects will return a new action. We can configure an effect not to dispatch any action if it is not needed, but itâ€™s important that you understand that in most cases we do want to dispatch new actions as a result.Â </p><p>The most practical use-case for effects in <em>NGRX</em> is making <em>HTTP</em> requests:</p><div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">WidgetsEffects</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token keyword">private</span> actions$<span class="token operator">:</span> Actions<span class="token punctuation">,</span>
        <span class="token keyword">private</span> api<span class="token operator">:</span> WidgetApiService
    <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Effect</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    createWidget$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>AddWidgetAction<span class="token operator">&gt;</span> <span class="token operator">=</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>actions$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
            <span class="token function">ofType</span><span class="token punctuation">(</span>WidgetsActionTypes<span class="token punctuation">.</span>CreateWidgetRequestStarted<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">mergeMap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>action<span class="token operator">:</span> CreateWidgetAction<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">createWidget</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>widget<span class="token operator">:</span> Widget<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">AddWidgetAction</span><span class="token punctuation">(</span>widget<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Effect</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> dispatch<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    exportWidgets$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">=</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>actions$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
            <span class="token function">ofType</span><span class="token punctuation">(</span>WidgetsActionTypes<span class="token punctuation">.</span>ExportWidgets<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>action<span class="token operator">:</span> ExportWidgets<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">exportWidgets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Letâ€™s break the above snippet down.</p><ul><li>we created a class called <code>WidgetsEffects</code></li><li>we import two providers: <code>Actions</code> and <code>WidgetsApiService</code></li><li><code>Actions</code> is a stream of actions. We use the operator <code>ofType</code> that helps us filter the actions to only the one we want to listen to</li><li>We create a property on the class and decorate it with <code>Effect</code></li><li>This effect is called when an action called <code>CREATE_WIDGET_REQUEST</code> is dispatched</li><li>We get the payload from the action and execute a call with our API service</li><li>Once that has successfully been executed, we map it the action <code>AddWidgetAction</code> which can be picked up by the reducer and update our store</li><li>In the second effect called <code>exportWidgets$</code>Â , we receive an action <code>ExportWidgets</code>Â , we use the <code>tap</code> operator to execute a side-effect, and thenâ€¦ well, nothing! As we passed the configuration <code>{ dispatch: false }</code> we donâ€™t have to return any action</li></ul><h2>Takeaways</h2><ul><li>A state-management solution, be it a library or your own implementation, should always be preferred to local stateÂ </li><li>A single source of truth such as the store helps us managing the state of our application, with a few exceptions such as when the state is transient</li><li>we briefly explored the concept of store, actions, reducers, entities, selectors, and effects, but in the next steps we will go into details into each of these with some more advanced examples</li></ul><p>In the next article, we&#x27;re going to the store of the application and the stateâ€™s entities. You can find it at the link below:
<a href="https://medium.com/r/?url=https%3A%2F%2Fitnext.io%2Farchitecting-the-store-in-ngrx-e4955641d746" target="_blank" rel="noopener noreferrer">Architecting the Store in NGRX</a></p><p>Hope you enjoyed this article and stay tuned for the next part of this series!</p></div></article><div class="max-w-2xl mx-auto"><div class="mx-auto flex flex-col"><h3 class="font-medium text-lg md:text-2xl mb-4"><b class="font-bold">State Management with NgRx<!-- --> (<!-- -->4<!-- --> Part Series)</b></h3><div class="flex flex-col space-y-4"><div class="flex flex-row items-center space-x-6"><div><div style="background-color:#e23236" class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center font-bold text-white" href="/angular/state-management-with-ngrx-introduction"><span>1</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-bold" href="/angular/state-management-with-ngrx-introduction">Introduction</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-05-02T00:00:00.322Z">May 2, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">9 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/architecting-the-store-in-ngrx"><span>2</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/architecting-the-store-in-ngrx">Architecting the Store</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-05-05T00:00:00.322Z">May 5, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">10 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/building-side-effects-in-ngrx"><span>3</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/building-side-effects-in-ngrx">Building Side Effects</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-06-05T00:00:00.322Z">Jun 5, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">6 min read</span></div></div></div><div class="flex flex-row items-center space-x-6"><div><div class="rounded-full cursor-pointer w-10 h-10 opacity-90 hover:opacity-100 flex items-center justify-center bg-gray-100 hover:bg-gray-200" href="/angular/abstracting-state-with-ngrx-facades"><span>4</span></div></div><div class="flex flex-col space-y-1"><h3 class="leading-snug text-xl"><a class="hover:underline font-medium" href="/angular/abstracting-state-with-ngrx-facades">Abstracting State withÂ Facades</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-600"><time dateTime="2019-06-27T00:00:00.322Z">Jun 27, 2019</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">10 min read</span></div></div></div></div></div></div><div class="w-full md:w-8/12 mx-auto my-4"><script async="" data-uid="3e3126f064" src="https://thoughtful-inventor-7842.ck.page/3e3126f064/index.js"></script></div><div><hr class="border-accent-2 mt-16 mb-14"/><h3 class="text-2xl md:text-3xl text-center font-semibold my-4 md:my-12 flex flex-row space-x-4 items-center justify-center"><span>Learn more about</span> <div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:28px;height:28px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></h3><section><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-x-12 lg:gap-x-14 gap-y-20 md:gap-y-24 mb-32"><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Benchmarking Angular 12 with Webpack 5" href="/angular/webpack-5-angular12"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/benchmarking-webpack-5.webp" alt="Cover Image for Benchmarking Angular 12 with Webpack 5" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/webpack-5-angular12">Benchmarking Angular 12 with Webpack 5</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2021-05-14T00:00:00.322Z">May 14, 2021</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">2 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version</p></div><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Principles for creating libraries with Nx and Angular" href="/angular/how-to-organize-nx-modules-with-angular"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/organize-nx-modules-ngrx.webp" alt="Cover Image for Principles for creating libraries with Nx and Angular" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/how-to-organize-nx-modules-with-angular">Principles for creating libraries with Nx and Angular</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2021-02-07T00:00:00.322Z">Feb 7, 2021</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">5 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations</p></div><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Where to put your Angular models?" href="/angular/angular-where-to-put-models"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/where-put-angular-models.webp" alt="Cover Image for Where to put your Angular models?" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/angular-where-to-put-models">Where to put your Angular models?</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2020-08-03T00:00:00.322Z">Aug 3, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for</p></div><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Using the Intersection Observer API with Angular" href="/angular/intersection-observer-with-angular"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/intersection-observer.webp" alt="Cover Image for Using the Intersection Observer API with Angular" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/intersection-observer-with-angular">Using the Intersection Observer API with Angular</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2020-08-01T00:00:00.322Z">Aug 1, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">5 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page</p></div><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Setters vs ngOnChanges: which one is better?" href="/angular/setters-vs-ng-on-changes"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/setters-vs-on-changes.webp" alt="Cover Image for Setters vs ngOnChanges: which one is better?" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/setters-vs-ng-on-changes">Setters vs ngOnChanges: which one is better?</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2020-07-30T00:00:00.322Z">Jul 30, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">Listening to Input changes can be done in different ways. But which one should you use?</p></div><div class="shadow-lg rounded-md hover:shadow-xl transition-shadow duration-500"><div class="mb-3"><div class="sm:mx-0"><a aria-label="Async Rendering with a single Rx Operator" href="/angular/async-rendering-with-a-single-rx-operator"><img class="block transition-shadow duration-500 h-full w-full lg:h-48 xl:h-48 rounded-t-md" src="/assets/images/posts/async-rendering.webp" alt="Cover Image for Async Rendering with a single Rx Operator" loading="lazy"/></a></div></div><div class="px-4 py-2"><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/async-rendering-with-a-single-rx-operator">Async Rendering with a single Rx Operator</a></h3></div><div class="text-xs mb-4 flex flex-row space-x-2 items-center px-4"><div class="text-gray-600"><time dateTime="2020-07-11T00:00:00.322Z">Jul 11, 2020</time></div><span class="text-gray-600">Â·</span><span class="text-gray-600">3 min read</span><span class="text-gray-600">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular" href="/angular"><img class="object-contain" loading="lazy" style="width:16px;height:16px" src="/assets/images/collections/angular.webp" alt="Angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 px-4 text-sm">Increase your app rendering performance with this simple Rx operator</p></div></div></section></div></div></main></div><footer><div class="container mx-auto px-5"><hr class="border-accent-2 mt-16 mb-14"/><div class="flex-row flex justify-between items-center my-6 md:my-8"><a class="hover:underline" href="/"><svg width="100" height="60" viewBox="0 0 735 313" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M104.913 105.5C100.913 108.7 96.1133 112.2 90.5133 116C85.1133 119.8 79.4133 123.6 73.4133 127.4C67.6133 131.2 62.0133 134.8 56.6133 138.2C51.2133 141.6 46.6133 144.4 42.8133 146.6C46.6133 148.8 51.2133 151.6 56.6133 155C62.0133 158.4 67.6133 162 73.4133 165.8C79.4133 169.6 85.1133 173.5 90.5133 177.5C96.1133 181.3 100.913 184.7 104.913 187.7C108.313 190.5 111.313 193.2 113.913 195.8C116.713 198.2 118.113 201.1 118.113 204.5C118.113 207.5 117.013 210.3 114.813 212.9C113.413 214.3 112.013 215.4 110.613 216.2C109.213 217 107.613 217.4 105.813 217.4C104.013 217.4 101.813 216.9 99.2133 215.9C96.6133 214.7 93.3133 212.8 89.3133 210.2C76.7133 202.4 65.5133 195.6 55.7133 189.8C45.9133 183.8 37.6133 178.4 30.8133 173.6C24.2133 168.8 19.1133 164.3 15.5133 160.1C12.1133 155.7 10.4133 151.2 10.4133 146.6C10.4133 142 12.1133 137.6 15.5133 133.4C18.9133 129.2 23.9133 124.7 30.5133 119.9C37.3133 114.9 45.6133 109.5 55.4133 103.7C65.2133 97.7 76.5133 90.8 89.3133 83C93.3133 80.4 96.6133 78.6 99.2133 77.6C101.813 76.4 104.013 75.8 105.813 75.8C107.613 75.8 109.213 76.2 110.613 77C112.013 77.8 113.413 78.9 114.813 80.3C117.013 82.9 118.113 85.7 118.113 88.7C118.113 92.1 116.713 95.1 113.913 97.7C111.313 100.1 108.313 102.7 104.913 105.5ZM229.734 44.6C236.334 44.6 243.134 45.2 250.134 46.4C257.134 47.6 263.534 49.4 269.334 51.8C275.134 54 279.934 56.8 283.734 60.2C287.534 63.6 289.434 67.5 289.434 71.9C289.434 76.5 288.234 80 285.834 82.4C283.434 84.8 280.434 86 276.834 86C273.434 86 270.234 85.4 267.234 84.2C264.434 83 261.234 81.7 257.634 80.3C254.034 78.9 249.734 77.6 244.734 76.4C239.734 75.2 233.434 74.6 225.834 74.6C217.434 74.6 209.534 76.6 202.134 80.6C194.934 84.4 188.534 89.8 182.934 96.8C177.334 103.6 172.934 111.7 169.734 121.1C166.534 130.5 164.934 140.7 164.934 151.7C164.934 165.1 166.634 176.7 170.034 186.5C173.434 196.3 177.834 204.4 183.234 210.8C188.834 217.2 195.034 222 201.834 225.2C208.834 228.2 215.834 229.7 222.834 229.7C234.234 229.7 243.234 228.1 249.834 224.9C256.634 221.5 262.034 217.2 266.034 212C266.234 207.8 266.334 202.8 266.334 197C266.334 191.2 266.334 184.9 266.334 178.1C266.334 175.5 266.134 173.5 265.734 172.1C265.334 170.5 264.334 169.3 262.734 168.5C261.134 167.7 258.734 167.2 255.534 167C252.534 166.8 248.434 166.7 243.234 166.7C236.834 166.7 231.634 165.9 227.634 164.3C223.634 162.5 221.634 158.8 221.634 153.2C221.634 149.2 222.634 146 224.634 143.6C226.834 141 231.234 139.5 237.834 139.1C239.034 139.1 240.934 139.1 243.534 139.1C246.334 138.9 249.234 138.8 252.234 138.8C255.434 138.8 258.534 138.8 261.534 138.8C264.534 138.8 266.934 138.8 268.734 138.8C274.734 138.8 279.534 139.4 283.134 140.6C286.734 141.6 289.934 144 292.734 147.8C294.134 149.8 294.934 153.3 295.134 158.3C295.534 163.3 295.734 169.1 295.734 175.7V253.1C295.734 258.5 294.234 262.5 291.234 265.1C288.434 267.7 285.134 269 281.334 269C276.734 269 272.934 267.8 269.934 265.4C267.134 263.2 265.734 259.6 265.734 254.6V242.9C260.534 248.9 254.334 253.2 247.134 255.8C240.134 258.4 231.234 259.7 220.434 259.7C209.434 259.7 198.634 257.5 188.034 253.1C177.434 248.7 168.034 242.2 159.834 233.6C151.634 224.8 144.934 213.9 139.734 200.9C134.734 187.7 132.234 172.4 132.234 155C132.234 137.6 134.734 122.1 139.734 108.5C144.934 94.9 151.934 83.4 160.734 74C169.534 64.4 179.834 57.1 191.634 52.1C203.434 47.1 216.134 44.6 229.734 44.6ZM361.964 60.8C361.964 72.8 361.564 85.4 360.764 98.6C360.164 111.6 359.364 124.3 358.364 136.7C360.964 131.3 364.364 126.7 368.564 122.9C372.764 118.9 377.364 115.7 382.364 113.3C387.564 110.9 392.964 109.1 398.564 107.9C404.164 106.7 409.564 106.1 414.764 106.1C423.764 106.1 432.164 107.8 439.964 111.2C447.964 114.4 454.864 119.2 460.664 125.6C466.664 131.8 471.264 139.6 474.464 149C477.864 158.2 479.564 168.8 479.564 180.8C479.564 192.4 477.864 203 474.464 212.6C471.064 222.2 465.964 230.5 459.164 237.5C452.564 244.3 444.264 249.6 434.264 253.4C424.464 257.2 413.164 259.1 400.364 259.1C382.964 259.1 369.264 255.6 359.264 248.6C349.464 241.6 342.164 232.3 337.364 220.7C332.564 208.9 329.564 195.4 328.364 180.2C327.364 165 326.864 149.1 326.864 132.5C326.864 115.7 327.164 100.5 327.764 86.9C328.364 73.3 329.264 62.3 330.464 53.9C331.664 46.3 333.664 40.9 336.464 37.7C339.264 34.5 342.964 32.9 347.564 32.9C350.964 32.9 353.664 33.7 355.664 35.3C357.664 36.7 359.064 38.7 359.864 41.3C360.864 43.9 361.464 46.9 361.664 50.3C361.864 53.5 361.964 57 361.964 60.8ZM406.364 135.8C400.564 135.8 394.964 136.8 389.564 138.8C384.364 140.6 379.664 143.5 375.464 147.5C371.464 151.5 368.264 156.6 365.864 162.8C363.464 168.8 362.264 176.1 362.264 184.7C362.264 199.9 365.964 211.5 373.364 219.5C380.964 227.3 391.064 231.2 403.664 231.2C408.864 231.2 414.164 230.5 419.564 229.1C424.964 227.5 429.864 224.9 434.264 221.3C438.664 217.5 442.264 212.5 445.064 206.3C447.864 200.1 449.264 192.4 449.264 183.2C449.264 175 448.064 167.9 445.664 161.9C443.464 155.9 440.364 151 436.364 147.2C432.364 143.2 427.764 140.3 422.564 138.5C417.364 136.7 411.964 135.8 406.364 135.8ZM508.61 238.7C511.01 230.7 513.81 221.4 517.01 210.8C520.21 200 523.71 188.4 527.51 176C531.51 163.4 535.71 150.2 540.11 136.4C544.71 122.6 549.31 108.5 553.91 94.1C557.91 81.9 561.41 71.3 564.41 62.3C567.61 53.1 570.51 45.6 573.11 39.8C575.91 34 578.51 29.7 580.91 26.9C583.51 23.9 586.31 22.4 589.31 22.4C592.31 22.4 595.01 23.4 597.41 25.4C600.01 27.4 601.31 30.5 601.31 34.7C601.31 36.1 601.21 37.6 601.01 39.2C600.81 40.8 600.41 42.7 599.81 44.9C590.41 78.1 580.21 111.7 569.21 145.7C558.21 179.5 546.51 213.2 534.11 246.8C531.71 253.2 529.41 257.5 527.21 259.7C525.01 261.9 522.81 263 520.61 263C517.01 263 513.81 262 511.01 260C508.21 258 506.81 254.7 506.81 250.1C506.81 247.3 507.41 243.5 508.61 238.7ZM624.199 105.5C620.799 102.7 617.699 100.1 614.899 97.7C612.299 95.1 610.999 92.1 610.999 88.7C610.999 85.7 612.099 82.9 614.299 80.3C615.699 78.9 617.099 77.8 618.499 77C619.899 76.2 621.499 75.8 623.299 75.8C625.099 75.8 627.299 76.4 629.899 77.6C632.499 78.6 635.799 80.4 639.799 83C652.599 90.8 663.899 97.7 673.699 103.7C683.499 109.5 691.699 114.9 698.299 119.9C705.099 124.7 710.199 129.2 713.599 133.4C716.999 137.6 718.699 142 718.699 146.6C718.699 151.2 716.899 155.7 713.299 160.1C709.899 164.3 704.799 168.8 697.999 173.6C691.399 178.4 683.199 183.8 673.399 189.8C663.599 195.6 652.399 202.4 639.799 210.2C635.799 212.8 632.499 214.7 629.899 215.9C627.299 216.9 625.099 217.4 623.299 217.4C621.499 217.4 619.899 217 618.499 216.2C617.099 215.4 615.699 214.3 614.299 212.9C612.099 210.3 610.999 207.5 610.999 204.5C610.999 201.1 612.299 198.2 614.899 195.8C617.699 193.2 620.799 190.5 624.199 187.7C627.999 184.7 632.699 181.3 638.299 177.5C643.899 173.5 649.599 169.6 655.399 165.8C661.199 162 666.799 158.4 672.199 155C677.799 151.6 682.499 148.8 686.299 146.6C682.499 144.4 677.799 141.6 672.199 138.2C666.799 134.8 661.199 131.2 655.399 127.4C649.599 123.6 643.899 119.8 638.299 116C632.699 112.2 627.999 108.7 624.199 105.5Z" fill="#111827"></path></svg></a><div class="justify-end lg:hidden flex"><button aria-label="Open Menu" class="navbar-burger" type="button"><span class="block relative w-7 rounded-sm bg-black h-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span><span class="block relative w-7 rounded-sm bg-black h-1 mt-1"></span></button></div><ul class="lg:space-x-8 px-4 hidden flex-col space-y-4 lg:space-y-0 lg:flex lg:flex-row nav"><li class="flex flex-row justify-between pt-4 mb-6 lg:hidden"><div><a class="hover:underline" href="/"><svg width="100" height="60" viewBox="0 0 735 313" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M104.913 105.5C100.913 108.7 96.1133 112.2 90.5133 116C85.1133 119.8 79.4133 123.6 73.4133 127.4C67.6133 131.2 62.0133 134.8 56.6133 138.2C51.2133 141.6 46.6133 144.4 42.8133 146.6C46.6133 148.8 51.2133 151.6 56.6133 155C62.0133 158.4 67.6133 162 73.4133 165.8C79.4133 169.6 85.1133 173.5 90.5133 177.5C96.1133 181.3 100.913 184.7 104.913 187.7C108.313 190.5 111.313 193.2 113.913 195.8C116.713 198.2 118.113 201.1 118.113 204.5C118.113 207.5 117.013 210.3 114.813 212.9C113.413 214.3 112.013 215.4 110.613 216.2C109.213 217 107.613 217.4 105.813 217.4C104.013 217.4 101.813 216.9 99.2133 215.9C96.6133 214.7 93.3133 212.8 89.3133 210.2C76.7133 202.4 65.5133 195.6 55.7133 189.8C45.9133 183.8 37.6133 178.4 30.8133 173.6C24.2133 168.8 19.1133 164.3 15.5133 160.1C12.1133 155.7 10.4133 151.2 10.4133 146.6C10.4133 142 12.1133 137.6 15.5133 133.4C18.9133 129.2 23.9133 124.7 30.5133 119.9C37.3133 114.9 45.6133 109.5 55.4133 103.7C65.2133 97.7 76.5133 90.8 89.3133 83C93.3133 80.4 96.6133 78.6 99.2133 77.6C101.813 76.4 104.013 75.8 105.813 75.8C107.613 75.8 109.213 76.2 110.613 77C112.013 77.8 113.413 78.9 114.813 80.3C117.013 82.9 118.113 85.7 118.113 88.7C118.113 92.1 116.713 95.1 113.913 97.7C111.313 100.1 108.313 102.7 104.913 105.5ZM229.734 44.6C236.334 44.6 243.134 45.2 250.134 46.4C257.134 47.6 263.534 49.4 269.334 51.8C275.134 54 279.934 56.8 283.734 60.2C287.534 63.6 289.434 67.5 289.434 71.9C289.434 76.5 288.234 80 285.834 82.4C283.434 84.8 280.434 86 276.834 86C273.434 86 270.234 85.4 267.234 84.2C264.434 83 261.234 81.7 257.634 80.3C254.034 78.9 249.734 77.6 244.734 76.4C239.734 75.2 233.434 74.6 225.834 74.6C217.434 74.6 209.534 76.6 202.134 80.6C194.934 84.4 188.534 89.8 182.934 96.8C177.334 103.6 172.934 111.7 169.734 121.1C166.534 130.5 164.934 140.7 164.934 151.7C164.934 165.1 166.634 176.7 170.034 186.5C173.434 196.3 177.834 204.4 183.234 210.8C188.834 217.2 195.034 222 201.834 225.2C208.834 228.2 215.834 229.7 222.834 229.7C234.234 229.7 243.234 228.1 249.834 224.9C256.634 221.5 262.034 217.2 266.034 212C266.234 207.8 266.334 202.8 266.334 197C266.334 191.2 266.334 184.9 266.334 178.1C266.334 175.5 266.134 173.5 265.734 172.1C265.334 170.5 264.334 169.3 262.734 168.5C261.134 167.7 258.734 167.2 255.534 167C252.534 166.8 248.434 166.7 243.234 166.7C236.834 166.7 231.634 165.9 227.634 164.3C223.634 162.5 221.634 158.8 221.634 153.2C221.634 149.2 222.634 146 224.634 143.6C226.834 141 231.234 139.5 237.834 139.1C239.034 139.1 240.934 139.1 243.534 139.1C246.334 138.9 249.234 138.8 252.234 138.8C255.434 138.8 258.534 138.8 261.534 138.8C264.534 138.8 266.934 138.8 268.734 138.8C274.734 138.8 279.534 139.4 283.134 140.6C286.734 141.6 289.934 144 292.734 147.8C294.134 149.8 294.934 153.3 295.134 158.3C295.534 163.3 295.734 169.1 295.734 175.7V253.1C295.734 258.5 294.234 262.5 291.234 265.1C288.434 267.7 285.134 269 281.334 269C276.734 269 272.934 267.8 269.934 265.4C267.134 263.2 265.734 259.6 265.734 254.6V242.9C260.534 248.9 254.334 253.2 247.134 255.8C240.134 258.4 231.234 259.7 220.434 259.7C209.434 259.7 198.634 257.5 188.034 253.1C177.434 248.7 168.034 242.2 159.834 233.6C151.634 224.8 144.934 213.9 139.734 200.9C134.734 187.7 132.234 172.4 132.234 155C132.234 137.6 134.734 122.1 139.734 108.5C144.934 94.9 151.934 83.4 160.734 74C169.534 64.4 179.834 57.1 191.634 52.1C203.434 47.1 216.134 44.6 229.734 44.6ZM361.964 60.8C361.964 72.8 361.564 85.4 360.764 98.6C360.164 111.6 359.364 124.3 358.364 136.7C360.964 131.3 364.364 126.7 368.564 122.9C372.764 118.9 377.364 115.7 382.364 113.3C387.564 110.9 392.964 109.1 398.564 107.9C404.164 106.7 409.564 106.1 414.764 106.1C423.764 106.1 432.164 107.8 439.964 111.2C447.964 114.4 454.864 119.2 460.664 125.6C466.664 131.8 471.264 139.6 474.464 149C477.864 158.2 479.564 168.8 479.564 180.8C479.564 192.4 477.864 203 474.464 212.6C471.064 222.2 465.964 230.5 459.164 237.5C452.564 244.3 444.264 249.6 434.264 253.4C424.464 257.2 413.164 259.1 400.364 259.1C382.964 259.1 369.264 255.6 359.264 248.6C349.464 241.6 342.164 232.3 337.364 220.7C332.564 208.9 329.564 195.4 328.364 180.2C327.364 165 326.864 149.1 326.864 132.5C326.864 115.7 327.164 100.5 327.764 86.9C328.364 73.3 329.264 62.3 330.464 53.9C331.664 46.3 333.664 40.9 336.464 37.7C339.264 34.5 342.964 32.9 347.564 32.9C350.964 32.9 353.664 33.7 355.664 35.3C357.664 36.7 359.064 38.7 359.864 41.3C360.864 43.9 361.464 46.9 361.664 50.3C361.864 53.5 361.964 57 361.964 60.8ZM406.364 135.8C400.564 135.8 394.964 136.8 389.564 138.8C384.364 140.6 379.664 143.5 375.464 147.5C371.464 151.5 368.264 156.6 365.864 162.8C363.464 168.8 362.264 176.1 362.264 184.7C362.264 199.9 365.964 211.5 373.364 219.5C380.964 227.3 391.064 231.2 403.664 231.2C408.864 231.2 414.164 230.5 419.564 229.1C424.964 227.5 429.864 224.9 434.264 221.3C438.664 217.5 442.264 212.5 445.064 206.3C447.864 200.1 449.264 192.4 449.264 183.2C449.264 175 448.064 167.9 445.664 161.9C443.464 155.9 440.364 151 436.364 147.2C432.364 143.2 427.764 140.3 422.564 138.5C417.364 136.7 411.964 135.8 406.364 135.8ZM508.61 238.7C511.01 230.7 513.81 221.4 517.01 210.8C520.21 200 523.71 188.4 527.51 176C531.51 163.4 535.71 150.2 540.11 136.4C544.71 122.6 549.31 108.5 553.91 94.1C557.91 81.9 561.41 71.3 564.41 62.3C567.61 53.1 570.51 45.6 573.11 39.8C575.91 34 578.51 29.7 580.91 26.9C583.51 23.9 586.31 22.4 589.31 22.4C592.31 22.4 595.01 23.4 597.41 25.4C600.01 27.4 601.31 30.5 601.31 34.7C601.31 36.1 601.21 37.6 601.01 39.2C600.81 40.8 600.41 42.7 599.81 44.9C590.41 78.1 580.21 111.7 569.21 145.7C558.21 179.5 546.51 213.2 534.11 246.8C531.71 253.2 529.41 257.5 527.21 259.7C525.01 261.9 522.81 263 520.61 263C517.01 263 513.81 262 511.01 260C508.21 258 506.81 254.7 506.81 250.1C506.81 247.3 507.41 243.5 508.61 238.7ZM624.199 105.5C620.799 102.7 617.699 100.1 614.899 97.7C612.299 95.1 610.999 92.1 610.999 88.7C610.999 85.7 612.099 82.9 614.299 80.3C615.699 78.9 617.099 77.8 618.499 77C619.899 76.2 621.499 75.8 623.299 75.8C625.099 75.8 627.299 76.4 629.899 77.6C632.499 78.6 635.799 80.4 639.799 83C652.599 90.8 663.899 97.7 673.699 103.7C683.499 109.5 691.699 114.9 698.299 119.9C705.099 124.7 710.199 129.2 713.599 133.4C716.999 137.6 718.699 142 718.699 146.6C718.699 151.2 716.899 155.7 713.299 160.1C709.899 164.3 704.799 168.8 697.999 173.6C691.399 178.4 683.199 183.8 673.399 189.8C663.599 195.6 652.399 202.4 639.799 210.2C635.799 212.8 632.499 214.7 629.899 215.9C627.299 216.9 625.099 217.4 623.299 217.4C621.499 217.4 619.899 217 618.499 216.2C617.099 215.4 615.699 214.3 614.299 212.9C612.099 210.3 610.999 207.5 610.999 204.5C610.999 201.1 612.299 198.2 614.899 195.8C617.699 193.2 620.799 190.5 624.199 187.7C627.999 184.7 632.699 181.3 638.299 177.5C643.899 173.5 649.599 169.6 655.399 165.8C661.199 162 666.799 158.4 672.199 155C677.799 151.6 682.499 148.8 686.299 146.6C682.499 144.4 677.799 141.6 672.199 138.2C666.799 134.8 661.199 131.2 655.399 127.4C649.599 123.6 643.899 119.8 638.299 116C632.699 112.2 627.999 108.7 624.199 105.5Z" fill="#111827"></path></svg></a></div><div class="flex justify-end"><span class="bg-gray-100 font-bold text-sm rounded-full shadow-xl flex items-center justify-center w-16 h-16">Close</span></div></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/blog">Blog</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/articles">Articles</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/consulting">Consulting</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/about">About</a></li><li class="text-lg lg:text-base border-b-4 border-b-transparent transition:border hover:text-gray-900 font-medium hover:border-b-yellow-200"><a class="block" href="/contact">Contact me</a></li></ul></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"live":true,"readingTime":"9 min read","title":"Introduction","date":"2019-05-02T00:00:00.322Z","slug":"state-management-with-ngrx-introduction","coverImage":"/assets/images/posts/stae-managemen-with-ngrx.png","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"An Introduction to the NGRX platform â€” Concepts, Best Practices, and Tips","series":"State Management with NgRx","content":"\n## State Management with NGRXâ€Šâ€”â€ŠIntroduction\n\nIn this article, I want to introduce you to the concepts that make up the NGRX platform and all its pieces to fully understand how it helps us create better applications.\n\n_NGRX_, for those who donâ€™t know yet, is a _Redux_ library for _Angular_. It helps us with state management, which is arguably the hardest part to manage for modern, large scale, client-side applications.\n\nCompared to _Redux_, which only provides the layer for the store, _NGRX_ comes with quite a few powerful features.\n\n* * *\n\nThis is the first part of a 4-part articles series that will cover:\n\n*   Pillars of NGRX\n*   How to architect our Store using reducers and entities\n*   Managing and testing side effects\n*   Connecting our UI to a Facade Service, with pros and cos\n\n## Why NGRX, or any state management solution\n\nNGRX, and other state management libraries for Angular (NGXS, Akita) have become important pieces in the architecture of complex web apps.\n\nAn unpopular opinion of mine is that every Angular application should use some sort of state management, be it RX-powered services, MobX, or different Redux implementations.\n\nI found several pitfalls with large (and even small) projects using local state within components, such as:\n\n*   difficulty in passing data between routes\n*   difficulty in caching data already fetched\n*   repeated logic and requests\n*   no conventions\n\nThis list could be much longer, but this is enough to convince me that some sort of state management is essential for not refactoring a new application any time soon.\n\n## NGRX Pillars\n\nLetâ€™s see how the platform around _NGRX_ is structured:\n\n*   `store`â€Šâ€”â€Šwhich a central repository from which we can _select_ the state from every component and service within the Angular DI\n*   `effects`â€Šâ€”â€Šwhich as the name suggests are side effects that happen when an action is dispatched\n*   `entity`â€Šâ€”â€Šan entity framework to help reduce the usual boilerplate\n\nLetâ€™s now take a more detailed look at all the concepts weâ€™re going to explore in the next steps.\n\n## Store\n\nA store is a central repository where we store our data.\n\nItâ€™s our application database and the only source of truth in our client. Technically speaking, itâ€™s simply a nested object that we use to select and store data.\n\nAs the _Store_ service is accessible via the Angular DI, the data in our store is accessible by all components and services from everywhere in our application.\n\nAny information regarding state, unless isolated to one single part of the application (ex. forms, popups, transient state), should probably be stored in the store.\n\n## Actions\n\nIn NGRX-speakâ€Šâ€”â€Šactions are classes that hold information that gets passed to reducers or that trigger side effects.\n\nActions have two parameters:\n\n*   a unique identifier we name `type` (make sure you mark it as `readonly`)\n*   an optional `payload` property that represents the data being passed to the action\n\n```typescript\nexport enum LoginActionTypes {\n    LoginButtonClicked = '[Login Button] LOGIN_BUTTON_CLICKED',\n    LoginRequestStarted = '[Login API] LOGIN_REQUEST_STARTED'\n}\n\nexport class LoginButtonClicked {\n   public readonly type = LoginActionTypes.LoginButtonClicked;\n\n   constructor(public payload: LoginRequestPayload) {}\n}\n\nexport class LoginRequestStarted {\n   public readonly type = LoginActionTypes.LoginRequestStarted;\n\n   constructor(public payload: LoginRequestPayload) {}\n}\n\nexport type UserActions = LoginButtonClicked | LoginRequestStarted;\n```\n\nConventions for naming the `type` parameter:\n\n*   you will usually see the type being written using the format `[prefix] NAME`\n*   the prefix is useful to declare where the request is originated from, as recommended by the NGRX team\n\nðŸ’¡**Pro Tip:** write many granular actions and always write what originated them. It doesnâ€™t really matter if you rewrite some action that does the same thing.Â \n\n## Reducers\n\nReducers are simply pure functions responsible for updating the state object in an immutable manner.Â \n\nA reducer is a function that receives two parameters: the current state object and an action class, and returns the new state as output.Â \n\nThe new state is **always a newly built object**, and **we never mutate the state**.\n\n```typescript\nexport function loginReducer(\n    state: UserState = {},\n    action: UserActions\n): UserState {\n    switch (action.type) {\n        case UserActionTypes.LoginSuccess:\n            return action.payload;\n        default:\n            return state;\n}\n```\n\nThis is a dead-simple reducer that simply returns the current state if no action is matched, or returns the actionâ€™s payload as the next state. In a real application, your reducers will end up being much bigger than the example.Â \n\nThere are loads of libraries around to simplify using reducers, but to me, they are rarely worth using.\n\nFor more complex reducers, Iâ€™d recommend to create functions and **keep the reducer functions simple and small**.\n\nIn fact, we can refactor the switch statement by simply using an object and match the action type with the objectâ€™s keys.\n\nLetâ€™s rewrite that:\n\n```typescript\ninterface LoginReducerActions {\n    [key: UserActionTypes]: (\n        state: UserState,\n        action: UserActions\n    ): UserState;\n};\n\nconst loginReducerActions: LoginReducerActions = {\n    [UserActionTypes.LoginSuccess]: (\n       state: UserState,\n       action: LoginSuccess\n    ) =\u003e action.payload\n};\n\nexport function loginReducer(\n    state: UserState = {},\n    action: UserActions\n): UserState {\n    if (loginReducerActions.hasOwnProperty(action.type)) {\n       return loginReducerActions[action.type](state, action);\n    }\n\n    return state;\n}\n```\n\n## Selectors\n\nSelectors are simply functions we define to select information from the storeâ€™s object.Â \n\nBefore we can introduce selectors, letâ€™s see how we would normally select data from the store within a service:Â \n\n```typescript\ninterface DashboardState {\n   widgets: Widget[];\n}\n\nexport class DashboardRepository {\n    widgets$ = this.store.select((state: DashboardState) =\u003e {\n        return state.widgets;\n    });\n\n    constructor(private store: Store\u003cDashboardState\u003e) {}\n}\n```\n\nWhy is this approach not ideal?\n\n*   itâ€™s not DRY\n*   if the storeâ€™s structure will change (and believe me, it will), we need to change the selection everywhere\n*   the service itself knows about the structure of the store\n*   No cachingÂ \n\nLetâ€™s introduce the utility provided by `@ngrx/store` called `createSelector` which was inspired by the React library `reselect`.Â \n\nFor simplicity, I will keep the snippets unified, but you should assume that selectors are created in a separate file and they get exported.\n\n```typescript\n// selectors\nimport { createSelector, createFeatureSelector } from '@ngrx/store';\n\nconst selectDashboardState = createFeatureSelector('dashboard');\n\nexport const selectAllWidgets = createSelector(\n    selectDashboardState,\n    (state: DashboardState) =\u003e state.widgets\n);\n\n// service\nexport class DashboardRepository {\n    widgets$ = this.store.select(selectAllWidgets);\n\n    constructor(private store: Store\u003cDashboardState\u003e) {}\n}\n```\n\nðŸ’¡**Pro Tip:** selectors are super useful, always write granular selectors and try to encapsulate logic within selectors rather than in your services or components\n\n## Entities\n\nEntities are added by the package `@ngrx/entity`Â .\n\nAs you may have seen if you ever used Redux, the boilerplate for common CRUD operations is time-consuming and redundant.\n\nNGRX Entity helps us by providing out of the box a set of common operations and selectors that help to reduce the size of our reducers.\n\nWhat does our state look like by using this Entity framework?\n\n```typescript\ninterface EntityState\u003cV\u003e {\n  ids: string[] | number[];\n  entities: {\n      [id: string | id: number]: V\n  };\n}\n```\n\nI normally start by creating an adapter, in a separate file, so we can import it from different files such as the reducer and the selectorsâ€™ files.\n\n![](https://cdn-images-1.medium.com/max/1600/1*v9EpQXnp-aNUhDNb1oVMSQ.png)\n\n```typescript\nexport const adapter: EntityAdapter\u003cWidget\u003e = createEntityAdapter\u003cWidget\u003e();\n```\n\nLetâ€™s use the adapter in our reducer. How does the adapter interact with it?\n\n*   it creates an initial state (see the interface `EntityState` above)\n*   it gives us a series of _CRUD_ operations methods to write reducers on the fly\n\n```typescript\nconst initialState: DashboardState = adapter.getInitialState();\n\nexport const dashboardReducer(\n    state = initialState,\n    action: DashboardActions\n): DashboardState {\n   switch (action.type) {\n       case DashbordActionTypes.AddWidget:\n          const widget: Widget = action.payload;\n          return adapter.addOne(action.payload, state);\n   }\n\n   // more ...\n   }\n}\n```\n\nðŸ’¡ **Pro Tip**: [Take a look at all the methods available in NGRX Entity](https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23adapter-collection-methods)\n\nThe entity adapter also allows us to kickstart a collection of selectors to query the store.\n\nHereâ€™s an example for selecting all the widgets in our dashboardâ€™s state:\n\n```typescript\nconst { selectAll } = adapter.getSelectors();\n\nexport const selectDashboardState = createFeatureSelector\u003cDashboardState\u003e('dashboard');\n\nexport const selectAllWidgets = createSelector(\n  selectDashboardState,\n  selectAll\n);\n```\n\nðŸ’¡ **Pro Tip**: [Take a look at all the selectors available in NGRX Entity](https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23entity-selectors)\n\n## Effects\n\nFinally, my number one favorite feature in NGRX: _Effects_.\n\nAs the name suggests, we use effects to manage side-effects in our application. NGRX implements effects as streams emitted by actions, that in most cases return new actions.\n\nLetâ€™s consider the diagram below:\n\n![](https://cdn-images-1.medium.com/max/1600/1*zucA-8bRWyhrhxkdMBOpLA.png)\n\n*   an action gets dispatched from somewhere in the application (ex: UI, WebSocket, Timers, etc.)\n*   the effects intercept the action, for which a side-effect has been defined. The side-effect gets executed\n*   The side effect, with exceptions, returns a new action\n*   The action goes through a reducer and updates the store\n\nAs I mentioned, not all side effects will return a new action. We can configure an effect not to dispatch any action if it is not needed, but itâ€™s important that you understand that in most cases we do want to dispatch new actions as a result.Â \n\nThe most practical use-case for effects in _NGRX_ is making _HTTP_ requests:\n\n```typescript\nexport class WidgetsEffects {\n    constructor(\n        private actions$: Actions,\n        private api: WidgetApiService\n    ) {}\n\n    @Effect()\n    createWidget$: Observable\u003cAddWidgetAction\u003e =\n        this.actions$.pipe(\n            ofType(WidgetsActionTypes.CreateWidgetRequestStarted),\n            mergeMap((action: CreateWidgetAction) =\u003e {\n                return this.api.createWidget(action.payload);\n            }),\n            map((widget: Widget) =\u003e new AddWidgetAction(widget))\n         );\n\n    @Effect({ dispatch: false })\n    exportWidgets$: Observable\u003cvoid\u003e =\n        this.actions$.pipe(\n            ofType(WidgetsActionTypes.ExportWidgets),\n            tap((action: ExportWidgets) =\u003e {\n                return this.api.exportWidgets();\n            }),\n         );\n}\n```\n\nLetâ€™s break the above snippet down.\n\n*   we created a class called `WidgetsEffects`\n*   we import two providers: `Actions` and `WidgetsApiService`\n*   `Actions` is a stream of actions. We use the operator `ofType` that helps us filter the actions to only the one we want to listen to\n*   We create a property on the class and decorate it with `Effect`\n*   This effect is called when an action called `CREATE_WIDGET_REQUEST` is dispatched\n*   We get the payload from the action and execute a call with our API service\n*   Once that has successfully been executed, we map it the action `AddWidgetAction` which can be picked up by the reducer and update our store\n*   In the second effect called `exportWidgets$`Â , we receive an action `ExportWidgets`Â , we use the `tap` operator to execute a side-effect, and thenâ€¦ well, nothing! As we passed the configuration `{ dispatch: false }` we donâ€™t have to return any action\n\n## Takeaways\n\n*   A state-management solution, be it a library or your own implementation, should always be preferred to local stateÂ \n*   A single source of truth such as the store helps us managing the state of our application, with a few exceptions such as when the state is transient\n*   we briefly explored the concept of store, actions, reducers, entities, selectors, and effects, but in the next steps we will go into details into each of these with some more advanced examples\n\nIn the next article, we're going to the store of the application and the stateâ€™s entities. You can find it at the link below:\n[Architecting the Store in NGRX](https://medium.com/r/?url=https%3A%2F%2Fitnext.io%2Farchitecting-the-store-in-ngrx-e4955641d746)\n\nHope you enjoyed this article and stay tuned for the next part of this series!\n","tags":["ngrx","angular"]},"content":{"compiledSource":"var N=Object.defineProperty,l=Object.defineProperties;var d=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var r=(e,n,t)=\u003en in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=\u003e{for(var t in n||(n={}))o.call(n,t)\u0026\u0026r(e,t,n[t]);if(p)for(var t of p(n))c.call(n,t)\u0026\u0026r(e,t,n[t]);return e},m=(e,n)=\u003el(e,d(n));var i=(e,n)=\u003e{var t={};for(var s in e)o.call(e,s)\u0026\u0026n.indexOf(s)\u003c0\u0026\u0026(t[s]=e[s]);if(e!=null\u0026\u0026p)for(var s of p(e))n.indexOf(s)\u003c0\u0026\u0026c.call(e,s)\u0026\u0026(t[s]=e[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:e}=s,n=i(s,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h2\",null,\"State Management with NGRX\\u200A\\u2014\\u200AIntroduction\"),mdx(\"p\",null,\"In this article, I want to introduce you to the concepts that make up the NGRX platform and all its pieces to fully understand how it helps us create better applications.\"),mdx(\"p\",null,mdx(\"em\",{parentName:\"p\"},\"NGRX\"),\", for those who don\\u2019t know yet, is a \",mdx(\"em\",{parentName:\"p\"},\"Redux\"),\" library for \",mdx(\"em\",{parentName:\"p\"},\"Angular\"),\". It helps us with state management, which is arguably the hardest part to manage for modern, large scale, client-side applications.\"),mdx(\"p\",null,\"Compared to \",mdx(\"em\",{parentName:\"p\"},\"Redux\"),\", which only provides the layer for the store, \",mdx(\"em\",{parentName:\"p\"},\"NGRX\"),\" comes with quite a few powerful features.\"),mdx(\"hr\",null),mdx(\"p\",null,\"This is the first part of a 4-part articles series that will cover:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Pillars of NGRX\"),mdx(\"li\",{parentName:\"ul\"},\"How to architect our Store using reducers and entities\"),mdx(\"li\",{parentName:\"ul\"},\"Managing and testing side effects\"),mdx(\"li\",{parentName:\"ul\"},\"Connecting our UI to a Facade Service, with pros and cos\")),mdx(\"h2\",null,\"Why NGRX, or any state management solution\"),mdx(\"p\",null,\"NGRX, and other state management libraries for Angular (NGXS, Akita) have become important pieces in the architecture of complex web apps.\"),mdx(\"p\",null,\"An unpopular opinion of mine is that every Angular application should use some sort of state management, be it RX-powered services, MobX, or different Redux implementations.\"),mdx(\"p\",null,\"I found several pitfalls with large (and even small) projects using local state within components, such as:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"difficulty in passing data between routes\"),mdx(\"li\",{parentName:\"ul\"},\"difficulty in caching data already fetched\"),mdx(\"li\",{parentName:\"ul\"},\"repeated logic and requests\"),mdx(\"li\",{parentName:\"ul\"},\"no conventions\")),mdx(\"p\",null,\"This list could be much longer, but this is enough to convince me that some sort of state management is essential for not refactoring a new application any time soon.\"),mdx(\"h2\",null,\"NGRX Pillars\"),mdx(\"p\",null,\"Let\\u2019s see how the platform around \",mdx(\"em\",{parentName:\"p\"},\"NGRX\"),\" is structured:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"store\"),\"\\u200A\\u2014\\u200Awhich a central repository from which we can \",mdx(\"em\",{parentName:\"li\"},\"select\"),\" the state from every component and service within the Angular DI\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"effects\"),\"\\u200A\\u2014\\u200Awhich as the name suggests are side effects that happen when an action is dispatched\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"entity\"),\"\\u200A\\u2014\\u200Aan entity framework to help reduce the usual boilerplate\")),mdx(\"p\",null,\"Let\\u2019s now take a more detailed look at all the concepts we\\u2019re going to explore in the next steps.\"),mdx(\"h2\",null,\"Store\"),mdx(\"p\",null,\"A store is a central repository where we store our data.\"),mdx(\"p\",null,\"It\\u2019s our application database and the only source of truth in our client. Technically speaking, it\\u2019s simply a nested object that we use to select and store data.\"),mdx(\"p\",null,\"As the \",mdx(\"em\",{parentName:\"p\"},\"Store\"),\" service is accessible via the Angular DI, the data in our store is accessible by all components and services from everywhere in our application.\"),mdx(\"p\",null,\"Any information regarding state, unless isolated to one single part of the application (ex. forms, popups, transient state), should probably be stored in the store.\"),mdx(\"h2\",null,\"Actions\"),mdx(\"p\",null,\"In NGRX-speak\\u200A\\u2014\\u200Aactions are classes that hold information that gets passed to reducers or that trigger side effects.\"),mdx(\"p\",null,\"Actions have two parameters:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"a unique identifier we name \",mdx(\"inlineCode\",{parentName:\"li\"},\"type\"),\" (make sure you mark it as \",mdx(\"inlineCode\",{parentName:\"li\"},\"readonly\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"an optional \",mdx(\"inlineCode\",{parentName:\"li\"},\"payload\"),\" property that represents the data being passed to the action\")),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"enum\"),\" LoginActionTypes \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    LoginButtonClicked `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'[Login Button] LOGIN_BUTTON_CLICKED'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    LoginRequestStarted `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'[Login API] LOGIN_REQUEST_STARTED'\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"LoginButtonClicked\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"readonly\"),\" type \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" LoginActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"LoginButtonClicked\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"public\"),\" payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" LoginRequestPayload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"LoginRequestStarted\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"readonly\"),\" type \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" LoginActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"LoginRequestStarted\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"public\"),\" payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" LoginRequestPayload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"type\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"UserActions\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" LoginButtonClicked \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" LoginRequestStarted\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Conventions for naming the \",mdx(\"inlineCode\",{parentName:\"p\"},\"type\"),\" parameter:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"you will usually see the type being written using the format \",mdx(\"inlineCode\",{parentName:\"li\"},\"[prefix] NAME\")),mdx(\"li\",{parentName:\"ul\"},\"the prefix is useful to declare where the request is originated from, as recommended by the NGRX team\")),mdx(\"p\",null,\"\\u{1F4A1}\",mdx(\"strong\",{parentName:\"p\"},\"Pro Tip:\"),\" write many granular actions and always write what originated them. It doesn\\u2019t really matter if you rewrite some action that does the same thing.\\xA0\"),mdx(\"h2\",null,\"Reducers\"),mdx(\"p\",null,\"Reducers are simply pure functions responsible for updating the state object in an immutable manner.\\xA0\"),mdx(\"p\",null,\"A reducer is a function that receives two parameters: the current state object and an action class, and returns the new state as output.\\xA0\"),mdx(\"p\",null,\"The new state is \",mdx(\"strong\",{parentName:\"p\"},\"always a newly built object\"),\", and \",mdx(\"strong\",{parentName:\"p\"},\"we never mutate the state\"),\".\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"loginReducer\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n    state`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    action`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` UserActions\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"switch\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"type\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"case\"),\" UserActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"LoginSuccess\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"default\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"This is a dead-simple reducer that simply returns the current state if no action is matched, or returns the action\\u2019s payload as the next state. In a real application, your reducers will end up being much bigger than the example.\\xA0\"),mdx(\"p\",null,\"There are loads of libraries around to simplify using reducers, but to me, they are rarely worth using.\"),mdx(\"p\",null,\"For more complex reducers, I\\u2019d recommend to create functions and \",mdx(\"strong\",{parentName:\"p\"},\"keep the reducer functions simple and small\"),\".\"),mdx(\"p\",null,\"In fact, we can refactor the switch statement by simply using an object and match the action type with the object\\u2019s keys.\"),mdx(\"p\",null,\"Let\\u2019s rewrite that:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"LoginReducerActions\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"key\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n        state`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        action`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` UserActions\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" loginReducerActions\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" LoginReducerActions \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"UserActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"LoginSuccess\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n       state`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n       action`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` LoginSuccess\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),`payload\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"loginReducer\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n    state`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    action`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` UserActions\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" UserState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"loginReducerActions\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"hasOwnProperty\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"type\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n       `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" loginReducerActions\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"type\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"h2\",null,\"Selectors\"),mdx(\"p\",null,\"Selectors are simply functions we define to select information from the store\\u2019s object.\\xA0\"),mdx(\"p\",null,\"Before we can introduce selectors, let\\u2019s see how we would normally select data from the store within a service:\\xA0\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"DashboardState\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n   widgets`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"DashboardRepository\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    widgets$ `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"select\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" DashboardState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"widgets\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),\"DashboardState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Why is this approach not ideal?\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"it\\u2019s not DRY\"),mdx(\"li\",{parentName:\"ul\"},\"if the store\\u2019s structure will change (and believe me, it will), we need to change the selection everywhere\"),mdx(\"li\",{parentName:\"ul\"},\"the service itself knows about the structure of the store\"),mdx(\"li\",{parentName:\"ul\"},\"No caching\\xA0\")),mdx(\"p\",null,\"Let\\u2019s introduce the utility provided by \",mdx(\"inlineCode\",{parentName:\"p\"},\"@ngrx/store\"),\" called \",mdx(\"inlineCode\",{parentName:\"p\"},\"createSelector\"),\" which was inspired by the React library \",mdx(\"inlineCode\",{parentName:\"p\"},\"reselect\"),\".\\xA0\"),mdx(\"p\",null,\"For simplicity, I will keep the snippets unified, but you should assume that selectors are created in a separate file and they get exported.\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// selectors\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" createSelector\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" createFeatureSelector \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'@ngrx/store'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" selectDashboardState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createFeatureSelector\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'dashboard'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" selectAllWidgets \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createSelector\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n    selectDashboardState`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" DashboardState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),`widgets\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// service\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"DashboardRepository\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    widgets$ `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"select\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"selectAllWidgets\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Store\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),\"DashboardState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"\\u{1F4A1}\",mdx(\"strong\",{parentName:\"p\"},\"Pro Tip:\"),\" selectors are super useful, always write granular selectors and try to encapsulate logic within selectors rather than in your services or components\"),mdx(\"h2\",null,\"Entities\"),mdx(\"p\",null,\"Entities are added by the package \",mdx(\"inlineCode\",{parentName:\"p\"},\"@ngrx/entity\"),\"\\xA0.\"),mdx(\"p\",null,\"As you may have seen if you ever used Redux, the boilerplate for common CRUD operations is time-consuming and redundant.\"),mdx(\"p\",null,\"NGRX Entity helps us by providing out of the box a set of common operations and selectors that help to reduce the size of our reducers.\"),mdx(\"p\",null,\"What does our state look like by using this Entity framework?\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"EntityState\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003c\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token constant\"}),\"V\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003e\")),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  ids`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"string\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"number\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n  entities`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"id\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"string\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" id\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"number\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"V\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"I normally start by creating an adapter, in a separate file, so we can import it from different files such as the reducer and the selectors\\u2019 files.\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/1600/1*v9EpQXnp-aNUhDNb1oVMSQ.png\",alt:null}))),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" adapter\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" EntityAdapter\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),\"Widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token generic-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"createEntityAdapter\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token generic class-name\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003c\"),\"Widget\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003e\"))),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Let\\u2019s use the adapter in our reducer. How does the adapter interact with it?\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"it creates an initial state (see the interface \",mdx(\"inlineCode\",{parentName:\"li\"},\"EntityState\"),\" above)\"),mdx(\"li\",{parentName:\"ul\"},\"it gives us a series of \",mdx(\"em\",{parentName:\"li\"},\"CRUD\"),\" operations methods to write reducers on the fly\")),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" initialState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" DashboardState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" adapter\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getInitialState\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"dashboardReducer\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n    state `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" initialState\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    action`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` DashboardActions\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" DashboardState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"switch\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"type\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n       `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"case\"),\" DashbordActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"AddWidget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Widget \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" adapter\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"addOne\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" state\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// more ...\"),`\n   `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"\\u{1F4A1} \",mdx(\"strong\",{parentName:\"p\"},\"Pro Tip\"),\": \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23adapter-collection-methods\"}),\"Take a look at all the methods available in NGRX Entity\")),mdx(\"p\",null,\"The entity adapter also allows us to kickstart a collection of selectors to query the store.\"),mdx(\"p\",null,\"Here\\u2019s an example for selecting all the widgets in our dashboard\\u2019s state:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" selectAll \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" adapter\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"getSelectors\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" selectDashboardState \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token generic-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"createFeatureSelector\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token generic class-name\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003c\"),\"DashboardState\",mdx(\"span\",a({parentName:\"span\"},{className:\"token operator\"}),\"\u003e\"))),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'dashboard'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" selectAllWidgets \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createSelector\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n  selectDashboardState`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n  selectAll\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"\\u{1F4A1} \",mdx(\"strong\",{parentName:\"p\"},\"Pro Tip\"),\": \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://medium.com/r/?url=https%3A%2F%2Fngrx.io%2Fguide%2Fentity%2Fadapter%23entity-selectors\"}),\"Take a look at all the selectors available in NGRX Entity\")),mdx(\"h2\",null,\"Effects\"),mdx(\"p\",null,\"Finally, my number one favorite feature in NGRX: \",mdx(\"em\",{parentName:\"p\"},\"Effects\"),\".\"),mdx(\"p\",null,\"As the name suggests, we use effects to manage side-effects in our application. NGRX implements effects as streams emitted by actions, that in most cases return new actions.\"),mdx(\"p\",null,\"Let\\u2019s consider the diagram below:\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/1600/1*zucA-8bRWyhrhxkdMBOpLA.png\",alt:null}))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"an action gets dispatched from somewhere in the application (ex: UI, WebSocket, Timers, etc.)\"),mdx(\"li\",{parentName:\"ul\"},\"the effects intercept the action, for which a side-effect has been defined. The side-effect gets executed\"),mdx(\"li\",{parentName:\"ul\"},\"The side effect, with exceptions, returns a new action\"),mdx(\"li\",{parentName:\"ul\"},\"The action goes through a reducer and updates the store\")),mdx(\"p\",null,\"As I mentioned, not all side effects will return a new action. We can configure an effect not to dispatch any action if it is not needed, but it\\u2019s important that you understand that in most cases we do want to dispatch new actions as a result.\\xA0\"),mdx(\"p\",null,\"The most practical use-case for effects in \",mdx(\"em\",{parentName:\"p\"},\"NGRX\"),\" is making \",mdx(\"em\",{parentName:\"p\"},\"HTTP\"),\" requests:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"WidgetsEffects\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"constructor\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" actions$\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Actions\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" api\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),` WidgetApiService\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"Effect\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n    createWidget$`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Observable\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),\"AddWidgetAction\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"actions$\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"pipe\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"ofType\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"WidgetsActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"CreateWidgetRequestStarted\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"mergeMap\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" CreateWidgetAction\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"api\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createWidget\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"payload\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"map\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"new\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AddWidgetAction\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"widget\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n         `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"Effect\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" dispatch\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token boolean\"}),\"false\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n    exportWidgets$`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Observable\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003c\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"void\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"actions$\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"pipe\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"ofType\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"WidgetsActionTypes\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"ExportWidgets\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"tap\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"action\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" ExportWidgets\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\u003e\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"return\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"api\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"exportWidgets\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n         `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Let\\u2019s break the above snippet down.\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"we created a class called \",mdx(\"inlineCode\",{parentName:\"li\"},\"WidgetsEffects\")),mdx(\"li\",{parentName:\"ul\"},\"we import two providers: \",mdx(\"inlineCode\",{parentName:\"li\"},\"Actions\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"WidgetsApiService\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"Actions\"),\" is a stream of actions. We use the operator \",mdx(\"inlineCode\",{parentName:\"li\"},\"ofType\"),\" that helps us filter the actions to only the one we want to listen to\"),mdx(\"li\",{parentName:\"ul\"},\"We create a property on the class and decorate it with \",mdx(\"inlineCode\",{parentName:\"li\"},\"Effect\")),mdx(\"li\",{parentName:\"ul\"},\"This effect is called when an action called \",mdx(\"inlineCode\",{parentName:\"li\"},\"CREATE_WIDGET_REQUEST\"),\" is dispatched\"),mdx(\"li\",{parentName:\"ul\"},\"We get the payload from the action and execute a call with our API service\"),mdx(\"li\",{parentName:\"ul\"},\"Once that has successfully been executed, we map it the action \",mdx(\"inlineCode\",{parentName:\"li\"},\"AddWidgetAction\"),\" which can be picked up by the reducer and update our store\"),mdx(\"li\",{parentName:\"ul\"},\"In the second effect called \",mdx(\"inlineCode\",{parentName:\"li\"},\"exportWidgets$\"),\"\\xA0, we receive an action \",mdx(\"inlineCode\",{parentName:\"li\"},\"ExportWidgets\"),\"\\xA0, we use the \",mdx(\"inlineCode\",{parentName:\"li\"},\"tap\"),\" operator to execute a side-effect, and then\\u2026 well, nothing! As we passed the configuration \",mdx(\"inlineCode\",{parentName:\"li\"},\"{ dispatch: false }\"),\" we don\\u2019t have to return any action\")),mdx(\"h2\",null,\"Takeaways\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"A state-management solution, be it a library or your own implementation, should always be preferred to local state\\xA0\"),mdx(\"li\",{parentName:\"ul\"},\"A single source of truth such as the store helps us managing the state of our application, with a few exceptions such as when the state is transient\"),mdx(\"li\",{parentName:\"ul\"},\"we briefly explored the concept of store, actions, reducers, entities, selectors, and effects, but in the next steps we will go into details into each of these with some more advanced examples\")),mdx(\"p\",null,`In the next article, we're going to the store of the application and the state\\u2019s entities. You can find it at the link below:\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"https://medium.com/r/?url=https%3A%2F%2Fitnext.io%2Farchitecting-the-store-in-ngrx-e4955641d746\"}),\"Architecting the Store in NGRX\")),mdx(\"p\",null,\"Hope you enjoyed this article and stay tuned for the next part of this series!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"series":[{"live":true,"readingTime":"9 min read","title":"Introduction","date":"2019-05-02T00:00:00.322Z","slug":"state-management-with-ngrx-introduction","coverImage":"/assets/images/posts/stae-managemen-with-ngrx.png","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"An Introduction to the NGRX platform â€” Concepts, Best Practices, and Tips","series":"State Management with NgRx","tags":["ngrx","angular"]},{"live":true,"readingTime":"10 min read","title":"Architecting the Store","date":"2019-05-05T00:00:00.322Z","slug":"architecting-the-store-in-ngrx","coverImage":"/assets/images/posts/architecting-store-ngrx.png","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"A step-by-step guide to building and architecting the Store in NGRX","series":"State Management with NgRx","tags":["ngrx","angular"]},{"live":true,"readingTime":"6 min read","title":"Building Side Effects","date":"2019-06-05T00:00:00.322Z","slug":"building-side-effects-in-ngrx","coverImage":"/assets/images/posts/cryptofolio-cover.gif","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Effects are one of the most powerful features in NGRX. Letâ€™s see some practical examples, like calling an API or streaming real-time data","series":"State Management with NgRx","tags":["ngrx","angular"]},{"live":true,"readingTime":"10 min read","title":"Abstracting State withÂ Facades","date":"2019-06-27T00:00:00.322Z","slug":"abstracting-state-with-ngrx-facades","coverImage":"/assets/images/posts/state-management-with-ngrx.png","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Using Ngrx facades to connect your components with your state","series":"State Management with NgRx","tags":["angular","ngrx"]}],"morePosts":[],"moreArticles":[{"live":true,"readingTime":"2 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version","tags":["angular"]},{"live":true,"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations","tags":["nx","angular"]},{"live":true,"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for","tags":["angular","architecture"]},{"live":true,"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page","tags":["angular","performance"]},{"live":true,"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"setters-vs-ng-on-changes","coverImage":"/assets/images/posts/setters-vs-on-changes.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Listening to Input changes can be done in different ways. But which one should you use?","tags":["angular"]},{"live":true,"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"async-rendering-with-a-single-rx-operator","coverImage":"/assets/images/posts/async-rendering.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp"},"excerpt":"Increase your app rendering performance with this simple Rx operator","tags":["angular","rxjs"]}],"type":1},"__N_SSG":true},"page":"/[collection]/[slug]","query":{"collection":"angular","slug":"state-management-with-ngrx-introduction"},"buildId":"FQhTPXnsX8o_rksgjvqhb","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script async="" defer="" src="https://www.googletagmanager.com/gtag/js"></script><script id="gtmDataLayer">
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-172483071-1');
</script></body></html>