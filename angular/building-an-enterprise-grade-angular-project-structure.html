<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/favicon.png" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Giancarlo Buomprisco&#x27;s Website"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Building an enterprise-grade Angular project structure</title><meta property="og:image" content="https://cdn-images-1.medium.com/max/1600/1*m05AboOrZxeSIHkBfRqzqw.jpeg"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/b4fcbfa3804a7e86.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b4fcbfa3804a7e86.css" data-n-g=""/><link rel="preload" href="/_next/static/css/92b534adac692869.css" as="style"/><link rel="stylesheet" href="/_next/static/css/92b534adac692869.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-27593bf8d60abcde.js" defer=""></script><script src="/_next/static/chunks/framework-93dc06fa7fcdddfb.js" defer=""></script><script src="/_next/static/chunks/main-ee2aed86ad5514de.js" defer=""></script><script src="/_next/static/chunks/pages/_app-64e11a95ea9f54b9.js" defer=""></script><script src="/_next/static/chunks/501-5650b991910e93a7.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcollection%5D/%5Bslug%5D-f665301e518fb34c.js" defer=""></script><script src="/_next/static/EV4nh9QO-r2LHGbf378Sv/_buildManifest.js" defer=""></script><script src="/_next/static/EV4nh9QO-r2LHGbf378Sv/_ssgManifest.js" defer=""></script><script src="/_next/static/EV4nh9QO-r2LHGbf378Sv/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div><main><div style="--from:#dd0031b0;--to:#dd0031" class="collection-branding-bar_gradient__1Ie5x"></div><div class="container mx-auto px-5"><div class="flex-row flex justify-between my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div><ul class="flex space-x-8 px-4"><li class="text-gray-700 hover:text-gray-900"><a href="/about">About Me</a></li></ul></div></div><article class="mb-32"><h1 class="text-5xl md:text-7xl lg:text-8xl font-bold tracking-tighter md:leading-none mb-8 text-center">Building an enterprise-grade Angular project structure</h1><div class="mb-4 flex justify-center"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:24px;height:24px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div><div class="max-w-2xl mx-auto mb-6"><div class="flex flex-row space-x-2 items-center justify-center"><div class="text-sm text-center text-gray-600"><time dateTime="2019-04-25T00:00:00.322Z">April	25, 2019</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500 text-sm">7 min read</span></div></div><div class="mb-8 md:mb-16 sm:mx-0"><div class="w-12/12 md:w-8/12 mx-auto flex justify-center"><div class="sm:mx-0"><img src="https://cdn-images-1.medium.com/max/1600/1*m05AboOrZxeSIHkBfRqzqw.jpeg" alt="Cover Image for Building an enterprise-grade Angular project structure" loading="lazy" class="shadow-small object-contain w-full h-auto"/></div></div></div><div class="max-w-2xl mx-auto leading-loose"><div class="markdown-styles_markdown__1x9gM"><p>An important task in setting up a modern front-end project is to define a scalable, long-term and future-proof folders structure, and the naming guidelines for each different programming entity.</p>
<p>While some think of this as a simple and secondary aspect‚Ää‚Äî‚Ääit often hides more complexities than it seems. Even though most times there is no perfect solution‚Ää‚Äî‚Ääwe can explore some of the industry best practices, and some of the things that in my experience made the most sense.</p>
<p>In this article we‚Äôll go through:</p>
<ul>
<li>defining the entities that make up our project at each level of the stack</li>
<li>distributing our Angular and Typescript entities in folders</li>
<li>state management as a collection of service modules</li>
</ul>
<h2>Angular entities</h2>
<p>The first thing I often do when setting up a new codebase is to think and define the programming entities that make up my stack. As Angular developers, we know some of them pretty well already:</p>
<ul>
<li>modules, components, directives, services, pipes, and guards</li>
</ul>
<p>As suggested by the framework‚Äôs documentation, every time we create each one of these entities we will suffix the filename with the name of the entity.</p>
<p>Therefore‚Ää‚Äî‚Ääif we create a pipe whose class is called <em>HighlightPipe,</em> we will name its file <em>highlight.pipe.ts,</em> and if we have a component called <em>DropdownComponent</em> we want to its files <em>dropdown.component.ts, dropdown.component.html</em> and <em>dropdown.component.scss.</em></p>
<h3>Feature Modules</h3>
<p>We cannot talk about an Angular project‚Äôs structure without first talking about Angular Modules.</p>
<p>As Angular apps are made of modules that can import other modules, they naturally become the root folders that make up an Angular project. Each module will contain all other Angular entities contained in their own folders.</p>
<p>Let‚Äôs say we‚Äôre building an e-commerce application, and we create a shopping cart feature module, this is what its structure could look like:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*ehG_arBxpW0L2_MfzLC11w.png" alt=""></p>
<blockquote>
<p>üí°As you may notice, I tend to differentiate between <em>containers</em> (smart)  and <em>components</em> (dumb) so I place them in different folders, but it‚Äôs not something I necessarily advocate</p>
</blockquote>
<p>A <em>Feature Module</em> is not supposed to export anything except the top component, so anything we define within it will not be used elsewhere.</p>
<h3>Shared Modules</h3>
<p>What if something needs to be reused elsewhere, though?</p>
<p>In this case, we create a shared module <em>SharedModule</em> that will host all shared entities that will be provided to every module of the project.</p>
<p>A <em>SharedModule</em> is usually made up of entities that are shared across different modules within a project‚Ää‚Äî‚Ääbut aren‚Äôt normally needed outside of it. When we do encounter services or components that can be reused across different teams and projects, and that ideally don‚Äôt change very often, we may want to build an <em>Angular Library</em>.</p>
<blockquote>
<p>üí°For a detailed overview of all the different module types, you can check that out on <a href="https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Fmodule-types">Angular‚Äôs official website</a>.</p>
</blockquote>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*4yJiLhCEV4RNKN_7dw5PBA.png" alt=""></p>
<h3>Libraries, Monorepos and Microfrontends</h3>
<p>When you are using highly-reusable services or components, which can be classified as <em>Service Modules</em> and <em>Widget Modules,</em> you may want to build these modules as <em>Angular Libraries,</em> which can be either be created in their own repository or in a larger¬†<em>monorepo</em>.</p>
<p>Thanks to the powerful CLI, we can easily generate Angular libraries that will be built in a folder called <em>projects</em> with this simple command_:_</p>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">ng generate library my-lib</code></pre></div>
<p>For a complete description regarding Angular libraries, have a look at the <a href="https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Fcreating-libraries">official documentation on Angular.io</a>.</p>
<p>Using libraries has a few advantages over local modules:</p>
<ul>
<li>we think and build these modules with reusability in mind</li>
<li>we can easily publish and share these libraries with other teams/projects</li>
</ul>
<p>With also some cons:</p>
<ul>
<li>you‚Äôd need to link your library to your main project and rebuild it for every change</li>
<li>if this is distributed via NPM and built outside your main project, you‚Äôd need to keep syncing your project with the latest version of the library</li>
</ul>
<p><strong>Example:</strong> Let‚Äôs say <em>BigCompany</em> uses a messaging system all teams use‚Ää‚Äî‚Ääwe may want to share our abstraction to avoid many libraries essentially doing the usual groundwork.</p>
<p>So we create a library called <em>messaging,</em> and we publish it to NPM as <em>@big-company/messaging.</em></p>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*AcTvEFBvGrCjo3yFsMc5rQ.png" alt=""></p>
<p>But what about <em>monorepos</em>? and <em>microfrontends</em>?</p>
<p>This would probably need a larger article, but we can‚Äôt talk about enterprise-grade projects without mentioning these other two ways:</p>
<ul>
<li>A <em>monorepo</em> is a proven strategy to work with large (or even giant) codebases so that all code can be reused, where essentially all the codebase lives in the same repository. All projects will always use the latest version of the code</li>
<li>A <em>microfrontend</em> allows large applications to be split into smaller apps in their own codebase, maybe using a totally different stack, that can be composed. For example, your login page could be written in <em>Vue</em> and the rest of the app in <em>Angular</em> and <em>React</em>. It is worth mentioning that <em>Nx Workspaces</em> also allow using different technology stacks, such as <em>React</em></li>
</ul>
<blockquote>
<p>üí° You may want to take a look at <a href="https://medium.com/r/?url=https%3A%2F%2Fnx.dev%2Fgetting-started%2Fgetting-started">Nx Workspace</a>s</p>
</blockquote>
<p>Building an Angular project as a <em>monorepo</em> containing more projects and libraries is an appealing solution, but practically difficult to undertake for massive technology companies, where many teams and projects are separate and far away from each other.</p>
<p>So where should be libraries built?</p>
<ul>
<li>If all developers of a company are set to work on the same main project, no matter how large, a monorepo could be a good solution</li>
<li>If instead developers are set to work on different projects, in different teams, locations, and more importantly codebases, you may want to build each library in their own repository</li>
</ul>
<h2>Typescript entities</h2>
<p>If you are using Angular with Typescript‚Ää‚Äî‚Ääand I assume you are, you also have to take into account Typescript‚Äôs own powerful entities that we can leverage to make a structured, well-written codebase.</p>
<p>Here is a list of Typescript entities that you‚Äôll be using the most in your project:</p>
<ul>
<li>classes</li>
<li>enums</li>
<li>interfaces (and types)</li>
</ul>
<p>I like to group these entities in their own folder within a module, which I reluctantly call <em>core,</em> but this is very much up to you and your team to decide.</p>
<p>I recommend creating a matching Typescript file for each back-end entity. This includes enums, DTOs (for both requests and responses), and data classes.</p>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*RlTkHY3DfZo7bMrWI6eHgA.png" alt=""></p>
<p>Sometimes, for example, we are going to be developing against a microservice shared by several teams within a company. In similar cases, I think it makes sense to build an angular library that will be hosting the matching classes, interfaces, and enums rather than developing the module locally.</p>
<h2>State Management</h2>
<p>Whatever state management library you‚Äôre planning on using, one thing I‚Äôd recommend is to keep the business logic separated from domain modules. We can leverage the <em>Service Modules</em> pattern  and import it in its relative feature module.</p>
<p>A State Management service module only needs to export two things:</p>
<ul>
<li>the module itself in order to register its providers</li>
<li>a facade service that acts as a bridge between the UI components of our feature module and the store</li>
</ul>
<p>What advantages does this pattern have?</p>
<ul>
<li>if we import the module from a lazy loaded route‚Ää‚Äî‚Ääthis will be imported only when the route is loaded. Sometimes, you may need multiple feature modules in a specific route‚Ää‚Äî‚Ääin which case you may be forced to import them from <em>AppModule</em> as well</li>
<li>Better separation/encapsulation from the UI. The components don‚Äôt need to know what state-management you‚Äôre using</li>
<li>We can refactor/change the state-management¬†</li>
</ul>
<p>I like to keep the state separate from feature modules, which is a practice particularly popular but that still keeps the Angular community fairly divided:</p>
<ul>
<li>let‚Äôs say we have a routed module called <em>Dashboard</em> at root level  that contained all its UI components¬†</li>
<li>again at root level‚Ää‚Äî‚Ääwe have a folder called <em>store</em> that contains all the state service modules that will handle the state</li>
</ul>
<h3>NGRX programming entities</h3>
<p>What programming entities does NGRX have?</p>
<ul>
<li>reducers</li>
<li>actions</li>
<li>selectors</li>
<li>effects (from @ngrx/effects)</li>
<li>adapter (from @ngrx/entity)</li>
</ul>
<p>Let‚Äôs look at a brief example in the image below using NGRX, which I will be explaining in detail in a separate article.</p>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*XAewyZhX58E-BmuSFxi2dw.png" alt=""></p>
<ul>
<li>The dashboard module imports the dashboard store module</li>
<li>The components within the <em>dashboard</em> module will only communicate with the store through the service <em>DashboardFacadeService</em></li>
</ul>
<blockquote>
<p>üí° If we create a test for each file we create, it's a good idea to place them in a separate folder</p>
</blockquote>
<h2>Takeaways ‚≠ê</h2>
<ul>
<li>One of the first things to think about when setting up a new project, regardless of which stack you‚Äôre using, is to think about the programming entities you are going to use</li>
<li>Some modules that are highly-reusable should probably live outside of your main app: leverage Angular libraries üí™</li>
<li>Think about splitting your feature modules from their state by creating state-management service modules</li>
</ul>
</div></div></article><div class="w-full md:w-8/12 mx-auto"><script async="" data-uid="3e3126f064" src="https://thoughtful-inventor-7842.ck.page/3e3126f064/index.js"></script></div><div><hr class="border-accent-2 mt-16 mb-14"/><h3 class="text-2xl md:text-3xl text-center font-semibold my-4 md:my-12 flex flex-row space-x-4 items-center justify-center"><span>More Posts for</span> <div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:28px;height:28px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></h3><section><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-x-12 lg:gap-x-16 gap-y-20 md:gap-y-24 mb-32"><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Benchmarking Angular 12 with Webpack 5" href="/angular/webpack-5-angular12"><img src="/assets/images/posts/benchmarking-webpack-5.png" alt="Cover Image for Benchmarking Angular 12 with Webpack 5" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/webpack-5-angular12">Benchmarking Angular 12 with Webpack 5</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2021-05-14T00:00:00.322Z">May	14, 2021</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">2 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Principles for creating libraries with Nx and Angular" href="/angular/how-to-organize-nx-modules-with-angular"><img src="/assets/images/posts/organize-nx-modules-ngrx.png" alt="Cover Image for Principles for creating libraries with Nx and Angular" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/how-to-organize-nx-modules-with-angular">Principles for creating libraries with Nx and Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2021-02-07T00:00:00.322Z">February	7, 2021</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">5 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Where to put your Angular models?" href="/angular/angular-where-to-put-models"><img src="/assets/images/posts/where-put-angular-models.png" alt="Cover Image for Where to put your Angular models?" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/angular-where-to-put-models">Where to put your Angular models?</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-08-03T00:00:00.322Z">August	3, 2020</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Using the Intersection Observer API with Angular" href="/angular/intersection-observer-with-angular"><img src="/assets/images/posts/intersection-observer.png" alt="Cover Image for Using the Intersection Observer API with Angular" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/intersection-observer-with-angular">Using the Intersection Observer API with Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-08-01T00:00:00.322Z">August	1, 2020</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">5 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Setters vs ngOnChanges: which one is better?" href="/angular/setters-vs-ng-on-changes"><img src="/assets/images/posts/setters-vs-on-changes.png" alt="Cover Image for Setters vs ngOnChanges: which one is better?" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/setters-vs-ng-on-changes">Setters vs ngOnChanges: which one is better?</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-07-30T00:00:00.322Z">July	30, 2020</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Listening to Input changes can be done in different ways. But which one should you use?</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Async Rendering with a single Rx Operator" href="/angular/async-rendering-with-a-single-rx-operator"><img src="/assets/images/posts/async-rendering.png" alt="Cover Image for Async Rendering with a single Rx Operator" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/async-rendering-with-a-single-rx-operator">Async Rendering with a single Rx Operator</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-07-11T00:00:00.322Z">July	11, 2020</time></div><span class="text-gray-500">¬∑</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">¬∑</span><div class="text-xs"><div class="text-center flex flex-row space-x-1 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Increase your app rendering performance with this simple Rx operator</p></div></div></section></div></div></main></div><footer><div class="container mx-auto px-5"><hr class="border-accent-2 mt-16 mb-14"/><div class="flex-row flex justify-between my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div><ul class="flex space-x-8 px-4"><li class="text-gray-700 hover:text-gray-900"><a href="/about">About Me</a></li></ul></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"readingTime":"7 min read","title":"Building an enterprise-grade Angular project structure","date":"2019-04-25T00:00:00.322Z","slug":"building-an-enterprise-grade-angular-project-structure","content":"\u003cp\u003eAn important task in setting up a modern front-end project is to define a scalable, long-term and future-proof folders structure, and the naming guidelines for each different programming entity.\u003c/p\u003e\n\u003cp\u003eWhile some think of this as a simple and secondary aspect‚Ää‚Äî‚Ääit often hides more complexities than it seems. Even though most times there is no perfect solution‚Ää‚Äî‚Ääwe can explore some of the industry best practices, and some of the things that in my experience made the most sense.\u003c/p\u003e\n\u003cp\u003eIn this article we‚Äôll go through:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edefining the entities that make up our project at each level of the stack\u003c/li\u003e\n\u003cli\u003edistributing our Angular and Typescript entities in folders\u003c/li\u003e\n\u003cli\u003estate management as a collection of service modules\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAngular entities\u003c/h2\u003e\n\u003cp\u003eThe first thing I often do when setting up a new codebase is to think and define the programming entities that make up my stack. As Angular developers, we know some of them pretty well already:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003emodules, components, directives, services, pipes, and guards\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAs suggested by the framework‚Äôs documentation, every time we create each one of these entities we will suffix the filename with the name of the entity.\u003c/p\u003e\n\u003cp\u003eTherefore‚Ää‚Äî‚Ääif we create a pipe whose class is called \u003cem\u003eHighlightPipe,\u003c/em\u003e we will name its file \u003cem\u003ehighlight.pipe.ts,\u003c/em\u003e and if we have a component called \u003cem\u003eDropdownComponent\u003c/em\u003e we want to its files \u003cem\u003edropdown.component.ts, dropdown.component.html\u003c/em\u003e and \u003cem\u003edropdown.component.scss.\u003c/em\u003e\u003c/p\u003e\n\u003ch3\u003eFeature Modules\u003c/h3\u003e\n\u003cp\u003eWe cannot talk about an Angular project‚Äôs structure without first talking about Angular Modules.\u003c/p\u003e\n\u003cp\u003eAs Angular apps are made of modules that can import other modules, they naturally become the root folders that make up an Angular project. Each module will contain all other Angular entities contained in their own folders.\u003c/p\u003e\n\u003cp\u003eLet‚Äôs say we‚Äôre building an e-commerce application, and we create a shopping cart feature module, this is what its structure could look like:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn-images-1.medium.com/max/1600/1*ehG_arBxpW0L2_MfzLC11w.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüí°As you may notice, I tend to differentiate between \u003cem\u003econtainers\u003c/em\u003e (smart)  and \u003cem\u003ecomponents\u003c/em\u003e (dumb) so I place them in different folders, but it‚Äôs not something I necessarily advocate\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eA \u003cem\u003eFeature Module\u003c/em\u003e is not supposed to export anything except the top component, so anything we define within it will not be used elsewhere.\u003c/p\u003e\n\u003ch3\u003eShared Modules\u003c/h3\u003e\n\u003cp\u003eWhat if something needs to be reused elsewhere, though?\u003c/p\u003e\n\u003cp\u003eIn this case, we create a shared module \u003cem\u003eSharedModule\u003c/em\u003e that will host all shared entities that will be provided to every module of the project.\u003c/p\u003e\n\u003cp\u003eA \u003cem\u003eSharedModule\u003c/em\u003e is usually made up of entities that are shared across different modules within a project‚Ää‚Äî‚Ääbut aren‚Äôt normally needed outside of it. When we do encounter services or components that can be reused across different teams and projects, and that ideally don‚Äôt change very often, we may want to build an \u003cem\u003eAngular Library\u003c/em\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüí°For a detailed overview of all the different module types, you can check that out on \u003ca href=\"https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Fmodule-types\"\u003eAngular‚Äôs official website\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn-images-1.medium.com/max/1600/1*4yJiLhCEV4RNKN_7dw5PBA.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch3\u003eLibraries, Monorepos and Microfrontends\u003c/h3\u003e\n\u003cp\u003eWhen you are using highly-reusable services or components, which can be classified as \u003cem\u003eService Modules\u003c/em\u003e and \u003cem\u003eWidget Modules,\u003c/em\u003e you may want to build these modules as \u003cem\u003eAngular Libraries,\u003c/em\u003e which can be either be created in their own repository or in a larger¬†\u003cem\u003emonorepo\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003eThanks to the powerful CLI, we can easily generate Angular libraries that will be built in a folder called \u003cem\u003eprojects\u003c/em\u003e with this simple command_:_\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eng generate library my-lib\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eFor a complete description regarding Angular libraries, have a look at the \u003ca href=\"https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Fcreating-libraries\"\u003eofficial documentation on Angular.io\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eUsing libraries has a few advantages over local modules:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewe think and build these modules with reusability in mind\u003c/li\u003e\n\u003cli\u003ewe can easily publish and share these libraries with other teams/projects\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWith also some cons:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eyou‚Äôd need to link your library to your main project and rebuild it for every change\u003c/li\u003e\n\u003cli\u003eif this is distributed via NPM and built outside your main project, you‚Äôd need to keep syncing your project with the latest version of the library\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eExample:\u003c/strong\u003e Let‚Äôs say \u003cem\u003eBigCompany\u003c/em\u003e uses a messaging system all teams use‚Ää‚Äî‚Ääwe may want to share our abstraction to avoid many libraries essentially doing the usual groundwork.\u003c/p\u003e\n\u003cp\u003eSo we create a library called \u003cem\u003emessaging,\u003c/em\u003e and we publish it to NPM as \u003cem\u003e@big-company/messaging.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn-images-1.medium.com/max/2400/1*AcTvEFBvGrCjo3yFsMc5rQ.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eBut what about \u003cem\u003emonorepos\u003c/em\u003e? and \u003cem\u003emicrofrontends\u003c/em\u003e?\u003c/p\u003e\n\u003cp\u003eThis would probably need a larger article, but we can‚Äôt talk about enterprise-grade projects without mentioning these other two ways:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA \u003cem\u003emonorepo\u003c/em\u003e is a proven strategy to work with large (or even giant) codebases so that all code can be reused, where essentially all the codebase lives in the same repository. All projects will always use the latest version of the code\u003c/li\u003e\n\u003cli\u003eA \u003cem\u003emicrofrontend\u003c/em\u003e allows large applications to be split into smaller apps in their own codebase, maybe using a totally different stack, that can be composed. For example, your login page could be written in \u003cem\u003eVue\u003c/em\u003e and the rest of the app in \u003cem\u003eAngular\u003c/em\u003e and \u003cem\u003eReact\u003c/em\u003e. It is worth mentioning that \u003cem\u003eNx Workspaces\u003c/em\u003e also allow using different technology stacks, such as \u003cem\u003eReact\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüí° You may want to take a look at \u003ca href=\"https://medium.com/r/?url=https%3A%2F%2Fnx.dev%2Fgetting-started%2Fgetting-started\"\u003eNx Workspace\u003c/a\u003es\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eBuilding an Angular project as a \u003cem\u003emonorepo\u003c/em\u003e containing more projects and libraries is an appealing solution, but practically difficult to undertake for massive technology companies, where many teams and projects are separate and far away from each other.\u003c/p\u003e\n\u003cp\u003eSo where should be libraries built?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIf all developers of a company are set to work on the same main project, no matter how large, a monorepo could be a good solution\u003c/li\u003e\n\u003cli\u003eIf instead developers are set to work on different projects, in different teams, locations, and more importantly codebases, you may want to build each library in their own repository\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eTypescript entities\u003c/h2\u003e\n\u003cp\u003eIf you are using Angular with Typescript‚Ää‚Äî‚Ääand I assume you are, you also have to take into account Typescript‚Äôs own powerful entities that we can leverage to make a structured, well-written codebase.\u003c/p\u003e\n\u003cp\u003eHere is a list of Typescript entities that you‚Äôll be using the most in your project:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eclasses\u003c/li\u003e\n\u003cli\u003eenums\u003c/li\u003e\n\u003cli\u003einterfaces (and types)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI like to group these entities in their own folder within a module, which I reluctantly call \u003cem\u003ecore,\u003c/em\u003e but this is very much up to you and your team to decide.\u003c/p\u003e\n\u003cp\u003eI recommend creating a matching Typescript file for each back-end entity. This includes enums, DTOs (for both requests and responses), and data classes.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn-images-1.medium.com/max/2400/1*RlTkHY3DfZo7bMrWI6eHgA.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eSometimes, for example, we are going to be developing against a microservice shared by several teams within a company. In similar cases, I think it makes sense to build an angular library that will be hosting the matching classes, interfaces, and enums rather than developing the module locally.\u003c/p\u003e\n\u003ch2\u003eState Management\u003c/h2\u003e\n\u003cp\u003eWhatever state management library you‚Äôre planning on using, one thing I‚Äôd recommend is to keep the business logic separated from domain modules. We can leverage the \u003cem\u003eService Modules\u003c/em\u003e pattern  and import it in its relative feature module.\u003c/p\u003e\n\u003cp\u003eA State Management service module only needs to export two things:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe module itself in order to register its providers\u003c/li\u003e\n\u003cli\u003ea facade service that acts as a bridge between the UI components of our feature module and the store\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhat advantages does this pattern have?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eif we import the module from a lazy loaded route‚Ää‚Äî‚Ääthis will be imported only when the route is loaded. Sometimes, you may need multiple feature modules in a specific route‚Ää‚Äî‚Ääin which case you may be forced to import them from \u003cem\u003eAppModule\u003c/em\u003e as well\u003c/li\u003e\n\u003cli\u003eBetter separation/encapsulation from the UI. The components don‚Äôt need to know what state-management you‚Äôre using\u003c/li\u003e\n\u003cli\u003eWe can refactor/change the state-management¬†\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI like to keep the state separate from feature modules, which is a practice particularly popular but that still keeps the Angular community fairly divided:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elet‚Äôs say we have a routed module called \u003cem\u003eDashboard\u003c/em\u003e at root level  that contained all its UI components¬†\u003c/li\u003e\n\u003cli\u003eagain at root level‚Ää‚Äî‚Ääwe have a folder called \u003cem\u003estore\u003c/em\u003e that contains all the state service modules that will handle the state\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eNGRX programming entities\u003c/h3\u003e\n\u003cp\u003eWhat programming entities does NGRX have?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ereducers\u003c/li\u003e\n\u003cli\u003eactions\u003c/li\u003e\n\u003cli\u003eselectors\u003c/li\u003e\n\u003cli\u003eeffects (from @ngrx/effects)\u003c/li\u003e\n\u003cli\u003eadapter (from @ngrx/entity)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLet‚Äôs look at a brief example in the image below using NGRX, which I will be explaining in detail in a separate article.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://cdn-images-1.medium.com/max/2400/1*XAewyZhX58E-BmuSFxi2dw.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe dashboard module imports the dashboard store module\u003c/li\u003e\n\u003cli\u003eThe components within the \u003cem\u003edashboard\u003c/em\u003e module will only communicate with the store through the service \u003cem\u003eDashboardFacadeService\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eüí° If we create a test for each file we create, it's a good idea to place them in a separate folder\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2\u003eTakeaways ‚≠ê\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eOne of the first things to think about when setting up a new project, regardless of which stack you‚Äôre using, is to think about the programming entities you are going to use\u003c/li\u003e\n\u003cli\u003eSome modules that are highly-reusable should probably live outside of your main app: leverage Angular libraries üí™\u003c/li\u003e\n\u003cli\u003eThink about splitting your feature modules from their state by creating state-management service modules\u003c/li\u003e\n\u003c/ul\u003e\n","coverImage":"https://cdn-images-1.medium.com/max/1600/1*m05AboOrZxeSIHkBfRqzqw.jpeg","collection":"angular"},"morePosts":[{"readingTime":"2 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.png","collection":"angular","excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version"},{"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.png","collection":"angular","excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations"},{"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.png","collection":"angular","excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for"},{"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.png","collection":"angular","excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page"},{"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"setters-vs-ng-on-changes","coverImage":"/assets/images/posts/setters-vs-on-changes.png","collection":"angular","excerpt":"Listening to Input changes can be done in different ways. But which one should you use?"},{"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"async-rendering-with-a-single-rx-operator","coverImage":"/assets/images/posts/async-rendering.png","collection":"angular","excerpt":"Increase your app rendering performance with this simple Rx operator"}]},"__N_SSG":true},"page":"/[collection]/[slug]","query":{"collection":"angular","slug":"building-an-enterprise-grade-angular-project-structure"},"buildId":"EV4nh9QO-r2LHGbf378Sv","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-172483071-1"></script><script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-172483071-1');
</script></body></html>