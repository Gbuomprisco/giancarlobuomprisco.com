<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/favicon.png" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Giancarlo Buomprisco&#x27;s Website"/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Setters vs ngOnChanges: which one is better?</title><meta property="og:image" content="/assets/images/posts/setters-vs-on-changes.png"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/49eb1b3ebd6b716ab8e0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/49eb1b3ebd6b716ab8e0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/c9c2308d7a8cb3179750.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c9c2308d7a8cb3179750.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-8d15616dad332ac01c02.js" defer=""></script><script src="/_next/static/chunks/pages/_app-07b925f548b1372e4199.js" defer=""></script><script src="/_next/static/chunks/947-02bc943179468be89d96.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bcollection%5D/%5Bslug%5D-5f7ae3420636246f9546.js" defer=""></script><script src="/_next/static/fkMXr9SxtC6w7GZP9NWkw/_buildManifest.js" defer=""></script><script src="/_next/static/fkMXr9SxtC6w7GZP9NWkw/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><main><div style="--from:#dd0031b0;--to:#dd0031" class="collection-branding-bar_gradient__1Ie5x"></div><div class="container mx-auto px-5"><div class="flex-row flex justify-between my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div><ul class="flex space-x-8 px-4"><li class="text-gray-700 hover:text-gray-900"><a href="/about">About Me</a></li></ul></div></div><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-8 text-center">Setters vs ngOnChanges: which one is better?</h1><div class="mb-4 flex justify-center"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:24px;height:24px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div><div class="max-w-2xl mx-auto mb-6"><div class="flex flex-row space-x-2 items-center justify-center"><div class="text-sm text-center text-gray-600"><time dateTime="2020-07-30T00:00:00.322Z">July	30, 2020</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500 text-sm">3 min read</span></div></div><div class="mb-8 md:mb-16 sm:mx-0"><div class="w-12/12 md:w-8/12 mx-auto flex justify-center"><div class="sm:mx-0"><img src="/assets/images/posts/setters-vs-on-changes.png" alt="Cover Image for Setters vs ngOnChanges: which one is better?" loading="lazy" class="shadow-small object-contain w-full h-auto"/></div></div></div><div class="max-w-2xl text-xl mx-auto leading-loose"><div class="markdown-styles_markdown__1x9gM"><p>Getting notified about an Angular component's property changes is normally done in 2 ways:</p>
<ul>
<li>adding a setter to the property</li>
<li>using the <code>ngOnChanges</code> lifecycle hook</li>
</ul>
<p>But... is there a best practice?</p>
<p>This discussion recently came up with my colleagues while trying to establish a standard practice in our codebase. We tried to find objective arguments to understand which one is better.</p>
<p>As usual, the answer depends on the scenario.</p>
<h2>Style</h2>
<p>Style is very much a subjective factor, but using a setter is hands-down my favorite approach. Let's take a look at a common scenario:</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> subject$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subject$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>It's succinct, type-safe, and encourages the usage of Observables. Not much to dislike, imho.</p>
<p>But can you <strong>not</strong> add a getter?</p>
<p>Yes. It turns out, Angular does not check the previous value by invoking the getter on the property, but stores its value in its component's logical view.</p>
<p>If you're interested in reading the source code where this happens, <a href="https://github.com/angular/angular/blob/d1ea1f4c7f3358b730b0d94e65b00bc28cae279c/packages/core/src/render3/bindings.ts#L50">check this out</a>.</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnChanges</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> subject$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">ngOnChanges</span><span class="token punctuation">(</span>changes<span class="token operator">:</span> SimpleChanges<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// changes.name.currentValue is typed as `any`</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subject$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>changes<span class="token punctuation">.</span>name<span class="token punctuation">.</span>currentValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The <code>ngOnChanges</code> lifecycle hook, on the contrary, it's not as nice (in my opinion) - and most importantly, is weakly typed.</p>
<p>Also - it's worth to mention that using setters usually takes less code, which is always a good thing.</p>
<h2>Performance</h2>
<p>Does performance change much? At first, we thought that <code>ngOnChanges</code> would be more efficient as being part of Angular's lifecycle hooks, and therefore being aware of when a property changed.</p>
<p>It turns out, though, that Angular <strong>does only change a property when the binding is a new instance</strong>. Of course, we're taking into account the change detection being <code>OnPush</code>.</p>
<p>Performance-wise, according to my tests, there isn't a better way, and shouldn't be a factor when deciding which way to go with.</p>
<h2>Dealing with multiple Inputs</h2>
<p>The situation changes when taking into account changes on multiple inputs:</p>
<div class="remark-highlight"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnChanges</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Input</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> email<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> username$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">ngOnChanges</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> email <span class="token punctuation">}</span><span class="token operator">:</span> SimpleChanges<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> username <span class="token operator">=</span> name<span class="token punctuation">.</span>currentValue <span class="token operator">||</span> email<span class="token punctuation">.</span>currentValue<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>username$<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>In this case, it's fairly straightforward and simpler to receive all the inputs at once.</p>
<p>But because this situation is pretty uncommon, and sometimes a sign of a <em>code-smell</em>, you'll find yourselves wanting to use the setter the majority of the time.</p>
<p>At the end of the day, remember that this decision is always up to you and your team's preferences.</p>
<p><em>Thank you for reading, I hope you enjoyed this article. If you did, consider follow me on <a href="https://twitter.com/gc_psk">Twitter</a> or sign up to the Newsletter using the form below!</em></p>
</div></div></article><div class="w-full md:w-8/12 mx-auto"><script async="" data-uid="3e3126f064" src="https://thoughtful-inventor-7842.ck.page/3e3126f064/index.js"></script></div><div><hr class="border-accent-2 mt-16 mb-14"/><h3 class="text-2xl md:text-3xl text-center font-semibold my-4 md:my-12 flex flex-row space-x-4 items-center justify-center"><span>More Posts for</span> <div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:28px;height:28px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></h3><section><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-x-12 lg:gap-x-16 gap-y-20 md:gap-y-24 mb-32"><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Benchmarking Angular 12 with Webpack 5" href="/angular/2021-14-05-webpack-5-angular12"><img src="/assets/images/posts/benchmarking-webpack-5.png" alt="Cover Image for Benchmarking Angular 12 with Webpack 5" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2021-14-05-webpack-5-angular12">Benchmarking Angular 12 with Webpack 5</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2021-05-14T00:00:00.322Z">May	14, 2021</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Principles for creating libraries with Nx and Angular" href="/angular/2021-07-02-how-to-organize-nx-modules-with-angular"><img src="/assets/images/posts/organize-nx-modules-ngrx.png" alt="Cover Image for Principles for creating libraries with Nx and Angular" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2021-07-02-how-to-organize-nx-modules-with-angular">Principles for creating libraries with Nx and Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2021-02-07T00:00:00.322Z">February	7, 2021</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">5 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Where to put your Angular models?" href="/angular/2020-03-08-angular-where-to-put-models"><img src="/assets/images/posts/where-put-angular-models.png" alt="Cover Image for Where to put your Angular models?" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2020-03-08-angular-where-to-put-models">Where to put your Angular models?</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-08-03T00:00:00.322Z">August	3, 2020</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Using the Intersection Observer API with Angular" href="/angular/2020-08-01-intersection-observer-with-angular"><img src="/assets/images/posts/intersection-observer.png" alt="Cover Image for Using the Intersection Observer API with Angular" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2020-08-01-intersection-observer-with-angular">Using the Intersection Observer API with Angular</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-08-01T00:00:00.322Z">August	1, 2020</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">5 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Async Rendering with a single Rx Operator" href="/angular/2020-11-07-async-rendering-with-a-single-rx-operator"><img src="/assets/images/posts/async-rendering.png" alt="Cover Image for Async Rendering with a single Rx Operator" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2020-11-07-async-rendering-with-a-single-rx-operator">Async Rendering with a single Rx Operator</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2020-07-11T00:00:00.322Z">July	11, 2020</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">3 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Increase your app rendering performance with this simple Rx operator</p></div><div><div class="mb-3"><div class="sm:mx-0"><a aria-label="Building Scalable Multi-Platform Projects with Angular andÂ Nx" href="/angular/2019-08-25-building-scalable-multi-platform-projects-with-angular-and-nx"><img src="https://cdn-images-1.medium.com/max/1600/0*erZf_hQ4V3MLHSyf" alt="Cover Image for Building Scalable Multi-Platform Projects with Angular andÂ Nx" loading="lazy" class="shadow-small object-contain w-full h-auto hover:shadow-medium transition-shadow duration-200"/></a></div></div><h3 class="text-2xl font-bold mb-2 leading-snug"><a class="hover:underline" href="/angular/2019-08-25-building-scalable-multi-platform-projects-with-angular-and-nx">Building Scalable Multi-Platform Projects with Angular andÂ Nx</a></h3><div class="text-xs mb-2 flex flex-row space-x-2 items-center"><div class="text-gray-500"><time dateTime="2019-08-25T00:00:00.322Z">August	25, 2019</time></div><span class="text-gray-500">Â·</span><span class="text-gray-500">9 min read</span><span class="text-gray-500">Â·</span><div class="text-xs"><div class="text-center flex flex-row space-x-2 items-center cursor-pointer collection--angular"><img style="width:16px;height:16px" src="/assets/images/collections/angular.png" alt="angular"/><span class="hover:underline">Angular</span></div></div></div><p class="leading-relaxed mb-4 text-sm">Building a scalable multi-platform monorepo application with Angular and Nx</p></div></div></section></div></div></main></div><footer><div class="container mx-auto px-5"><hr class="border-accent-2 mt-16 mb-14"/><div class="flex-row flex justify-between my-8 md:my-12"><h2 class="font-normal tracking-tight md:tracking-tighter leading-tight"><a class="hover:underline" href="/"><b>GIANCARLO</b>BUOMPRISCO</a></h2><div><ul class="flex space-x-8 px-4"><li class="text-gray-700 hover:text-gray-900"><a href="/about">About Me</a></li></ul></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"2020-07-30-setters-vs-ng-on-changes","content":"\u003cp\u003eGetting notified about an Angular component's property changes is normally done in 2 ways:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eadding a setter to the property\u003c/li\u003e\n\u003cli\u003eusing the \u003ccode\u003engOnChanges\u003c/code\u003e lifecycle hook\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eBut... is there a best practice?\u003c/p\u003e\n\u003cp\u003eThis discussion recently came up with my colleagues while trying to establish a standard practice in our codebase. We tried to find objective arguments to understand which one is better.\u003c/p\u003e\n\u003cp\u003eAs usual, the answer depends on the scenario.\u003c/p\u003e\n\u003ch2\u003eStyle\u003c/h2\u003e\n\u003cp\u003eStyle is very much a subjective factor, but using a setter is hands-down my favorite approach. Let's take a look at a common scenario:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyComponent\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e subject$ \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSubject\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eInput\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eset\u003c/span\u003e \u003cspan class=\"token function\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ename\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esubject$\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIt's succinct, type-safe, and encourages the usage of Observables. Not much to dislike, imho.\u003c/p\u003e\n\u003cp\u003eBut can you \u003cstrong\u003enot\u003c/strong\u003e add a getter?\u003c/p\u003e\n\u003cp\u003eYes. It turns out, Angular does not check the previous value by invoking the getter on the property, but stores its value in its component's logical view.\u003c/p\u003e\n\u003cp\u003eIf you're interested in reading the source code where this happens, \u003ca href=\"https://github.com/angular/angular/blob/d1ea1f4c7f3358b730b0d94e65b00bc28cae279c/packages/core/src/render3/bindings.ts#L50\"\u003echeck this out\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyComponent\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOnChanges\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eInput\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e subject$ \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSubject\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token function\"\u003engOnChanges\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003echanges\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e SimpleChanges\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// changes.name.currentValue is typed as `any`\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003esubject$\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003echanges\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ename\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrentValue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThe \u003ccode\u003engOnChanges\u003c/code\u003e lifecycle hook, on the contrary, it's not as nice (in my opinion) - and most importantly, is weakly typed.\u003c/p\u003e\n\u003cp\u003eAlso - it's worth to mention that using setters usually takes less code, which is always a good thing.\u003c/p\u003e\n\u003ch2\u003ePerformance\u003c/h2\u003e\n\u003cp\u003eDoes performance change much? At first, we thought that \u003ccode\u003engOnChanges\u003c/code\u003e would be more efficient as being part of Angular's lifecycle hooks, and therefore being aware of when a property changed.\u003c/p\u003e\n\u003cp\u003eIt turns out, though, that Angular \u003cstrong\u003edoes only change a property when the binding is a new instance\u003c/strong\u003e. Of course, we're taking into account the change detection being \u003ccode\u003eOnPush\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003ePerformance-wise, according to my tests, there isn't a better way, and shouldn't be a factor when deciding which way to go with.\u003c/p\u003e\n\u003ch2\u003eDealing with multiple Inputs\u003c/h2\u003e\n\u003cp\u003eThe situation changes when taking into account changes on multiple inputs:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMyComponent\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOnChanges\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eInput\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e name\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token decorator\"\u003e\u003cspan class=\"token at operator\"\u003e@\u003c/span\u003e\u003cspan class=\"token function\"\u003eInput\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e email\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e username$ \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSubject\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token function\"\u003engOnChanges\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e name\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e email \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e SimpleChanges\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e username \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e name\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrentValue \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e email\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrentValue\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eusername$\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eusername\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIn this case, it's fairly straightforward and simpler to receive all the inputs at once.\u003c/p\u003e\n\u003cp\u003eBut because this situation is pretty uncommon, and sometimes a sign of a \u003cem\u003ecode-smell\u003c/em\u003e, you'll find yourselves wanting to use the setter the majority of the time.\u003c/p\u003e\n\u003cp\u003eAt the end of the day, remember that this decision is always up to you and your team's preferences.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eThank you for reading, I hope you enjoyed this article. If you did, consider follow me on \u003ca href=\"https://twitter.com/gc_psk\"\u003eTwitter\u003c/a\u003e or sign up to the Newsletter using the form below!\u003c/em\u003e\u003c/p\u003e\n","coverImage":"/assets/images/posts/setters-vs-on-changes.png","collection":"angular"},"morePosts":[{"readingTime":"3 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"2021-14-05-webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.png","collection":"angular","excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version"},{"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"2021-07-02-how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.png","collection":"angular","excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations"},{"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"2020-03-08-angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.png","collection":"angular","excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for"},{"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"2020-08-01-intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.png","collection":"angular","excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page"},{"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"2020-11-07-async-rendering-with-a-single-rx-operator","coverImage":"/assets/images/posts/async-rendering.png","collection":"angular","excerpt":"Increase your app rendering performance with this simple Rx operator"},{"readingTime":"9 min read","title":"Building Scalable Multi-Platform Projects with Angular andÂ Nx","date":"2019-08-25T00:00:00.322Z","slug":"2019-08-25-building-scalable-multi-platform-projects-with-angular-and-nx","ogImage":{"url":"https://cdn-images-1.medium.com/max/1600/0*erZf_hQ4V3MLHSyf"},"coverImage":"https://cdn-images-1.medium.com/max/1600/0*erZf_hQ4V3MLHSyf","collection":"angular","excerpt":"Building a scalable multi-platform monorepo application with Angular and Nx"}]},"__N_SSG":true},"page":"/[collection]/[slug]","query":{"collection":"angular","slug":"2020-07-30-setters-vs-ng-on-changes"},"buildId":"fkMXr9SxtC6w7GZP9NWkw","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-172483071-1"></script><script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-172483071-1');
</script></body></html>