{"pageProps":{"post":{"live":true,"readingTime":"6 min read","title":"3 Ways to Render Large Lists in Angular","date":"2020-05-09T00:00:00.322Z","slug":"three-ways-render-large-lists-angular","coverImage":"https://cdn-images-1.medium.com/max/2560/1*URBd9pgYJGC0vhqthQ-z8g.jpeg","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"An overview of the available techniques to render large lists of items with Angular","content":"\nThis post was originally published, by myself, on the [Bit](https://blog.bitsrc.io) blog\n\nFrameworks in 2020 got better, more efficient and faster. With that said, rendering large lists of items on the Web without causing the Browser to freeze can still be hard even for the fastest frameworks available.\n\nThis is one of the many cases where ‚Äúthe framework is fast, your code is slow‚Äù.\n\nThere are many different techniques that make rendering a large number of items in a non-blocking way for the users. In this article, I want to explore the current techniques available, and which ones are best to use based on particular use-cases.\n\nAlthough this article focuses on how to optimize rendering with Angular, these techniques are actually applicable to other frameworks or simply Vanilla Javascript.\n\nThis article goes in detail about an aspect I talked about in one of my previous articles: rendering too much data.\n[**Top Reasons Why Your Angular App Is Slow**](https://blog.bitsrc.io/top-reasons-why-your-angular-app-is-slow-c36780a0a289)\n\nWe will take a look at the following techniques:\n\n* Virtual Scrolling (using the Angular CDK)\n\n* Manual Rendering\n\n* Progressive Rendering\n\n## 1. Virtual Scrolling\n\nVirtual Scrolling is probably the most efficient way of handling large lists, with a catch. Thanks to the [Angular CDK](https://material.angular.io/cdk/scrolling/overview) and other plugins it is very easy to implement in any component.\n\nThe concept is simple, but the implementation is not always the easiest:\n\n* given a container and a list of items, an item is only rendered if it‚Äôs within the visible boundaries of the container\n\nTo use the CDK‚Äôs Scrolling module, we first need to install the module:\n\n```\nnpm i @angular/cdk\n```\n\nThen, we import the module:\n\n```typescript\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\n@NgModule({\n    // more stuff\n    imports: [ ScrollingModule, ...]\n})\nexport class AppModule {}  \n```\n\nWe can now use the components to use virtual scrolling in our components:\n\n```html\n<cdk-virtual-scroll-viewport itemSize=\"50\">       \n    <div cdkVirtualFor=\"let item of items\">\n        {{ item }}\n    </div>\n</cdk-virtual-scroll-viewport>\n```\n\n[**cdk-virtual-scrolling-2 - StackBlitz**](https://stackblitz.com/edit/cdk-virtual-scrolling-2?embed=1&file=src/app/app.component.ts)\n\nAs you can see, this is extremely easy to use and the results are impressive.The component renders thousands and thousands of items without any problem.\n\nIf Virtual Scrolling is so good and easy to achieve, why bother exploring other techniques? This is something I‚Äôve been wondering too ‚Äî and actually there‚Äôs more than one reason as to why.\n\n* The way it‚Äôs going to work **is very dependent on implementation**: it‚Äôs hard to be able to manage all the possible scenarios with one single implementation.\nFor example, my component depended on the Autocomplete field (built by the same team) and unfortunately, it didn‚Äôt work as expected. **The more complex your items, the more difficult it‚Äôs going to be**.\n\n* Another module, another **big chunk of code added to your app**.\n\n* Accessibility and Usability: the hidden items are not rendered, and therefore won‚Äôt be searchable.\n\nVirtual Scrolling is ideal (when it works) in a number of situations:\n\n* an undefined and possibly enormous list of items (approximately greater than 5k, but it‚Äôs highly dependent on the complexity of each item)\n\n* infinite scrolling of items\n\n## 2. Manual Rendering\n\nOne of the options I‚Äôve tried to speed up a large list of items is manual rendering using Angular‚Äôs API rather than relying on *ngFor.\n\nWe have a simple ngFor loop template:\n\n```html\n<tr \nngFor=\"let item of data; trackBy: trackById; let isEven= even; let isOdd=odd\"\nclass=\"h-12\"\n[class.bg-gray-400]=\"isEven\"\n[class.bg-gray-500]=\"isOdd\"\n>\n    <td>\n        <span class=\"py-2 px-4\">{{ item.id }}</span>\n    </td>\n\n    <td>\n        <span>{{ item.label }}</span>\n    </td>\n\n    <td>\n        <a>\n            <button class=\"py-2 px-4 rounded (click)=\"remove(item)\">x</button>\n        </a>\n    </td>\n</tr>\n```\n\nI‚Äôm using a benchmark inspired by [js-frameworks-benchmark](https://github.com/krausest/js-framework-benchmark) to calculate the rendering of 10000 simple items.\n\nThe first benchmark run was done with a simple, regular *ngFor. Here are the results: scripting took 1099ms and rendering took 1553ms, 3ms painting.\n\n![](https://cdn-images-1.medium.com/max/4146/1*LGYl5iEdCclao9xBwf8OWA.png)\n\nBy using Angular‚Äôs API, we can manually render the items.\n\n```html\n<tbody>\n    <ng-container #itemsContainer></ng-container>\n</tbody>\n\n<ng-template #item let-item=\"item\" let-isEven=\"isEven\">\n    <tr class=\"h-12\"\n            [class.bg-gray-400]=\"isEven\"\n            [class.bg-gray-500]=\"!isEven\"\n        >\n        <td>\n            <span class=\"py-2 px-4\">{{ item.id }}</span>\n        </td>\n\n        <td>\n            <span>{{ item.label }}</span>\n        </td>\n\n        <td>\n            <a>\n                <button class=\"py-2 px-4 rounded\" (click)=\"remove(item)\">x</button>\n            </a>\n        </td>\n    </tr>\n</ng-template>\n```\n\nThe controller‚Äôs code changes in the following way:\n\n* we declare our template and our container\n\n```typescript\n@ViewChild('itemsContainer', { read: ViewContainerRef }) container: ViewContainerRef;\n@ViewChild('item', { read: TemplateRef }) template: TemplateRef<*any*>;\n```\n\n* when we build the data, we also render it using the `ViewContainerRef` `createEmbeddedView` method\n\n```typescript\nprivate buildData(length: number) {\n    const start = this.data.length;\n    const end = start + length;\n\n    for (let n = start; n <= end; n++) {\n        this.container.createEmbeddedView(this.template, {\n            item: {\n            id: n,\n            label: Math.random()\n            },\n            isEven: n % 2 === 0\n        });\n    }\n}\n```\n\nResults show a modest improvement:\n\n* 734ms time spent scripting, 1443 rendering, and 2ms painting\n\n![](https://cdn-images-1.medium.com/max/3604/1*CH1WBRRNITeihGU_GTKtxg.png)\n\nIn practical terms, though, it‚Äôs still super slow! The browser freezes for a few seconds when the button is clicked, delivering a poor user experience to the user.\n\nThis is how it looks like (I‚Äôm moving the mouse to simulate a loading indicator üòÖ):\n\n![](https://cdn-images-1.medium.com/max/4044/1*xk1PjG4TZWoGyaRv52PbeQ.gif)\n\nLet‚Äôs now try *Progressive Rendering* combined with *Manual Rendering*.\n\n## 3. Progressive Rendering\n\nThe concept of progressive rendering is simply to render a subset of items progressively and postpone the rendering of other items in the event loop. This allows the browser to smoothly and progressively render all the items.\n\nThe code below is simply:\n\n* we create an interval running every 10ms and render 500 items at once\n\n* when all items have been rendered, based on the index, we stop the interval and break the loop\n\n```typescript\nprivate buildData(length: number) {\n    const ITEMS_RENDERED_AT_ONCE = 500;\n    const INTERVAL_IN_MS = 10;\n\n    let currentIndex = 0;\n\n    const interval = setInterval(() => {\n    const nextIndex = currentIndex + ITEMS_RENDERED_AT_ONCE;\n\n    for (let n = currentIndex; n <= nextIndex ; n++) {\n        if (n >= length) {\n        clearInterval(interval);\n        break;\n        }\n\n        const context = {\n        item: {\n            id: n,\n            label: Math.random()\n        },\n        isEven: n % 2 === 0\n        };\n\n        this.container.createEmbeddedView(this.template, context);\n    }\n\n    currentIndex += ITEMS_RENDERED_AT_ONCE;\n}, INTERVAL_IN_MS);\n```\n\n\nNotice that the number of items rendered and the interval time **is totally dependent on your circumstances**. For example, if your items are very complex, rendering 500 items at once is certainly going to be very slow.\n\nAs you can see below, the stats look certainly worse:\n\n![](https://cdn-images-1.medium.com/max/6078/1*vvRWsqcSW78AwqdpPQYQMg.png)\n\nWhat‚Äôs not worse though is the user experience. Even though the time it takes to render the list is longer than before, the user can‚Äôt tell. We‚Äôre rendering 500 items at once, and the rendering happens outside of the container boundaries.\n\nSome issues may arise with the container changing its size or scroll position while that happens, so these issues need to be mitigated in a few cases.\n\nLet‚Äôs see how it looks like:\n\n![](https://cdn-images-1.medium.com/max/4044/1*rXyVNesQmRiG2v7nS374Ow.gif)\n\n## Final Words\n\nThe above techniques are certainly useful in some situations and I‚Äôve used them whenever virtual scrolling was not the best option.\n\nWith that said, for the most part, virtual scrolling using a great library like Angular‚Äôs CDK is definitely the best way to tackle large lists.\n\nIf you need any clarifications, or if you think something is unclear or wrong, do please leave a comment!","canonical":"https://blog.bitsrc.io/3-ways-to-render-large-lists-in-angular-9f4dcb9b65","tags":["angular","performance"]},"content":{"compiledSource":"var l=Object.defineProperty,i=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var c=(e,n,s)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,a=(e,n)=>{for(var s in n||(n={}))o.call(n,s)&&c(e,s,n[s]);if(p)for(var s of p(n))m.call(n,s)&&c(e,s,n[s]);return e},r=(e,n)=>i(e,u(n));var N=(e,n)=>{var s={};for(var t in e)o.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&p)for(var t of p(e))n.indexOf(t)<0&&m.call(e,t)&&(s[t]=e[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:e}=t,n=N(t,[\"components\"]);return mdx(MDXLayout,r(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"This post was originally published, by myself, on the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://blog.bitsrc.io\"}),\"Bit\"),\" blog\"),mdx(\"p\",null,\"Frameworks in 2020 got better, more efficient and faster. With that said, rendering large lists of items on the Web without causing the Browser to freeze can still be hard even for the fastest frameworks available.\"),mdx(\"p\",null,\"This is one of the many cases where \\u201Cthe framework is fast, your code is slow\\u201D.\"),mdx(\"p\",null,\"There are many different techniques that make rendering a large number of items in a non-blocking way for the users. In this article, I want to explore the current techniques available, and which ones are best to use based on particular use-cases.\"),mdx(\"p\",null,\"Although this article focuses on how to optimize rendering with Angular, these techniques are actually applicable to other frameworks or simply Vanilla Javascript.\"),mdx(\"p\",null,`This article goes in detail about an aspect I talked about in one of my previous articles: rendering too much data.\n`,mdx(\"a\",a({parentName:\"p\"},{href:\"https://blog.bitsrc.io/top-reasons-why-your-angular-app-is-slow-c36780a0a289\"}),mdx(\"strong\",{parentName:\"a\"},\"Top Reasons Why Your Angular App Is Slow\"))),mdx(\"p\",null,\"We will take a look at the following techniques:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Virtual Scrolling (using the Angular CDK)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Manual Rendering\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Progressive Rendering\"))),mdx(\"h2\",null,\"1. Virtual Scrolling\"),mdx(\"p\",null,\"Virtual Scrolling is probably the most efficient way of handling large lists, with a catch. Thanks to the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://material.angular.io/cdk/scrolling/overview\"}),\"Angular CDK\"),\" and other plugins it is very easy to implement in any component.\"),mdx(\"p\",null,\"The concept is simple, but the implementation is not always the easiest:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"given a container and a list of items, an item is only rendered if it\\u2019s within the visible boundaries of the container\")),mdx(\"p\",null,\"To use the CDK\\u2019s Scrolling module, we first need to install the module:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-unknown\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-unknown\"}),\"npm i @angular/cdk\"))),mdx(\"p\",null,\"Then, we import the module:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" ScrollingModule \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'@angular/cdk/scrolling'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token comment\"}),\"// more stuff\"),`\n    imports`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\" ScrollingModule\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"...\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token class-name\"}),\"AppModule\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`  \n`))),mdx(\"p\",null,\"We can now use the components to use virtual scrolling in our components:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"cdk-virtual-scroll-viewport\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"itemSize\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"50\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`       \n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"div\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"cdkVirtualFor\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"let item of items\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        {{ item }}\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"div\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"cdk-virtual-scroll-viewport\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`))),mdx(\"p\",null,mdx(\"a\",a({parentName:\"p\"},{href:\"https://stackblitz.com/edit/cdk-virtual-scrolling-2?embed=1&file=src/app/app.component.ts\"}),mdx(\"strong\",{parentName:\"a\"},\"cdk-virtual-scrolling-2 - StackBlitz\"))),mdx(\"p\",null,\"As you can see, this is extremely easy to use and the results are impressive.The component renders thousands and thousands of items without any problem.\"),mdx(\"p\",null,\"If Virtual Scrolling is so good and easy to achieve, why bother exploring other techniques? This is something I\\u2019ve been wondering too \\u2014 and actually there\\u2019s more than one reason as to why.\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"The way it\\u2019s going to work \",mdx(\"strong\",{parentName:\"p\"},\"is very dependent on implementation\"),`: it\\u2019s hard to be able to manage all the possible scenarios with one single implementation.\nFor example, my component depended on the Autocomplete field (built by the same team) and unfortunately, it didn\\u2019t work as expected. `,mdx(\"strong\",{parentName:\"p\"},\"The more complex your items, the more difficult it\\u2019s going to be\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Another module, another \",mdx(\"strong\",{parentName:\"p\"},\"big chunk of code added to your app\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Accessibility and Usability: the hidden items are not rendered, and therefore won\\u2019t be searchable.\"))),mdx(\"p\",null,\"Virtual Scrolling is ideal (when it works) in a number of situations:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"an undefined and possibly enormous list of items (approximately greater than 5k, but it\\u2019s highly dependent on the complexity of each item)\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"infinite scrolling of items\"))),mdx(\"h2\",null,\"2. Manual Rendering\"),mdx(\"p\",null,\"One of the options I\\u2019ve tried to speed up a large list of items is manual rendering using Angular\\u2019s API rather than relying on *ngFor.\"),mdx(\"p\",null,\"We have a simple ngFor loop template:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"tr\"),` \n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"ngFor\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"let item of data; trackBy: trackById; let isEven= even; let isOdd=odd\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"h-12\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[class.bg-gray-400]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"isEven\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[class.bg-gray-500]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"isOdd\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n`,mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"span\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"py-2 px-4\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"{{ item.id }}\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"{{ item.label }}\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"a\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"button\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"py-2 px-4 rounded (click)=\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),'remove(item)\"'),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"x\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"button\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"a\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"tr\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`))),mdx(\"p\",null,\"I\\u2019m using a benchmark inspired by \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/krausest/js-framework-benchmark\"}),\"js-frameworks-benchmark\"),\" to calculate the rendering of 10000 simple items.\"),mdx(\"p\",null,\"The first benchmark run was done with a simple, regular *ngFor. Here are the results: scripting took 1099ms and rendering took 1553ms, 3ms painting.\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/4146/1*LGYl5iEdCclao9xBwf8OWA.png\",alt:null}))),mdx(\"p\",null,\"By using Angular\\u2019s API, we can manually render the items.\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"tbody\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"ng-container\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"#itemsContainer\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"ng-container\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"tbody\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"ng-template\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"#item\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"let-item\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"item\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"let-isEven\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"isEven\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"tr\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"h-12\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n            `,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[class.bg-gray-400]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"isEven\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n            `,mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"[class.bg-gray-500]\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"!isEven\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),`\n        `,mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"span\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"py-2 px-4\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"{{ item.id }}\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"{{ item.label }}\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"span\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"a\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"button\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"py-2 px-4 rounded\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"(click)\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"'),\"remove(item)\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),'\"')),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),\"x\",mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"button\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"a\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"td\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"tr\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"</\"),\"ng-template\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\">\")),`\n`))),mdx(\"p\",null,\"The controller\\u2019s code changes in the following way:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"we declare our template and our container\")),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"ViewChild\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'itemsContainer'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" read\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" ViewContainerRef \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" container\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" ViewContainerRef\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"ViewChild\")),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token string\"}),\"'item'\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" read\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" TemplateRef \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" TemplateRef\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"*\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"*\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"when we build the data, we also render it using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"ViewContainerRef\"),\" \",mdx(\"inlineCode\",{parentName:\"li\"},\"createEmbeddedView\"),\" method\")),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"buildData\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"length\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"number\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" start \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"data\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"length\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" end \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" start \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"+\"),\" length\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"for\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"let\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" start\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<=\"),\" end\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),\" n\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"++\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"container\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createEmbeddedView\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n            item`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n            id`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" n\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            label`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Math\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"random\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            isEven`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"%\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"2\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"===\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"0\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Results show a modest improvement:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"734ms time spent scripting, 1443 rendering, and 2ms painting\")),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/3604/1*CH1WBRRNITeihGU_GTKtxg.png\",alt:null}))),mdx(\"p\",null,\"In practical terms, though, it\\u2019s still super slow! The browser freezes for a few seconds when the button is clicked, delivering a poor user experience to the user.\"),mdx(\"p\",null,\"This is how it looks like (I\\u2019m moving the mouse to simulate a loading indicator \\u{1F605}):\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/4044/1*xk1PjG4TZWoGyaRv52PbeQ.gif\",alt:null}))),mdx(\"p\",null,\"Let\\u2019s now try \",mdx(\"em\",{parentName:\"p\"},\"Progressive Rendering\"),\" combined with \",mdx(\"em\",{parentName:\"p\"},\"Manual Rendering\"),\".\"),mdx(\"h2\",null,\"3. Progressive Rendering\"),mdx(\"p\",null,\"The concept of progressive rendering is simply to render a subset of items progressively and postpone the rendering of other items in the event loop. This allows the browser to smoothly and progressively render all the items.\"),mdx(\"p\",null,\"The code below is simply:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"we create an interval running every 10ms and render 500 items at once\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"when all items have been rendered, based on the index, we stop the interval and break the loop\"))),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"private\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"buildData\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"length\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token builtin\"}),\"number\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"ITEMS_RENDERED_AT_ONCE\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"500\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"INTERVAL_IN_MS\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"10\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"let\"),\" currentIndex \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"0\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" interval \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"setInterval\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=>\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" nextIndex \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" currentIndex \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"+\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"ITEMS_RENDERED_AT_ONCE\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"for\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"let\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" currentIndex\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"<=\"),\" nextIndex \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),\" n\",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"++\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"if\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\">=\"),\" length\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"clearInterval\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"interval\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"break\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" context \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        item`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n            id`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" n\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n            label`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Math\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"random\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        isEven`,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" n \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"%\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"2\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"===\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"0\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"container\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"createEmbeddedView\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token keyword\"}),\"this\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),\"template\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" context\",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n\n    currentIndex `,mdx(\"span\",a({parentName:\"code\"},{className:\"token operator\"}),\"+=\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"ITEMS_RENDERED_AT_ONCE\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token constant\"}),\"INTERVAL_IN_MS\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Notice that the number of items rendered and the interval time \",mdx(\"strong\",{parentName:\"p\"},\"is totally dependent on your circumstances\"),\". For example, if your items are very complex, rendering 500 items at once is certainly going to be very slow.\"),mdx(\"p\",null,\"As you can see below, the stats look certainly worse:\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/6078/1*vvRWsqcSW78AwqdpPQYQMg.png\",alt:null}))),mdx(\"p\",null,\"What\\u2019s not worse though is the user experience. Even though the time it takes to render the list is longer than before, the user can\\u2019t tell. We\\u2019re rendering 500 items at once, and the rendering happens outside of the container boundaries.\"),mdx(\"p\",null,\"Some issues may arise with the container changing its size or scroll position while that happens, so these issues need to be mitigated in a few cases.\"),mdx(\"p\",null,\"Let\\u2019s see how it looks like:\"),mdx(\"p\",null,mdx(\"img\",a({parentName:\"p\"},{src:\"https://cdn-images-1.medium.com/max/4044/1*rXyVNesQmRiG2v7nS374Ow.gif\",alt:null}))),mdx(\"h2\",null,\"Final Words\"),mdx(\"p\",null,\"The above techniques are certainly useful in some situations and I\\u2019ve used them whenever virtual scrolling was not the best option.\"),mdx(\"p\",null,\"With that said, for the most part, virtual scrolling using a great library like Angular\\u2019s CDK is definitely the best way to tackle large lists.\"),mdx(\"p\",null,\"If you need any clarifications, or if you think something is unclear or wrong, do please leave a comment!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"series":[],"morePosts":[],"moreArticles":[{"live":true,"readingTime":"2 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version","tags":["angular"]},{"live":true,"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations","tags":["nx","angular"]},{"live":true,"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for","tags":["angular","architecture"]},{"live":true,"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page","tags":["angular","performance"]},{"live":true,"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"setters-vs-ng-on-changes","coverImage":"/assets/images/posts/setters-vs-on-changes.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Listening to Input changes can be done in different ways. But which one should you use?","tags":["angular"]},{"live":true,"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"async-rendering-with-a-single-rx-operator","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Increase your app rendering performance with this simple Rx operator","tags":["angular","rxjs"]}],"type":1},"__N_SSG":true}