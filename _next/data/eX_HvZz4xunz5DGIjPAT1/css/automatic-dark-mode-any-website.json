{"pageProps":{"post":{"live":true,"readingTime":"2 min read","title":"Automatic Dark Mode with one line of CSS","date":"2021-12-18T14:52:20.000Z","slug":"automatic-dark-mode-any-website","collection":{"name":"CSS","primaryColor":"#1672b6","primaryColorLight":"#1672b69e","contrastColor":"#ffffff","logo":"/assets/images/collections/css.webp","slug":"css"},"content":"\nCSS is magic. Fact.\n\nNo, seriously, though. I recently incorporated Cal.com's embed in one of my websites for booking appointments. \n\nThe iframe's content looks great, with one downside: my website has a dark theme, and Cal.com's dark themes are only on paid plans (which I'm hoping to upgrade to as soon as I can).\n\nBut, in the meantime, I had to find a way to style the `iframe` content to blend seamlessly with my page's theme. \n\nAs you may already know, styling iframes is a pain - hence why so many third parties use them so that the host's styles won't interfere with the embedded content.\n\nTo solve this, I found a CSS one-liner that inverts all the colors, resulting in a theme that would probably blow my manual changes out of the water. \n\nIn all honesty, I didn't randomly try this, but I'm sure I read this somewhere on Twitter some time ago, which I recalled (though I wasn't sure it would have worked for content within the iframe).\n\n### Using CSS Filter's to invert your page's colors\n\nFor example, if you want to add a dark theme to your whole page, you can use the following rule:\n\n```css\nhtml {\n  filter: invert(1);\n}\n```\n\nAnd magic! All the page's colors are inverted. In some cases, the results are spectacular.\n\nIf you wanted to use it on an `iframe` so that you could apply the dark theme to the content within, simply add the CSS to the iframe's element:\n\n```html\n<iframe style='filter: invert(1);' src='https://anexternalservice.com/' />\n```\n\nIf you are using Tailwind CSS, you could simply add the class `dark:invert` which will invert the colors only if the selected theme is `dark`:\n\n```html\n<iframe class='dark:invert' src='https://anexternalservice.com/' />\n```\n\n### Demo\n\nTry it on this page! Click the button below:\n\n<button \n  style={{\n    'borderColor': '#000',\n    'borderWidth': '2px',\n  }}\n  className='py-2 px-4'\n  onClick={() => document.firstElementChild.style.filter = document.firstElementChild.style.filter === 'invert(100%)' ? '' : 'invert(100%)'}\n>\n  Click here to toggle Dark Theme\n</button>\n\n### Not Bullet-Proof\n\nOf course, this is a simple approach for simple problems. In my specific case, in which I had nearly no control, it worked great! \n\nHowever, more complex pages may not look as well as you expect. For example, look at the author image above for a simple demonstration. \n\nMy recommendation is to use this when: \n- you need to style elements you have no control over\n- styling simple, individual parts of the page you want to `darkify` automagically\n\nHopefully, you'll find this as helpful as I did! Ciao!\n\n","tags":["CSS","tailwind"],"ogImage":{"url":"/assets/images/posts/automatic-dark-mode-any-website.webp"}},"content":{"compiledSource":"var c=Object.defineProperty,u=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var r=(e,n,t)=>n in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=>{for(var t in n||(n={}))o.call(n,t)&&r(e,t,n[t]);if(p)for(var t of p(n))l.call(n,t)&&r(e,t,n[t]);return e},m=(e,n)=>u(e,N(n));var i=(e,n)=>{var t={};for(var s in e)o.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&p)for(var s of p(e))n.indexOf(s)<0&&l.call(e,s)&&(t[s]=e[s]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:e}=s,n=i(s,[\"components\"]);return mdx(MDXLayout,m(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"CSS is magic. Fact.\"),mdx(\"p\",null,\"No, seriously, though. I recently incorporated Cal.com's embed in one of my websites for booking appointments. \"),mdx(\"p\",null,\"The iframe's content looks great, with one downside: my website has a dark theme, and Cal.com's dark themes are only on paid plans (which I'm hoping to upgrade to as soon as I can).\"),mdx(\"p\",null,\"But, in the meantime, I had to find a way to style the \",mdx(\"inlineCode\",{parentName:\"p\"},\"iframe\"),\" content to blend seamlessly with my page's theme. \"),mdx(\"p\",null,\"As you may already know, styling iframes is a pain - hence why so many third parties use them so that the host's styles won't interfere with the embedded content.\"),mdx(\"p\",null,\"To solve this, I found a CSS one-liner that inverts all the colors, resulting in a theme that would probably blow my manual changes out of the water. \"),mdx(\"p\",null,\"In all honesty, I didn't randomly try this, but I'm sure I read this somewhere on Twitter some time ago, which I recalled (though I wasn't sure it would have worked for content within the iframe).\"),mdx(\"h3\",null,\"Using CSS Filter's to invert your page's colors\"),mdx(\"p\",null,\"For example, if you want to add a dark theme to your whole page, you can use the following rule:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-css\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-css\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token selector\"}),\"html\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"token property\"}),\"filter\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"token function\"}),\"invert\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token number\"}),\"1\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"And magic! All the page's colors are inverted. In some cases, the results are spectacular.\"),mdx(\"p\",null,\"If you wanted to use it on an \",mdx(\"inlineCode\",{parentName:\"p\"},\"iframe\"),\" so that you could apply the dark theme to the content within, simply add the CSS to the iframe's element:\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"iframe\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token special-attr\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"style\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token value css language-css\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token property\"}),\"filter\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token function\"}),\"invert\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token number\"}),\"1\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\";\")),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"))),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"src\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"https://anexternalservice.com/\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\")),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"/>\")),`\n`))),mdx(\"p\",null,\"If you are using Tailwind CSS, you could simply add the class \",mdx(\"inlineCode\",{parentName:\"p\"},\"dark:invert\"),\" which will invert the colors only if the selected theme is \",mdx(\"inlineCode\",{parentName:\"p\"},\"dark\"),\":\"),mdx(\"div\",a({},{className:\"remark-highlight\"}),mdx(\"pre\",a({parentName:\"div\"},{className:\"language-html\"}),mdx(\"code\",a({parentName:\"pre\"},{className:\"language-html\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token tag\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"<\"),\"iframe\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"class\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"dark:invert\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\")),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-name\"}),\"src\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token attr-value\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation attr-equals\"}),\"=\"),mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\"),\"https://anexternalservice.com/\",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"'\")),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"token punctuation\"}),\"/>\")),`\n`))),mdx(\"h3\",null,\"Demo\"),mdx(\"p\",null,\"Try it on this page! Click the button below:\"),mdx(\"button\",{style:{borderColor:\"#000\",borderWidth:\"2px\"},className:\"py-2 px-4\",onClick:()=>document.firstElementChild.style.filter=document.firstElementChild.style.filter===\"invert(100%)\"?\"\":\"invert(100%)\"},\"Click here to toggle Dark Theme\"),mdx(\"h3\",null,\"Not Bullet-Proof\"),mdx(\"p\",null,\"Of course, this is a simple approach for simple problems. In my specific case, in which I had nearly no control, it worked great! \"),mdx(\"p\",null,\"However, more complex pages may not look as well as you expect. For example, look at the author image above for a simple demonstration. \"),mdx(\"p\",null,\"My recommendation is to use this when: \"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"you need to style elements you have no control over\"),mdx(\"li\",{parentName:\"ul\"},\"styling simple, individual parts of the page you want to \",mdx(\"inlineCode\",{parentName:\"li\"},\"darkify\"),\" automagically\")),mdx(\"p\",null,\"Hopefully, you'll find this as helpful as I did! Ciao!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"series":[],"morePosts":[],"moreArticles":[],"type":0},"__N_SSG":true}