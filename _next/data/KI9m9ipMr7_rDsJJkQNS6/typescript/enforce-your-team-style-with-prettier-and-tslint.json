{"pageProps":{"post":{"readingTime":"5 min read","live":true,"title":"Enforce your team coding style with Prettier and TsLint","date":"2019-04-17T00:00:00.322Z","slug":"enforce-your-team-style-with-prettier-and-tslint","content":"<p>A project’s coding style is the first and most noticeable trait that a new senior hire will be looking at while browsing the codebase for the first time. </p>\n<p>On the surface, that’s because it is probably the simplest way to evaluate a codebase at a glance. On a deeper level, that’s because good programmers just simply love tidiness, simplicity and coherence. These three simple aspects will make or break your hire first impression with your project and company as a whole.</p>\n<p>Obviously, while attracting people who will be excited to work on your codebase is important, keeping your codebase clean and coherent goes a long way for a project’s overall longevity and success. </p>\n<p>The list of reasons of why having a clean and consistent codebase is paramount is simply fairly known and documented, but to me these are the most important ones:</p>\n<ul>\n<li>working with a familiar codebase means working faster and better</li>\n<li>having a consistent codebase helps new hires get up to speed faster</li>\n<li>having a consistent codebase makes refactoring and maintenance easier</li>\n<li>…</li>\n</ul>\n<h2>Developer Experience (DX) Matters 🤓</h2>\n<p>Never more than today, developers can enjoy an unparalleled developer experience. Especially in the Front End world, the improvements to DX have been too important to ignore: static checking, conditional typing, smarter IDEs, linters, automated testing frameworks, and so on. </p>\n<p>If there is something that makes a team inefficient and unmotivated, that is definitely a bad DX.</p>\n<p>It is an architect/manager’s job to make DX a critical part of the development processes of a team for a number of reasons:</p>\n<ul>\n<li>keep technology stack clean and performant for the current team, and new hires</li>\n<li>keep team happy and motivated. Your team’s morale is as important as the quality of your product</li>\n</ul>\n<p>While a good DX is a broad and vast topic, what I what to talk about in this article is one of the pillars of good code: coding guidelines. </p>\n<p>While community-wide guidelines are important and serve as a standard indicator of best practices — I tend to give more importance to what a team thinks of a certain style, and not the community as a whole. The team always comes first — but in the same time every decision taken against community standards should be logical and documented. A (good) new hire will eventually question such decisions.</p>\n<p>To me, <strong>coding guidelines are a set of rules every member of the team agrees to follow and respect</strong>. As this is certainly most important in the beginning of a project, the tools available today, like Prettier and TsLint, allow a project to be conformant to a coding guideline at any stage.</p>\n<h2>Prettier + TsLint = tidiness, simplicity &#x26; coherence</h2>\n<p>As I pointed out before, tidiness, simplicity and coherence are 3 things every developer cares about. How do Prettier and TsLint help with that?</p>\n<ul>\n<li>Tidiness: thanks to TsLint rules (or EsLint if you use JS), which are ideally agreed by all your team, developers will be warned when a rule is violated</li>\n<li>Simplicity: by adding Prettier as a pre-commit hook, you remove the responsibility of taking care of certain formatting details from developers, who can instead focus on the stuff that matters</li>\n<li>Coherence: thanks to automatic formatting, all the codebase looks the same, no matter who writes it</li>\n</ul>\n<p>As nowadays most teams use <em>PR</em> and code reviews, another important thing to mention is that, in my experience, most of the comments often regard code-style rather than actual potential mistakes or bugs. This is frustrating, because not only it is time lost to review it, but also to fix it.</p>\n<p>The issue is, code reviewers <strong>should</strong> point those mistakes out, but ideally they <strong>shouldn’t have to</strong>.</p>\n<p>And the only way to avoid time lost on trivial matters, is to having an effortless set-up that takes almost all formatting responsibility from the committers.</p>\n<h3>How to set up Prettier and TsLint ⚙️</h3>\n<p>Setting up Prettier and TsLint is quite straightforward. First of all, we install these two packages:</p>\n<p>npm install --save-dev prettier tslint-config-prettier</p>\n<p>If you kickstarted your project using your framework’s CLI, then you will likely already have created a <em>tslint.json</em> file in your project. If you don’t, create it and simply add the following content:</p>\n<div class=\"remark-highlight\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"tslint:recommended\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"tslint-config-prettier\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>If you instead have do have it already, simply “tslint-config-prettier” to the <em>extends</em> property just like in the above snippet. This is needed in order to make Prettier and TsLint work nicely together.</p>\n<p>After that — it’s time to setup Prettier. In order to create the configuration file, we can use various file formats such as <em>JSON</em>, <em>JS</em>, <em>YAML</em> or <em>TOML</em> — but I like <em>YAML</em>, so go ahead and create a file in your root (i.e. where your <em>package.json</em> is located) and name it _.prettierrc. _</p>\n<p>Here is a simple <em>.prettierrc</em> file with options I tend to use:</p>\n<div class=\"remark-highlight\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">tabWidth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">4</span>\n<span class=\"token key atrule\">singleQuote</span><span class=\"token punctuation\">:</span> _true\n<span class=\"token key atrule\">_bracketSpacing</span><span class=\"token punctuation\">:</span> _true\n<span class=\"token key atrule\">_printWidth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n</code></pre></div>\n<p>For the list of all the available options, head to <a href=\"https://medium.com/r/?url=https%3A%2F%2Fprettier.io%2Fdocs%2Fen%2Foptions.html\">Prettier’s website</a>.</p>\n<p>This is great, but how exactly is this simple? It’s not, so let’s simplify this for your team.</p>\n<p>You have 3 options:</p>\n<ul>\n<li>create a <a href=\"https://medium.com/r/?url=https%3A%2F%2Fprettier.io%2Fdocs%2Fen%2Fprecommit.html\">pre-commit hook</a> as described on Prettier’s website</li>\n<li>set up your IDE (if you use WebStorm <a href=\"https://medium.com/r/?url=https%3A%2F%2Fprettier.io%2Fdocs%2Fen%2Fwebstorm.html\">use a watcher</a>, or if you use VSCode <a href=\"https://medium.com/r/?url=https%3A%2F%2Fprettier.io%2Fdocs%2Fen%2Feditors.html\">use a plugin</a>)</li>\n<li>… something even better, use both! It’s a great feeling for a developer to have the feeling of always committing something correct, but also to have instant feedback of a clean, formatted file.</li>\n</ul>\n<h3>Takeaways ⭐️</h3>\n<ul>\n<li>DX is important — make sure your team is happy</li>\n<li>Coding style is important — make sure your whole team agrees with it</li>\n<li>Use Prettier and TsLint (or EsLint) for working better and faster</li>\n</ul>\n","coverImage":"/assets/images/posts/enforce-team-coding-style.gif","collection":"typescript"},"series":[],"morePosts":[{"readingTime":"2 min read","live":true,"title":"Better code with Typescript aliases","date":"2020-07-26T00:00:00.322Z","slug":"better-code-with-typescript-aliases","coverImage":"/assets/images/posts/typescript-aliases.webp","collection":"typescript"},{"readingTime":"2 min read","live":true,"title":"Build Typescript libraries for the browser with Nx","date":"2020-07-25T00:00:00.322Z","slug":"build-typescript-libraries-for-the-browser-with-nx","coverImage":"/assets/images/posts/typescript-libraries-with-nx.webp","collection":"typescript","excerpt":"This article shows how to set up your Webpack configuration to build Typescript libraries with Nx"},{"readingTime":"10 min read","live":true,"title":"Writing scalable Typescript","date":"2019-04-05T00:00:00.322Z","slug":"writing-scalabale-typescript","coverImage":"/assets/images/posts/writing-scalable-typescript.jpeg","collection":"typescript","excerpt":"Let’s explore in detail how to write clean, safe, enterprise-grade Typescript code"}]},"__N_SSG":true}