{"pageProps":{"post":{"live":true,"readingTime":"8 min read","title":"Understanding Angular Modules","date":"2019-04-29T00:00:00.322Z","slug":"understanding-angular-modules","coverImage":"/assets/images/posts/understanding-angular-modules.jpeg","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"A quick but comprehensive guide for understanding the different types of Angular Modules","content":"\nUnderstanding the different types of [Angular modules](https://angular.io/guide/module-types) is a key factor for architecting or refactoring an application.\n\nThe concept of Angular modules has matured since they were first introduced in the framework in a late RC release.\n\nBut as years have passed, both the Angular team and the community have come up with guidelines that explain what the different types of modules are, and what they are for.\n\n## Anatomy of an Angular Module\n\nAngular modules are made of a simple set of properties and one lifecycle hook. In order to fully understand modules, we want to first inspect each property and what they are for.\n\nLet’s have an overview of the _NgModule_ interface:\n\n```typescript\nexport interface NgModule {\n    providers?: Provider[];\n    declarations?: Array<Type<any> | any[]>;\n    imports?: Array<Type<any> | ModuleWithProviders<{}> | any[]>;\n    exports?: Array<Type<any> | any[]>;\n    entryComponents?: Array<Type<any> | any[]>;\n    bootstrap?: Array<Type<any> | any[]>;\n    id?: string;\n    schemas?: Array<SchemaMetadata | any[]>;\n    jit?: true;\n}\n```\n\n### Declarations\n\nMaybe the simplest and most used property, we use the _declarations_ array for importing _components_, _directives,_ and _pipes_.\n\n### Providers\n\nAnother commonly known property, we use the array providers for defining services that have been decorated with the _Injectable_ decorator, which makes them accessible via the Angular DI.\n\n### Imports\n\nWe use the _imports_ array for importing other modules.\n\n### Exports\n\nBy default, everything defined in a module is private_. Exports_ is an array that allows the declarations and the declarations within a module accessible from the modules that import the module where these are defined.\n\n### EntryComponents\n\nEntryComponents specifies the list of components compiled when the module is bootstrapped. These components are not components defined in a template but are normally loaded imperatively, for example using _ViewContainerRef.createComponent()._\n\nAn example is routing components, but the framework adds them to _entryComponents_ automatically.\n\n### Bootstrap\n\nBootstrap also specifies components compiled when the module is bootstrapped and automatically adds them to _entryComponents._\n\n### Id\n\nA name that identifies the module\n\n### Schemas\n\nThe allowed values for this property are NO\\_ERRORS\\_SCHEMA or CUSTOM\\_ELEMENTS\\_SCHEMA that you may want to use when using, for instance, a web component.\n\nI recommend using this with care, as components that you may have left undefined will not throw an error.\n\nIt’s something that can be normally used when testing when you do not want to test components you haven’t defined in the module. But always use being aware of what is actually being skipped by the compiler.\n\n### JIT\n\nThis property will make the framework always compile the module using JIT rather than AOT.\n\n* * *\n\nBefore we start diving into each of them, let’s first say that we have 5 different types of modules:\n\n*   Domain Modules\n*   Routed Modules\n*   Routing Modules\n*   Service Modules\n*   Widget Modules\n\nTo these, I feel like we need to also mention 3 _extra_ modules_: AppModule, AppServerModule,_ and _SharedModule_.\n\n## AppModule\n\nLet’s start with the most common module you’ll see, the so-called _AppModule_.\n\nAppModule, also often referred to as the root module, is the module responsible for bootstrapping the whole application, that means we need to import into the AppModule all the modules and providers that are required for running the application.\n\nThis module usually imports core Angular modules, shared modules, domain modules, service modules, and _AppRoutingModule_ (the root routing module which we will introduce later).\n\nAlso, it bootstraps the root component, usually called _AppComponent_.\n\n```typescript\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n    ],\n    imports: [\n        BrowserModule,\n        AppRoutingModule,\n        HttpClientModule,\n        FormsModule,\n        ReactiveFormsModule,\n    ],\n    providers: [],\n    bootstrap: [AppComponent],\n    exports: []\n})\nexport class AppModule {\n}\n```\n\nRemember, anything that can be lazy-loaded should not be imported in this module. That means — if we only need a service contained in a module in a lazy-loaded route, **we only import it in that route’s module**.\n\n### Checklist\n\n*   declares and bootstraps only root component (mandatory)\n*   imports other modules (Angular modules, domain modules, _SharedModule_)\n*   can declare providers\n*   doesn’t export anything\n\n## AppServerModule\n\nAppServerModule is only used if you’re using server-side rendering for your app.\n\nI would have called it the server counterpart of _AppModule,_ but the [Angular documentation](https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Funiversal) has probably a better definition for it:\n\n> _It’s the bridge between the Universal server-side renderer and the Angular application_.\n\n## SharedModule\n\nA _SharedModule_ is a module responsible for hosting all shared entities that will be provided to every module of the application.\n\nA _SharedModule_ is usually made up of entities that are shared across different modules within a project — but aren’t normally needed outside of it.\n\nIt’s important to understand what should be built in a SharedModule and what should be built in a library: when you find that services or components can be reused across different teams and projects and that ideally don’t change very often, you may want to build an _Angular Library_ instead than hosting your files locally.\n\nThe _SharedModule_ is normally imported by _AppModule_.\n\nA more in-depth explanation about this can be found in my previous article for [creating enterprise-grade project structures](https://medium.com/r/?url=https%3A%2F%2Fitnext.io%2Fbuilding-an-enterprise-grade-angular-project-structure-f5be32533ba3).\n\n## Domain Modules\n\nDomain modules are module pertaining features of your application. For instance, e-commerce apps may contain the following domain modules:\n\n*   Shopping cart — that exports _shopping-cart.component.ts_\n*   Check-out that — exports _check-out.component.ts_\n*   Product detail view — that exports _product-detail-view.component.ts_\n\nDepending on the complexity of a module, which is up to you to evaluate, a domain module can be broken down into smaller domain modules.\n\nFor instance, the Product detail view module could import smaller modules such as product comments, product description, or product reviews.\n\nThis does make sense when each module is a complex collection of components, or if you think that in the future a certain component will be more and more complex.\n\n### Checklist\n\nDomain modules:\n\n*   only export the top component\n*   rarely declare providers\n*   can be imported by AppModule or other Domain modules\n\n## Routing Modules\n\nRouting modules are responsible for declaring the routes of a domain module (including AppModule), passing the configuration to the module, and for defining guards and resolvers services. This also includes referencing the modules that will load lazy-loaded routes that we will show in the next section.\n\nLet’s see an example of a Routing module for a profile page domain module:\n\n```typescript\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Route, RouterModule } from '@angular/router';\n\n// top component\nimport { ProfilePageComponent } from './profile-page/profile-page.component';\n\nconst route: Route = {\n    component: ProfilePageComponent,\n    path: ''\n};\n\n@NgModule({\n    declarations: [ProfilePageComponent],\n    imports: [\n        CommonModule,\n        RouterModule.forChild([route]),\n    ],\n    providers: [],\n    exports: [RouterModule]\n})\nexport class ProfilePageModule {}\n```\n\nDifference between AppRoutingModule and Children Routing Modules:\n\n*   AppRoutingModule will define routes using the _forRoot_ property on RouterModule, while all others should use the property _forChild._ As you can see in the example above_, we’re using forChild_\n\n### Checklist\n\nRouting Modules:\n\n*   import the routing configuration with _forRoot_ or _forChild_\n*   can declare resolvers and guards as providers — and not any other service\n*   always export _RouterModule_\n*   do not declare anything\n\n## Routed Modules\n\nRouted modules are very simply defined as the modules hosting a lazy-loaded route, which are referenced by a _Routing Module_ imported by a _Domain Module_ or _AppModule_. Let’s see a simple example:\n\nWe first define a routed module for the lazy-loaded route _ProfilePage_ called _ProfilePageModule:_\n\nAnd then we reference (rather than import) ProfilePageModule in the module _AppRoutingModule_:\n\n```typescript\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: 'profile-page',\n        loadChildren: './profile-page/profile-page.module#ProfilePageModule'\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes)],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n```\n\nAlways make sure the path to your module is correct, and that the name of the module is exactly the same as the one referenced in the path. Also, watch out for the extension: as you can see in the example above, it’s omitted.\n\n### Checklist\n\nRouted modules:\n\n*   can declare components, pipes, and directives\n*   rarely declares providers\n*   exports _RouterModule_\n*   are never imported! Importing it won’t make it lazy-loaded. It is, instead, referenced by the relative routing module\n\n## Service Modules\n\nAs the name suggests, Service modules are modules that only define services. Good examples of these are _HttpClientModule._\n\nThey are normally useful in a variety of situations:\n\n*   only handling logic without any references to UI that leads to highly-reusable pieces of logic that can be used by different domain modules\n*   messaging\n*   state management\n\n### Checklist\n\nService modules:\n\n*   only define providers\n*   are imported by Domain Modules\n\n## Widget Modules\n\nWidgets Modules are modules that collect and export declarations. An example of _WidgetModule_ is 3rd party UI libraries that provide components and directives.\n\nIf you or your company are building a UI library, it can probably be classified as such.\n\n### Checklist\n\nWidget modules:\n\n*   only declare declarations\n*   rarely have providers\n*   only export declarations\n*   are imported by Domain Modules\n\n### Signs you may need a _Widget Module_:\n\n*   declarations are highly reusable\n*   declarations are not specific to any domain module\n*   a component is not a container\n\n## Final Words\n\nAs the community keeps growing and getting more expert at writing Angular applications, I believe it’s still possible that the list of module types can be different or expand in the future.\n\nEven if you do not remember all the rules, ask yourself these questions when writing a module which will help you architect modules according to the guidelines:\n\n*   should this particular component/service be imported? \n*   should these declarations be private/public?\n*   should these declarations be part of a separate Widget Module?\n*   should these services be defined here, or should they live in a Service Module?\n*   should this group of components be a smaller domain module?\n\nAs always, my recommendation is to keep architecture matters a team issue, and not a one-man issue. \n\nBy asking and following these questions, you also provide your team with a clear guideline to follow, which should also result in a smooth and consistent way that the whole team can understand and abides by.\n","tags":["angular"]},"content":{"compiledSource":"var i=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var m=(a,n,t)=>n in a?i(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))p.call(n,t)&&m(a,t,n[t]);if(s)for(var t of s(n))r.call(n,t)&&m(a,t,n[t]);return a},c=(a,n)=>d(a,u(n));var l=(a,n)=>{var t={};for(var o in a)p.call(a,o)&&n.indexOf(o)<0&&(t[o]=a[o]);if(a!=null&&s)for(var o of s(a))n.indexOf(o)<0&&r.call(a,o)&&(t[o]=a[o]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var o=t,{components:a}=o,n=l(o,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Understanding the different types of \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://angular.io/guide/module-types\"}),\"Angular modules\"),\" is a key factor for architecting or refactoring an application.\"),mdx(\"p\",null,\"The concept of Angular modules has matured since they were first introduced in the framework in a late RC release.\"),mdx(\"p\",null,\"But as years have passed, both the Angular team and the community have come up with guidelines that explain what the different types of modules are, and what they are for.\"),mdx(\"h2\",null,\"Anatomy of an Angular\\xA0Module\"),mdx(\"p\",null,\"Angular modules are made of a simple set of properties and one lifecycle hook. In order to fully understand modules, we want to first inspect each property and what they are for.\"),mdx(\"p\",null,\"Let\\u2019s have an overview of the \",mdx(\"em\",{parentName:\"p\"},\"NgModule\"),\" interface:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"interface\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"NgModule\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    providers`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Provider\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    declarations`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"Type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    imports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"Type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" ModuleWithProviders\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    exports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"Type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    entryComponents`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"Type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    bootstrap`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"Type\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    id`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"string\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    schemas`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"Array\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"<\"),\"SchemaMetadata \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"|\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token builtin\"}),\"any\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\">\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n    jit`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"?\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"h3\",null,\"Declarations\"),mdx(\"p\",null,\"Maybe the simplest and most used property, we use the \",mdx(\"em\",{parentName:\"p\"},\"declarations\"),\" array for importing \",mdx(\"em\",{parentName:\"p\"},\"components\"),\", \",mdx(\"em\",{parentName:\"p\"},\"directives,\"),\" and \",mdx(\"em\",{parentName:\"p\"},\"pipes\"),\".\"),mdx(\"h3\",null,\"Providers\"),mdx(\"p\",null,\"Another commonly known property, we use the array providers for defining services that have been decorated with the \",mdx(\"em\",{parentName:\"p\"},\"Injectable\"),\" decorator, which makes them accessible via the Angular DI.\"),mdx(\"h3\",null,\"Imports\"),mdx(\"p\",null,\"We use the \",mdx(\"em\",{parentName:\"p\"},\"imports\"),\" array for importing other modules.\"),mdx(\"h3\",null,\"Exports\"),mdx(\"p\",null,\"By default, everything defined in a module is private\",mdx(\"em\",{parentName:\"p\"},\". Exports\"),\" is an array that allows the declarations and the declarations within a module accessible from the modules that import the module where these are defined.\"),mdx(\"h3\",null,\"EntryComponents\"),mdx(\"p\",null,\"EntryComponents specifies the list of components compiled when the module is bootstrapped. These components are not components defined in a template but are normally loaded imperatively, for example using \",mdx(\"em\",{parentName:\"p\"},\"ViewContainerRef.createComponent().\")),mdx(\"p\",null,\"An example is routing components, but the framework adds them to \",mdx(\"em\",{parentName:\"p\"},\"entryComponents\"),\" automatically.\"),mdx(\"h3\",null,\"Bootstrap\"),mdx(\"p\",null,\"Bootstrap also specifies components compiled when the module is bootstrapped and automatically adds them to \",mdx(\"em\",{parentName:\"p\"},\"entryComponents.\")),mdx(\"h3\",null,\"Id\"),mdx(\"p\",null,\"A name that identifies the module\"),mdx(\"h3\",null,\"Schemas\"),mdx(\"p\",null,\"The allowed values for this property are NO\",\"_\",\"ERRORS\",\"_\",\"SCHEMA or CUSTOM\",\"_\",\"ELEMENTS\",\"_\",\"SCHEMA that you may want to use when using, for instance, a web component.\"),mdx(\"p\",null,\"I recommend using this with care, as components that you may have left undefined will not throw an error.\"),mdx(\"p\",null,\"It\\u2019s something that can be normally used when testing when you do not want to test components you haven\\u2019t defined in the module. But always use being aware of what is actually being skipped by the compiler.\"),mdx(\"h3\",null,\"JIT\"),mdx(\"p\",null,\"This property will make the framework always compile the module using JIT rather than AOT.\"),mdx(\"hr\",null),mdx(\"p\",null,\"Before we start diving into each of them, let\\u2019s first say that we have 5 different types of modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Domain Modules\"),mdx(\"li\",{parentName:\"ul\"},\"Routed Modules\"),mdx(\"li\",{parentName:\"ul\"},\"Routing Modules\"),mdx(\"li\",{parentName:\"ul\"},\"Service Modules\"),mdx(\"li\",{parentName:\"ul\"},\"Widget Modules\")),mdx(\"p\",null,\"To these, I feel like we need to also mention 3 \",mdx(\"em\",{parentName:\"p\"},\"extra\"),\" modules\",mdx(\"em\",{parentName:\"p\"},\": AppModule, AppServerModule,\"),\" and \",mdx(\"em\",{parentName:\"p\"},\"SharedModule\"),\".\"),mdx(\"h2\",null,\"AppModule\"),mdx(\"p\",null,\"Let\\u2019s start with the most common module you\\u2019ll see, the so-called \",mdx(\"em\",{parentName:\"p\"},\"AppModule\"),\".\"),mdx(\"p\",null,\"AppModule, also often referred to as the root module, is the module responsible for bootstrapping the whole application, that means we need to import into the AppModule all the modules and providers that are required for running the application.\"),mdx(\"p\",null,\"This module usually imports core Angular modules, shared modules, domain modules, service modules, and \",mdx(\"em\",{parentName:\"p\"},\"AppRoutingModule\"),\" (the root routing module which we will introduce later).\"),mdx(\"p\",null,\"Also, it bootstraps the root component, usually called \",mdx(\"em\",{parentName:\"p\"},\"AppComponent\"),\".\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" BrowserModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/platform-browser'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" NgModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/core'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" FormsModule\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" ReactiveFormsModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/forms'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" HttpClientModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/common/http'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" AppRoutingModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'./app-routing.module'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" AppComponent \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'./app.component'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    declarations`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n        AppComponent`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    imports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n        BrowserModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        AppRoutingModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        HttpClientModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        FormsModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        ReactiveFormsModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    providers`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    bootstrap`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"AppComponent\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    exports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"AppModule\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Remember, anything that can be lazy-loaded should not be imported in this module. That means\\u200A\\u2014\\u200Aif we only need a service contained in a module in a lazy-loaded route, \",mdx(\"strong\",{parentName:\"p\"},\"we only import it in that route\\u2019s module\"),\".\"),mdx(\"h3\",null,\"Checklist\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"declares and bootstraps only root component (mandatory)\"),mdx(\"li\",{parentName:\"ul\"},\"imports other modules (Angular modules, domain modules, \",mdx(\"em\",{parentName:\"li\"},\"SharedModule\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"can declare providers\"),mdx(\"li\",{parentName:\"ul\"},\"doesn\\u2019t export anything\")),mdx(\"h2\",null,\"AppServerModule\"),mdx(\"p\",null,\"AppServerModule is only used if you\\u2019re using server-side rendering for your app.\"),mdx(\"p\",null,\"I would have called it the server counterpart of \",mdx(\"em\",{parentName:\"p\"},\"AppModule,\"),\" but the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://medium.com/r/?url=https%3A%2F%2Fangular.io%2Fguide%2Funiversal\"}),\"Angular documentation\"),\" has probably a better definition for it:\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"em\",{parentName:\"p\"},\"It\\u2019s the bridge between the Universal server-side renderer and the Angular application\"),\".\")),mdx(\"h2\",null,\"SharedModule\"),mdx(\"p\",null,\"A \",mdx(\"em\",{parentName:\"p\"},\"SharedModule\"),\" is a module responsible for hosting all shared entities that will be provided to every module of the application.\"),mdx(\"p\",null,\"A \",mdx(\"em\",{parentName:\"p\"},\"SharedModule\"),\" is usually made up of entities that are shared across different modules within a project\\u200A\\u2014\\u200Abut aren\\u2019t normally needed outside of it.\"),mdx(\"p\",null,\"It\\u2019s important to understand what should be built in a SharedModule and what should be built in a library: when you find that services or components can be reused across different teams and projects and that ideally don\\u2019t change very often, you may want to build an \",mdx(\"em\",{parentName:\"p\"},\"Angular Library\"),\" instead than hosting your files locally.\"),mdx(\"p\",null,\"The \",mdx(\"em\",{parentName:\"p\"},\"SharedModule\"),\" is normally imported by \",mdx(\"em\",{parentName:\"p\"},\"AppModule\"),\".\"),mdx(\"p\",null,\"A more in-depth explanation about this can be found in my previous article for \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://medium.com/r/?url=https%3A%2F%2Fitnext.io%2Fbuilding-an-enterprise-grade-angular-project-structure-f5be32533ba3\"}),\"creating enterprise-grade project structures\"),\".\"),mdx(\"h2\",null,\"Domain Modules\"),mdx(\"p\",null,\"Domain modules are module pertaining features of your application. For instance, e-commerce apps may contain the following domain modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Shopping cart\\u200A\\u2014\\u200Athat exports \",mdx(\"em\",{parentName:\"li\"},\"shopping-cart.component.ts\")),mdx(\"li\",{parentName:\"ul\"},\"Check-out that\\u200A\\u2014\\u200Aexports \",mdx(\"em\",{parentName:\"li\"},\"check-out.component.ts\")),mdx(\"li\",{parentName:\"ul\"},\"Product detail view\\u200A\\u2014\\u200Athat exports \",mdx(\"em\",{parentName:\"li\"},\"product-detail-view.component.ts\"))),mdx(\"p\",null,\"Depending on the complexity of a module, which is up to you to evaluate, a domain module can be broken down into smaller domain modules.\"),mdx(\"p\",null,\"For instance, the Product detail view module could import smaller modules such as product comments, product description, or product reviews.\"),mdx(\"p\",null,\"This does make sense when each module is a complex collection of components, or if you think that in the future a certain component will be more and more complex.\"),mdx(\"h3\",null,\"Checklist\"),mdx(\"p\",null,\"Domain modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"only export the top component\"),mdx(\"li\",{parentName:\"ul\"},\"rarely declare providers\"),mdx(\"li\",{parentName:\"ul\"},\"can be imported by AppModule or other Domain modules\")),mdx(\"h2\",null,\"Routing Modules\"),mdx(\"p\",null,\"Routing modules are responsible for declaring the routes of a domain module (including AppModule), passing the configuration to the module, and for defining guards and resolvers services. This also includes referencing the modules that will load lazy-loaded routes that we will show in the next section.\"),mdx(\"p\",null,\"Let\\u2019s see an example of a Routing module for a profile page domain module:\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" NgModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/core'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" CommonModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/common'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" Route\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" RouterModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/router'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// top component\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" ProfilePageComponent \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'./profile-page/profile-page.component'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" route\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Route \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    component`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" ProfilePageComponent\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    path`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"''\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    declarations`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"ProfilePageComponent\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    imports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n        CommonModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        RouterModule`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"forChild\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"route\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    providers`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    exports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"ProfilePageModule\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Difference between AppRoutingModule and Children Routing Modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"AppRoutingModule will define routes using the \",mdx(\"em\",{parentName:\"li\"},\"forRoot\"),\" property on RouterModule, while all others should use the property \",mdx(\"em\",{parentName:\"li\"},\"forChild.\"),\" As you can see in the example above\",mdx(\"em\",{parentName:\"li\"},\", we\\u2019re using forChild\"))),mdx(\"h3\",null,\"Checklist\"),mdx(\"p\",null,\"Routing Modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"import the routing configuration with \",mdx(\"em\",{parentName:\"li\"},\"forRoot\"),\" or \",mdx(\"em\",{parentName:\"li\"},\"forChild\")),mdx(\"li\",{parentName:\"ul\"},\"can declare resolvers and guards as providers\\u200A\\u2014\\u200Aand not any other service\"),mdx(\"li\",{parentName:\"ul\"},\"always export \",mdx(\"em\",{parentName:\"li\"},\"RouterModule\")),mdx(\"li\",{parentName:\"ul\"},\"do not declare anything\")),mdx(\"h2\",null,\"Routed Modules\"),mdx(\"p\",null,\"Routed modules are very simply defined as the modules hosting a lazy-loaded route, which are referenced by a \",mdx(\"em\",{parentName:\"p\"},\"Routing Module\"),\" imported by a \",mdx(\"em\",{parentName:\"p\"},\"Domain Module\"),\" or \",mdx(\"em\",{parentName:\"p\"},\"AppModule\"),\". Let\\u2019s see a simple example:\"),mdx(\"p\",null,\"We first define a routed module for the lazy-loaded route \",mdx(\"em\",{parentName:\"p\"},\"ProfilePage\"),\" called \",mdx(\"em\",{parentName:\"p\"},\"ProfilePageModule:\")),mdx(\"p\",null,\"And then we reference (rather than import) ProfilePageModule in the module \",mdx(\"em\",{parentName:\"p\"},\"AppRoutingModule\"),\":\"),mdx(\"div\",e({},{className:\"remark-highlight\"}),mdx(\"pre\",e({parentName:\"div\"},{className:\"language-typescript\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-typescript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" NgModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/core'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"import\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),\" Routes\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" RouterModule \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"from\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'@angular/router'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"const\"),\" routes\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Routes \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n        path`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'profile-page'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n        loadChildren`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'./profile-page/profile-page.module#ProfilePageModule'\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token decorator\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token at operator\"}),\"@\"),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"NgModule\")),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n    imports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token function\"}),\"forRoot\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),\"routes\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n    exports`,mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"RouterModule\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"export\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"class\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token class-name\"}),\"AppRoutingModule\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"p\",null,\"Always make sure the path to your module is correct, and that the name of the module is exactly the same as the one referenced in the path. Also, watch out for the extension: as you can see in the example above, it\\u2019s omitted.\"),mdx(\"h3\",null,\"Checklist\"),mdx(\"p\",null,\"Routed modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"can declare components, pipes, and directives\"),mdx(\"li\",{parentName:\"ul\"},\"rarely declares providers\"),mdx(\"li\",{parentName:\"ul\"},\"exports \",mdx(\"em\",{parentName:\"li\"},\"RouterModule\")),mdx(\"li\",{parentName:\"ul\"},\"are never imported! Importing it won\\u2019t make it lazy-loaded. It is, instead, referenced by the relative routing module\")),mdx(\"h2\",null,\"Service Modules\"),mdx(\"p\",null,\"As the name suggests, Service modules are modules that only define services. Good examples of these are \",mdx(\"em\",{parentName:\"p\"},\"HttpClientModule.\")),mdx(\"p\",null,\"They are normally useful in a variety of situations:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"only handling logic without any references to UI that leads to highly-reusable pieces of logic that can be used by different domain modules\"),mdx(\"li\",{parentName:\"ul\"},\"messaging\"),mdx(\"li\",{parentName:\"ul\"},\"state management\")),mdx(\"h3\",null,\"Checklist\"),mdx(\"p\",null,\"Service modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"only define providers\"),mdx(\"li\",{parentName:\"ul\"},\"are imported by Domain Modules\")),mdx(\"h2\",null,\"Widget Modules\"),mdx(\"p\",null,\"Widgets Modules are modules that collect and export declarations. An example of \",mdx(\"em\",{parentName:\"p\"},\"WidgetModule\"),\" is 3rd party UI libraries that provide components and directives.\"),mdx(\"p\",null,\"If you or your company are building a UI library, it can probably be classified as such.\"),mdx(\"h3\",null,\"Checklist\"),mdx(\"p\",null,\"Widget modules:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"only declare declarations\"),mdx(\"li\",{parentName:\"ul\"},\"rarely have providers\"),mdx(\"li\",{parentName:\"ul\"},\"only export declarations\"),mdx(\"li\",{parentName:\"ul\"},\"are imported by Domain Modules\")),mdx(\"h3\",null,\"Signs you may need a \",mdx(\"em\",{parentName:\"h3\"},\"Widget\\xA0Module\"),\":\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"declarations are highly reusable\"),mdx(\"li\",{parentName:\"ul\"},\"declarations are not specific to any domain module\"),mdx(\"li\",{parentName:\"ul\"},\"a component is not a container\")),mdx(\"h2\",null,\"Final Words\"),mdx(\"p\",null,\"As the community keeps growing and getting more expert at writing Angular applications, I believe it\\u2019s still possible that the list of module types can be different or expand in the future.\"),mdx(\"p\",null,\"Even if you do not remember all the rules, ask yourself these questions when writing a module which will help you architect modules according to the guidelines:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"should this particular component/service be imported?\\xA0\"),mdx(\"li\",{parentName:\"ul\"},\"should these declarations be private/public?\"),mdx(\"li\",{parentName:\"ul\"},\"should these declarations be part of a separate Widget Module?\"),mdx(\"li\",{parentName:\"ul\"},\"should these services be defined here, or should they live in a Service Module?\"),mdx(\"li\",{parentName:\"ul\"},\"should this group of components be a smaller domain module?\")),mdx(\"p\",null,\"As always, my recommendation is to keep architecture matters a team issue, and not a one-man issue.\\xA0\"),mdx(\"p\",null,\"By asking and following these questions, you also provide your team with a clear guideline to follow, which should also result in a smooth and consistent way that the whole team can understand and abides by.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"series":[],"morePosts":[],"moreArticles":[{"live":true,"readingTime":"2 min read","title":"Benchmarking Angular 12 with Webpack 5","date":"2021-05-14T00:00:00.322Z","slug":"webpack-5-angular12","coverImage":"/assets/images/posts/benchmarking-webpack-5.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Angular 12 has been released and with it the much awaited Webpack 5 upgrade. In this post I benchmarked the bundle-size and compilation speed against the previous version","tags":["angular"]},{"live":true,"readingTime":"5 min read","title":"Principles for creating libraries with Nx and Angular","date":"2021-02-07T00:00:00.322Z","slug":"how-to-organize-nx-modules-with-angular","coverImage":"/assets/images/posts/organize-nx-modules-ngrx.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Working with Nx may be confusing. This article explains how I create Nx libraries and the principles behind my motivations","tags":["nx","angular"]},{"live":true,"readingTime":"3 min read","title":"Where to put your Angular models?","date":"2020-08-03T00:00:00.322Z","slug":"angular-where-to-put-models","ogImage":{"url":"/assets/images/posts/where-put-angular-models.png"},"coverImage":"/assets/images/posts/where-put-angular-models.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Organizing entities and models in your Angular app may be hard. This article explains where to put your entities and what mistakes to watch out for","tags":["angular","architecture"]},{"live":true,"readingTime":"5 min read","title":"Using the Intersection Observer API with Angular","date":"2020-08-01T00:00:00.322Z","slug":"intersection-observer-with-angular","coverImage":"/assets/images/posts/intersection-observer.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"This article shows how to build a directive with Angular that uses the Intersection Observer API to check when an element becomes visible on the page","tags":["angular","performance"]},{"live":true,"readingTime":"3 min read","title":"Setters vs ngOnChanges: which one is better?","date":"2020-07-30T00:00:00.322Z","slug":"setters-vs-ng-on-changes","coverImage":"/assets/images/posts/setters-vs-on-changes.webp","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Listening to Input changes can be done in different ways. But which one should you use?","tags":["angular"]},{"live":true,"readingTime":"3 min read","title":"Async Rendering with a single Rx Operator","date":"2020-07-11T00:00:00.322Z","slug":"async-rendering-with-a-single-rx-operator","collection":{"name":"Angular","primaryColor":"#e23236","primaryColorLight":"#dd00316e","contrastColor":"#ffffff","logo":"/assets/images/collections/angular.webp","slug":"angular"},"excerpt":"Increase your app rendering performance with this simple Rx operator","tags":["angular","rxjs"]}],"type":1},"__N_SSG":true}